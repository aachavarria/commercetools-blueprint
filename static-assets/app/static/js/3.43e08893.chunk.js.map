{"version":3,"sources":["components/App.js","img/burger.svg","redux/actions/usersActions.js","util/constants.js","util/string.js","redux/actions/productsActions.js","components/ScrollReset.js","components/MainWrapper.js","components/shared/Anchor.js","components/app/Header.js","components/app/Footer.js","components/shared/Alert.js","util/component.js","components/shared/AssertContent.js","components/app/Layout.js","components/shared/form/CheckBox.js","components/shared/form/RadioButton.js","components/shared/range_slider/Range.js","components/app/Facets.js","components/app/Product.js","components/app/ProductsListing.js","components/app/ProductGallery.js","components/app/ProductCard.js","components/app/BlogTeaser.js","components/app/ProductDetails.js","components/app/LogIn.js","components/app/Register.js","components/app/Hero.js","components/app/Features.js","components/app/Testimonials.js","components/app/ContentSideImage.js","components/shared/NotImplemented.js","components/app/ProductTeaser.js","components/app/Home.js","components/app/NotFoundView.js","components/shared/Empty.js","components/app/CartBody.js","components/app/CartView.js","components/app/ProfileSettings.js","components/app/OrderList.js","components/app/AddressCard.js","components/app/Account.js","components/shared/authorized.js","components/app/CheckoutView.js","components/shared/Collapse.js","components/app/OrderDetails.js","components/app/BlogRoll.js","components/app/BlogEntry.js","components/app/Search.js","components/Routes.js","redux/actions/themeActions.js","redux/reducers/themeReducer.js","util/array.js","redux/reducers/contentReducer.js","redux/reducers/usersReducer.js","redux/reducers/productsReducer.js","redux/epics/users.js","redux/epics/content.js","redux/epics/epics.js","redux/epics/products.js","redux/store.js","translations/resources.js","translations/i18n.js","util/redux.js","redux/actions/contentActions.js"],"names":["__webpack_require__","r","__webpack_exports__","module","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_redux__WEBPACK_IMPORTED_MODULE_1__","react_router_dom__WEBPACK_IMPORTED_MODULE_2__","react_i18next__WEBPACK_IMPORTED_MODULE_3__","i18next__WEBPACK_IMPORTED_MODULE_4__","react_hot_loader__WEBPACK_IMPORTED_MODULE_5__","_Routes__WEBPACK_IMPORTED_MODULE_6__","_redux_store__WEBPACK_IMPORTED_MODULE_7__","_ScrollReset__WEBPACK_IMPORTED_MODULE_8__","_translations_i18n__WEBPACK_IMPORTED_MODULE_9__","_MainWrapper__WEBPACK_IMPORTED_MODULE_10__","i18next","init","i18nextConfig","hot","props","useEffect","store","getState","theme","isAuthoring","script","document","createElement","src","setAttribute","head","appendChild","a","i18n","exports","p","d","LOGIN","LOGIN_COMPLETE","LOGIN_FAILED","SET_PERSONA","LOGOUT","LOGOUT_COMPLETE","REGISTRATION_COMPLETE","SUBMIT_REGISTRATION","SUBMIT_REGISTRATION_FAILED","FETCH_ORDERS","FETCH_ORDERS_COMPLETE","FETCH_ORDERS_FAILED","FETCH_ORDER","FETCH_ORDER_COMPLETE","FETCH_ORDER_FAILED","UNAUTHORIZED","SET_LOGIN_REDIRECT","RESET_LOGIN_REDIRECT","ADD_USER_ADDRESS","ADD_USER_ADDRESS_COMPLETE","ADD_USER_ADDRESS_FAILED","EDIT_USER_ADDRESS","EDIT_USER_ADDRESS_COMPLETE","EDIT_USER_ADDRESS_FAILED","REMOVE_USER_ADDRESS","REMOVE_USER_ADDRESS_COMPLETE","REMOVE_USER_ADDRESS_FAILED","SET_USER_ADDRESS_DEFAULTS","SET_USER_ADDRESS_DEFAULTS_COMPLETE","SET_USER_ADDRESS_DEFAULTS_FAILED","submitRegistrationComplete","submitRegistrationFailed","registrationComplete","loginComplete","setPersona","loginFailed","logout","logoutComplete","logoutFailed","fetchOrders","fetchOrdersComplete","fetchOrdersFailed","fetchOrder","fetchOrderComplete","fetchOrderFailed","setLoginRedirect","addAddressComplete","addAddressFailed","editAddressComplete","editAddressFailed","removeAddress","removeAddressComplete","removeAddressFailed","setAddressDefaults","setAddressDefaultsComplete","setAddressDefaultsFailed","LOGOUT_FAILED","SUBMIT_REGISTRATION_COMPLETE","root","type","message","payload","user","persona","response","redirect","id","url","address","Currencies","USD","EUR","capitalize","str","charAt","toUpperCase","substring","toLowerCase","money","amount","currency","concat","parseFloat","toFixed","FETCH_PRODUCTS","FETCH_PRODUCTS_COMPLETE","FETCH_PRODUCTS_FAILED","FETCH_PRODUCT","FETCH_PRODUCT_COMPLETE","FETCH_PRODUCT_FAILED","FETCH_CART","FETCH_CART_COMPLETE","ADD_TO_CART","ADD_TO_CART_COMPLETE","ADD_TO_CART_FAILED","UPDATE_CART","UPDATE_CART_COMPLETE","UPDATE_CART_FAILED","UPDATE_CART_ITEM_QUANTITY","UPDATE_CART_ITEM_QUANTITY_COMPLETE","UPDATE_CART_ITEM_QUANTITY_FAILED","REMOVE_FROM_CART","REMOVE_FROM_CART_COMPLETE","FACETS_CHANGED","KEYWORDS_CHANGED","FETCH_SHIPPING_METHODS","FETCH_SHIPPING_METHODS_COMPLETE","FETCH_SHIPPING_METHODS_FAILED","CHECKOUT","CHECKOUT_COMPLETE","fetchProduct","fetchProductComplete","fetchProductFailed","fetchProducts","fetchProductsComplete","fetchProductsFailed","fetchCart","fetchCartComplete","fetchCartFailed","addToCart","addToCartComplete","addToCartFailed","removeFromCart","removeFromCartComplete","removeFromCartFailed","updateCartItemQuantity","updateCartItemQuantityComplete","updateCartItemQuantityFailed","updateCart","updateCartComplete","updateCartFailed","fetchShippingMethodsComplete","fetchShippingMethodsFailed","checkout","checkoutComplete","checkoutFailed","FETCH_CART_FAILED","REMOVE_FROM_CART_FAILED","CHECKOUT_FAILED","query","cartItem","data","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","memo","withRouter","window","scrollTo","location","pathname","children","classnames__WEBPACK_IMPORTED_MODULE_2__","classnames__WEBPACK_IMPORTED_MODULE_2___default","connect","state","customizer","wrapperClass","classNames","wrapper","squared-corner-theme","squaredCorners","blocks-with-shadow-theme","withBoxShadow","top-navigation","topNavigation","className","Anchor","href","autoTarget","isExternal","find","protocol","includes","Component","Link","resultProps","Object","objectSpread","to","target","react_default","defaultProps","Header","history","useContext","__RouterContext","_useSelector","useSelector","content","users","products","_useState","useState","_useState2","slicedToArray","searchOpen","setSearchOpen","_useState3","keywords","_useState4","setKeywords","_content$header","header","logo_s","logo_alt_t","logo_url_s","nav","Container","Row","Col","md","alt","onClick","querySelector","classList","contains","remove","add","hamburger","map","item","index","key","label","react_router_dom","ShoppingCartIcon_default","setTimeout","getElementById","focus","e","SearchIcon_default","PersonCircleOutlineIcon_default","Popover","placement","isOpen","toggle","PopoverBody","name","value","onChange","onKeyPress","push","placeholder","Footer","footer","section_background_image_s","Alert","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onShow","setState","visible","onDismiss","Icon","_this$props","color","icon","dismiss","InformationOutlineIcon_default","ThumbUpOutlineIcon_default","CommentAlertOutlineIcon_default","CloseCircleOutlineIcon_default","es_Alert","PureComponent","iceRepaintTimeout","getLoginFormDefaults","email","localStorage","getItem","process","rememberMe","useCart","onEmpty","arguments","length","undefined","dispatch","useDispatch","cart","items","useUser","_ref2","onMissing","useContentBranch","ICERepaint","clearTimeout","amplify","publish","useICE","_ref3","modelId","data-studio-ice","data-studio-ice-path","data-studio-ice-label","useCartUpdateInFlight","loading","crafterConf","baseUrl","site","Cookie","get","AssertContent","render","variables","requirements","reqs","required","optional","forEach","req","isDescriptor","checker","getter","isOptional","toBeFetched","filter","byIdLoadingKey","FETCH_GRAPH","vars","fetchGraph","errors","error","console","sm","style","padding","shared_Alert","Spinner","React","Children","child","cloneElement","Layout","_ref","_ref$requirements","shared_AssertContent","toConsumableArray","app_Footer","CheckBox","disabled","checked","CheckboxClass","checkbox-btn","htmlFor","background","borderColor","CheckIcon_default","CloseIcon_default","CheckBoxField","defaultChecked","_this$props2","renderCheckBoxField","input","CheckBox_CheckBoxField","assign","meta","initial","RadioButton","currentValue","classes","defineProperty","radio-btn","RadioButtonField","_PureComponent","_getPrototypeOf2","_len","args","Array","_key","apply","radioValue","inherits","createClass","_this$props3","RadioButtonClass","renderRadioButtonField","RadioButton_RadioButtonField","Range","createSliderWithTooltip","Slider","RangeTheme","min","max","marks","tipFormatter","tipOptions","onAfterChange","defaultValue","tipProps","MultipleSelectionFacet","title","facets","onSelection","facet","SingleSelectionFacet","RangeFacet","Range_RangeTheme","HierarchicalFacets","react","cardigans_n_sweaters","Product","product","variants","rating","colors","variant","attributes","some","price","img","images","description","Fragment","build_default","average","widgetEmptyColors","widgetHoverColors","widgetRatedColors","widgetDimensions","widgetSpacings","Widget","ProductListing","byId","values","inputRef","useRef","queryString","qs","search","facetMeta","list","types","entries","split","reduce","obj","parseInt","fetch","current","app_Layout","Button","outline","contained","dist_default","containerClassName","pageClassName","pageLinkClassName","previousClassName","previousLinkClassName","nextClassName","nextLinkClassName","pageRangeDisplayed","marginPagesDisplayed","activeClassName","initialPage","offset","limit","pageCount","Math","ceil","total","onPageChange","_ref9","nextPage","newQS","nextPageIndex","nextOffset","q","categories","join","onOffsetChanged","selected","disableInitialCallback","previousLabel","ChevronLeftIcon_default","nextLabel","ChevronRightIcon_default","marginBottom","border","ref","onKeywordsChange","facetItem","which","_ref6","collection","_value","_ref7","_ref8","val","onMultipleValueChange","_facet_","_ref4","_ref5","onRangeChange","ProductGallery","_useReducer","useReducer","b","image","currentIndex","lightboxIsOpen","_useReducer2","preventDefault","i","changeImg","react_images_es","onClose","views","isSale","reducer","SubmitReview","isLoggedIn","onSuccess","_useState5","_useState6","setValue","_useState7","_useState8","comments","setComments","_useState9","_useState10","openModal","setOpenModal","_useState11","_useState12","setMessage","toggleOpen","reviews","Modal","text","changeRating","ButtonToolbar","body","JSON","stringify","method","headers","Content-Type","then","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","json","sent","status","stop","_x","VariantSelection","components","options","getVariantLabel","option","react_select_browser_esm","clearable","classNamePrefix","attr","Option","innerProps","isDisabled","backgroundColor","boxShadow","ProductCard","initialState","setImages","setVariant","_useMergeState","productId","variantId","quantity","_useMergeState2","setCartItem","isInCart","updatesInFlight","iVariant","Card","CardBody","app_ProductGallery","nextQuantity","onStock","BlogPostCard","localId","slug_s","title_s","image_s","summary_html_raw","hideSummary","ice","dangerouslySetInnerHTML","__html","BlogTeaser","posts_o","slice","post","lg","ProductDetails","match","params","related","setRelated","sub","unsubscribe","keys","oMap","category","ids","products$","ajax","of","posts$","posts","forkJoin","pipe","prod","subscribe","app_ProductCard","LogInForm","reduxForm","form","showPassword","setShowPassword","setError","meRemembered","querySelectorAll","onSubmit","login","setItem","removeItem","catchError","loginRedirect","AccountOutlineIcon_default","Field","component","KeyVariantIcon_default","EyeIcon_default","LogIn","initialValues","RegisterFormComponent","handleSubmit","MailRuIcon_default","RegisterForm","RegistrationConfirmation","EmailIcon_default","CheckboxMarkedCircleIcon_default","Register","success","registerConfirmPending","Register_RegistrationConfirmation","Hero","title_t","image_alt_t","content_html_raw","buttons_o","backgroundImage","label_s","link_s","Features","features_o","closingContent_html_raw","openingContent_html_raw","width","description_t","icon_s","Testimonials","testimonials_o","customer_s","description_html_raw","stars_i","rel","stars","StarIcon_default","ContentSideImage","contentAlignment_s","image_alt_s","CopyColumn","xs","ImageColumn","NotImplemented","contentType","test","ContentTypeMap","/component/hero","/component/two-column","/component/feature-list","/component/testimonials","/component/blog_teaser","/component/product-teaser","_props$numOfProducts_","numOfProducts_i","setProducts","switchMap","_ref$response","random","display","textAlign","Home","home","age","gender","objectId","withTranslation","t","Empty","CartSummary","Table","responsive","productName","CartBody","displayOptions","showPrice","showTax","showTotal","showRemove","showQuantityModifiers","ButtonGroup","RemoveCircleOutlineIcon_default","AddCircleOutlineIcon_default","unitPrice","taxedPrice","totalPrice","DeleteForeverIcon_default","OrderTotals","sum","shippingPrice","CartView","app_CartBody","ChangePasswordForm","reset","setType","setSuccess","_callee2","_context2","SubmissionError","_error","abrupt","_x2","OrderList","ordersTable","orders","hover","created","modified","shippingStatus","orderStatus","paymentStatus","substr","indexOf","Badge","AddressCard","showName","addressName","firstName","lastName","phone","mobile","fax","streetAddressLineOne","streetAddressLineTwo","city","postalCode","country","AddressForm","onCancel","isEditMode","AddressEntry","addressId","backUrl","origin","useMemo","addresses","AddressSelection","returnUrl","newAddressUrl","authorized","displayName","C","_useContext","wrappedComponentRef","remainingProps","objectWithoutProperties","WrappedComponent","hoistStatics","activeTab","tab","setActiveTab","xl","height","middleName","Nav","tabs","NavItem","NavLink","classnames","active","TabContent","TabPane","tabId","app_ProfileSettings","app_AddressCard","isShippingDefault","isBillingDefault","UncontrolledDropdown","DropdownToggle","ChevronDownIcon_default","DropdownMenu","DropdownItem","onUpdateAddressDefaults","onSetDefaultBilling","onSetDefaultShipping","divider","app_OrderList","cartAddress","_address_","ShippingSelection","selectedValue","CreditCardForm","cardNumber","cvc","expirationDate","nameOnCard","CreditCardIcon_default","minLength","maxLength","CheckoutView","card","shippingAddress","setShippingAddress","billingAddress","setBillingAddress","shippingMethod","setShippingMethod","onAddressSelection","shipping","billing","shippingCondition","billingCondition","methodCondition","checkoutDisabled","small","shippingMethods","_e$target","CollapseComponent","onEntering","MinusIcon_default","onEntered","onExiting","PlusIcon_default","onExited","prevState","collapse","_this$state","Collapse","OrderDetails","order","useOrder","BlogRoll","roll","setRoll","selectedCategory","navItem","blog","categories_o","CategoryListing","KeyboardArrowLeftIcon_default","BlogEntry","slug","bySlug","Post","RelatedPosts","RelatedProducts","author_s","subtitle_s","value_smv","relatedPosts","setRelatedPosts","setItems","floor","ARTICLE","PRODUCT","Search","productResults","setProductResults","contentResults","setContentResults","SearchService","crafterQuery","createQuery","bool","multi_match","content-type","getQuery","totalHits","articles","hits","sourceAsMap","catalog","MagnifyIcon_default","SearchResult","link","preview","content_html","Routes","listen","require","guest","reportNavigation","react_router","exact","path","Account","NotFound404","CHANGE_THEME_TO_DARK","CHANGE_THEME_TO_LIGHT","SET_IS_AUTHORING","CHANGE_BORDER_RADIUS","TOGGLE_BOX_SHADOW","TOGGLE_TOP_NAVIGATION","toLookupTable","array","prop","table","getHeader","getFooter","getHome","sections_o","getPosts","getCategories","locale","FragmentMap","FeatureList","combineEpics","action$","ofType","errorOp","mapOp","state$","withLatestFrom","pluck","isArray","fragments","queryPieces","varSignature","signaturePieces","variable","fetchGraphFailed","fetchGraphComplete","itemId","tap","ignoreElements","mapTo","addAddress","changeAddress","_ref10","defaultBillingAddress","defaultShippingAddress","_ref11","combineReducers","reduxFormReducer","action","removeProp","FETCH_GRAPH_COMPLETE","rootPayload","FETCH_GRAPH_FAILED","getRootType","registration","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","epicMiddleware","createEpicMiddleware","createStore","applyMiddleware","innerHTML","parse","getAttribute","setIsAuthoring","run","rootEpic","resources","en","es","config","interpolation","escapeValue","lng","branch","_Users_rart_Workspace_crafter_craftercms_develop_crafter_authoring_data_repos_sites_sunrise_sandbox_sources_ecommerce_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","fail","replace"],"mappings":"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","file":"static/js/3.43e08893.chunk.js","sourcesContent":["/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useEffect } from 'react';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport { I18nextProvider } from 'react-i18next';\nimport i18next from 'i18next';\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport { hot } from 'react-hot-loader';\nimport Routes from './Routes';\nimport store from '../redux/store';\nimport ScrollReset from './ScrollReset';\nimport { config as i18nextConfig } from '../translations/i18n';\nimport MainWrapper from './MainWrapper';\n\ni18next.init(i18nextConfig);\n\nfunction App(props) {\n\n  useEffect(\n    () => {\n\n      // True if the site is being view via authoring (studio). False if it's the live site\n      const { isAuthoring } = store.getState().theme;\n\n      if (isAuthoring) {\n        const script = document.createElement('script');\n\n        script.src = `/studio/static-assets/libs/requirejs/require.js`;\n\n        script.setAttribute(\n          'data-main',\n          `/studio/overlayhook?site=NOTUSED&page=NOTUSED&cs.js`\n        );\n\n        document.head.appendChild(script);\n      }\n\n    },\n    []\n  );\n\n  return (\n    <Provider store={store}>\n      <I18nextProvider i18n={i18next}>\n        <BrowserRouter>\n          <ScrollReset>\n            <MainWrapper>\n              <main>\n                <Routes/>\n              </main>\n            </MainWrapper>\n          </ScrollReset>\n        </BrowserRouter>\n      </I18nextProvider>\n    </Provider>\n  );\n}\n\nexport default hot(module)(App);\n","module.exports = __webpack_public_path__ + \"static/media/burger.8282f1ec.svg\";","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nexport const LOGIN = 'LOGIN';\nexport const LOGIN_COMPLETE = 'LOGIN_COMPLETE';\nexport const LOGIN_FAILED = 'LOGIN_FAILED';\n\nexport const SET_PERSONA = 'SET_PERSONA';\n\nexport const LOGOUT = 'LOGOUT';\nexport const LOGOUT_COMPLETE = 'LOGOUT_COMPLETE';\nexport const LOGOUT_FAILED = 'LOGOUT_FAILED';\n\nexport const REGISTRATION_COMPLETE = 'REGISTRATION_COMPLETE';\nexport const SUBMIT_REGISTRATION = 'SUBMIT_REGISTRATION';\nexport const SUBMIT_REGISTRATION_COMPLETE = 'SUBMIT_REGISTRATION_COMPLETE';\nexport const SUBMIT_REGISTRATION_FAILED = 'SUBMIT_REGISTRATION_FAILED';\n\nexport const FETCH_ORDERS = 'FETCH_ORDERS';\nexport const FETCH_ORDERS_COMPLETE = 'FETCH_ORDERS_COMPLETE';\nexport const FETCH_ORDERS_FAILED = 'FETCH_ORDERS_FAILED';\n\nexport const FETCH_ORDER = 'FETCH_ORDER';\nexport const FETCH_ORDER_COMPLETE = 'FETCH_ORDER_COMPLETE';\nexport const FETCH_ORDER_FAILED = 'FETCH_ORDER_FAILED';\n\nexport const UNAUTHORIZED = 'UNAUTHORIZED';\n\nexport const SET_LOGIN_REDIRECT = 'SET_LOGIN_REDIRECT';\nexport const RESET_LOGIN_REDIRECT = 'RESET_LOGIN_REDIRECT';\n\nexport const ADD_USER_ADDRESS = 'ADD_USER_ADDRESS';\nexport const ADD_USER_ADDRESS_COMPLETE = 'ADD_USER_ADDRESS_COMPLETE';\nexport const ADD_USER_ADDRESS_FAILED = 'ADD_USER_ADDRESS_FAILED';\n\nexport const EDIT_USER_ADDRESS = 'EDIT_USER_ADDRESS';\nexport const EDIT_USER_ADDRESS_COMPLETE = 'EDIT_USER_ADDRESS_COMPLETE';\nexport const EDIT_USER_ADDRESS_FAILED = 'EDIT_USER_ADDRESS_FAILED';\n\nexport const REMOVE_USER_ADDRESS = 'REMOVE_USER_ADDRESS';\nexport const REMOVE_USER_ADDRESS_COMPLETE = 'REMOVE_USER_ADDRESS_COMPLETE';\nexport const REMOVE_USER_ADDRESS_FAILED = 'REMOVE_USER_ADDRESS_FAILED';\n\nexport const SET_USER_ADDRESS_DEFAULTS = 'SET_USER_ADDRESS_DEFAULTS';\nexport const SET_USER_ADDRESS_DEFAULTS_COMPLETE = 'SET_USER_ADDRESS_DEFAULTS_COMPLETE';\nexport const SET_USER_ADDRESS_DEFAULTS_FAILED = 'SET_USER_ADDRESS_DEFAULTS_FAILED';\n\nexport function submitRegistration() {\n  return {\n    type: SUBMIT_REGISTRATION\n  };\n}\n\nexport function submitRegistrationComplete() {\n  return {\n    root: SUBMIT_REGISTRATION,\n    type: SUBMIT_REGISTRATION_COMPLETE\n  };\n}\n\nexport function submitRegistrationFailed(message) {\n  return {\n    root: SUBMIT_REGISTRATION,\n    type: SUBMIT_REGISTRATION_FAILED,\n    payload: message\n  };\n}\n\nexport function registrationComplete() {\n  return {\n    type: REGISTRATION_COMPLETE\n  };\n}\n\nexport function login(data, redirect) {\n  return {\n    type: LOGIN,\n    payload: { data, redirect }\n  };\n}\n\nexport function loginComplete(user) {\n  return {\n    root: LOGIN,\n    type: LOGIN_COMPLETE,\n    payload: user\n  };\n}\n\nexport const setPersona = (persona) => ({\n  type: SET_PERSONA,\n  payload: { persona }\n});\n\nexport function loginFailed(response) {\n  return {\n    root: LOGIN,\n    type: LOGIN_FAILED,\n    payload: response\n  };\n}\n\nexport function logout(redirect) {\n  return {\n    type: LOGOUT,\n    payload: { redirect }\n  };\n}\n\nexport function logoutComplete() {\n  return {\n    root: LOGOUT,\n    type: LOGOUT_COMPLETE\n  };\n}\n\nexport function logoutFailed() {\n  return {\n    root: LOGOUT,\n    type: LOGOUT_FAILED\n  };\n}\n\nexport function fetchOrders() {\n  return {\n    type: FETCH_ORDERS,\n    payload: null\n  };\n}\n\nexport function fetchOrdersComplete(response) {\n  return {\n    root: FETCH_ORDERS,\n    type: FETCH_ORDERS_COMPLETE,\n    payload: response\n  };\n}\n\nexport function fetchOrdersFailed(response) {\n  return {\n    root: FETCH_ORDERS,\n    type: FETCH_ORDERS_FAILED,\n    payload: response\n  };\n}\n\nexport function fetchOrder(id) {\n  return {\n    type: FETCH_ORDER,\n    payload: { id }\n  };\n}\n\nexport function fetchOrderComplete(response) {\n  return {\n    root: FETCH_ORDER,\n    type: FETCH_ORDER_COMPLETE,\n    payload: response\n  };\n}\n\nexport function fetchOrderFailed(response) {\n  return {\n    root: FETCH_ORDER,\n    type: FETCH_ORDER_FAILED,\n    payload: response\n  };\n}\n\nexport function setLoginRedirect(url) {\n  return {\n    type: SET_LOGIN_REDIRECT,\n    payload: { url }\n  };\n}\n\nexport function resetLoginRedirect() {\n  return {\n    type: RESET_LOGIN_REDIRECT\n  };\n}\n\nexport function addAddress(address) {\n  return {\n    type: ADD_USER_ADDRESS,\n    payload: { address }\n  };\n}\n\nexport function addAddressComplete(response) {\n  return {\n    root: ADD_USER_ADDRESS,\n    type: ADD_USER_ADDRESS_COMPLETE,\n    payload: response\n  };\n}\n\nexport function addAddressFailed(response) {\n  return {\n    root: ADD_USER_ADDRESS,\n    type: ADD_USER_ADDRESS_FAILED,\n    payload: response\n  };\n}\n\nexport function editAddress(address) {\n  return {\n    type: EDIT_USER_ADDRESS,\n    payload: { address }\n  };\n}\n\nexport function editAddressComplete(response) {\n  return {\n    root: EDIT_USER_ADDRESS,\n    type: EDIT_USER_ADDRESS_COMPLETE,\n    payload: response\n  };\n}\n\nexport function editAddressFailed(response) {\n  return {\n    root: EDIT_USER_ADDRESS,\n    type: EDIT_USER_ADDRESS_FAILED,\n    payload: response\n  };\n}\n\nexport function removeAddress(id) {\n  return {\n    type: REMOVE_USER_ADDRESS,\n    payload: { id }\n  };\n}\n\nexport function removeAddressComplete(response) {\n  return {\n    root: REMOVE_USER_ADDRESS,\n    type: REMOVE_USER_ADDRESS_COMPLETE,\n    payload: response\n  };\n}\n\nexport function removeAddressFailed(response) {\n  return {\n    root: REMOVE_USER_ADDRESS,\n    type: REMOVE_USER_ADDRESS_FAILED,\n    payload: response\n  };\n}\n\nexport function setAddressDefaults(address) {\n  return {\n    type: SET_USER_ADDRESS_DEFAULTS,\n    payload: { address }\n  };\n}\n\nexport function setAddressDefaultsComplete(response) {\n  return {\n    root: SET_USER_ADDRESS_DEFAULTS,\n    type: SET_USER_ADDRESS_DEFAULTS_COMPLETE,\n    payload: response\n  };\n}\n\nexport function setAddressDefaultsFailed(response) {\n  return {\n    root: SET_USER_ADDRESS_DEFAULTS,\n    type: SET_USER_ADDRESS_DEFAULTS_FAILED,\n    payload: response\n  };\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nexport const Currencies = {\n  USD: '$',\n  EUR: '€'\n};\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { Currencies } from './constants';\n\nexport function capitalize(str) {\n  return str.charAt(0).toUpperCase() + str.substring(1).toLowerCase();\n}\n\nexport function money(amount, currency) {\n  return amount == null ? '' : `${Currencies[currency] || currency || ''}${parseFloat(amount).toFixed(2)}`;\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nexport const FETCH_PRODUCTS = 'FETCH_PRODUCTS';\nexport const FETCH_PRODUCTS_COMPLETE = 'FETCH_PRODUCTS_COMPLETE';\nexport const FETCH_PRODUCTS_FAILED = 'FETCH_PRODUCTS_FAILED';\n\nexport const FETCH_PRODUCT = 'FETCH_PRODUCT';\nexport const FETCH_PRODUCT_COMPLETE = 'FETCH_PRODUCT_COMPLETE';\nexport const FETCH_PRODUCT_FAILED = 'FETCH_PRODUCT_FAILED';\n\nexport const FETCH_CART = 'FETCH_CART';\nexport const FETCH_CART_COMPLETE = 'FETCH_CART_COMPLETE';\nexport const FETCH_CART_FAILED = 'FETCH_CART_FAILED';\n\nexport const ADD_TO_CART = 'ADD_TO_CART';\nexport const ADD_TO_CART_COMPLETE = 'ADD_TO_CART_COMPLETE';\nexport const ADD_TO_CART_FAILED = 'ADD_TO_CART_FAILED';\n\nexport const UPDATE_CART = 'UPDATE_CART';\nexport const UPDATE_CART_COMPLETE = 'UPDATE_CART_COMPLETE';\nexport const UPDATE_CART_FAILED = 'UPDATE_CART_FAILED';\n\nexport const UPDATE_CART_ITEM_QUANTITY = 'UPDATE_CART_ITEM_QUANTITY';\nexport const UPDATE_CART_ITEM_QUANTITY_COMPLETE = 'UPDATE_CART_ITEM_QUANTITY_COMPLETE';\nexport const UPDATE_CART_ITEM_QUANTITY_FAILED = 'UPDATE_CART_ITEM_QUANTITY_FAILED';\n\nexport const REMOVE_FROM_CART = 'REMOVE_FROM_CART';\nexport const REMOVE_FROM_CART_COMPLETE = 'REMOVE_FROM_CART_COMPLETE';\nexport const REMOVE_FROM_CART_FAILED = 'REMOVE_FROM_CART_FAILED';\n\nexport const FACETS_CHANGED = 'FACETS_CHANGED';\nexport const KEYWORDS_CHANGED = 'KEYWORDS_CHANGED';\n\nexport const FETCH_SHIPPING_METHODS = '';\nexport const FETCH_SHIPPING_METHODS_COMPLETE = 'FETCH_SHIPPING_METHODS_COMPLETE';\nexport const FETCH_SHIPPING_METHODS_FAILED = 'FETCH_SHIPPING_METHODS_FAILED';\n\nexport const CHECKOUT = 'CHECKOUT';\nexport const CHECKOUT_COMPLETE = 'CHECKOUT_COMPLETE';\nexport const CHECKOUT_FAILED = 'CHECKOUT_FAILED';\n\nexport function fetchProduct(id) {\n  return {\n    type: FETCH_PRODUCT,\n    payload: { id }\n  };\n}\n\nexport function fetchProductComplete(response) {\n  return {\n    root: FETCH_PRODUCT,\n    type: FETCH_PRODUCT_COMPLETE,\n    payload: response\n  };\n}\n\nexport function fetchProductFailed(response) {\n  return {\n    root: FETCH_PRODUCT,\n    type: FETCH_PRODUCT_FAILED,\n    payload: response\n  };\n}\n\nexport function fetchProducts(query) {\n  return {\n    type: FETCH_PRODUCTS,\n    payload: { query }\n  };\n}\n\nexport function fetchProductsComplete(response) {\n  return {\n    root: FETCH_PRODUCTS,\n    type: FETCH_PRODUCTS_COMPLETE,\n    payload: response\n  };\n}\n\nexport function fetchProductsFailed(response) {\n  return {\n    root: FETCH_PRODUCTS,\n    type: FETCH_PRODUCTS_FAILED,\n    payload: response\n  };\n}\n\nexport function fetchCart() {\n  return {\n    type: FETCH_CART\n  };\n}\n\nexport function fetchCartComplete(response) {\n  return {\n    root: FETCH_CART,\n    type: FETCH_CART_COMPLETE,\n    payload: response\n  };\n}\n\nexport function fetchCartFailed(response) {\n  return {\n    root: FETCH_CART,\n    type: FETCH_CART_FAILED,\n    payload: response\n  };\n}\n\nexport function addToCart(cartItem) {\n  return {\n    type: ADD_TO_CART,\n    payload: cartItem\n  };\n}\n\nexport function addToCartComplete(response) {\n  return {\n    root: ADD_TO_CART,\n    type: ADD_TO_CART_COMPLETE,\n    payload: response\n  };\n}\n\nexport function addToCartFailed(response) {\n  return {\n    root: ADD_TO_CART,\n    type: ADD_TO_CART_FAILED,\n    payload: response\n  };\n}\n\nexport function removeFromCart(data) {\n  return {\n    type: REMOVE_FROM_CART,\n    payload: data\n  };\n}\n\nexport function removeFromCartComplete(data) {\n  return {\n    root: REMOVE_FROM_CART,\n    type: REMOVE_FROM_CART_COMPLETE,\n    payload: data\n  };\n}\n\nexport function removeFromCartFailed(data) {\n  return {\n    root: REMOVE_FROM_CART,\n    type: REMOVE_FROM_CART_FAILED,\n    payload: data\n  };\n}\n\nexport function updateCartItemQuantity(data) {\n  return {\n    type: UPDATE_CART_ITEM_QUANTITY,\n    payload: data\n  };\n}\n\nexport function updateCartItemQuantityComplete(data) {\n  return {\n    root: UPDATE_CART_ITEM_QUANTITY,\n    type: UPDATE_CART_ITEM_QUANTITY_COMPLETE,\n    payload: data\n  };\n}\n\nexport function updateCartItemQuantityFailed(data) {\n  return {\n    root: UPDATE_CART_ITEM_QUANTITY,\n    type: UPDATE_CART_ITEM_QUANTITY_FAILED,\n    payload: data\n  };\n}\n\nexport function updateCart(data) {\n  return {\n    type: UPDATE_CART,\n    payload: data\n  };\n}\n\nexport function updateCartComplete(data) {\n  return {\n    root: UPDATE_CART,\n    type: UPDATE_CART_COMPLETE,\n    payload: data\n  };\n}\n\nexport function updateCartFailed(data) {\n  return {\n    root: UPDATE_CART,\n    type: UPDATE_CART_FAILED,\n    payload: data\n  };\n}\n\nexport function facetsChanged(query) {\n  return {\n    type: FACETS_CHANGED,\n    payload: { query }\n  };\n}\n\nexport function keywordsChanged(keywords) {\n  return {\n    type: KEYWORDS_CHANGED,\n    payload: { keywords }\n  };\n}\n\nexport function fetchShippingMethods() {\n  return {\n    type: FETCH_SHIPPING_METHODS\n  };\n}\n\nexport function fetchShippingMethodsComplete(data) {\n  return {\n    root: FETCH_SHIPPING_METHODS,\n    type: FETCH_SHIPPING_METHODS_COMPLETE,\n    payload: data\n  };\n}\n\nexport function fetchShippingMethodsFailed(data) {\n  return {\n    root: FETCH_SHIPPING_METHODS,\n    type: FETCH_SHIPPING_METHODS_FAILED,\n    payload: data\n  };\n}\n\nexport function checkout(data, redirect) {\n  return {\n    type: CHECKOUT,\n    payload: { data, redirect }\n  };\n}\n\nexport function checkoutComplete(data) {\n  return {\n    root: CHECKOUT,\n    type: CHECKOUT_COMPLETE,\n    payload: data\n  };\n}\n\nexport function checkoutFailed(data) {\n  return {\n    root: CHECKOUT,\n    type: CHECKOUT_FAILED,\n    payload: data\n  };\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { memo, useEffect } from 'react';\nimport { withRouter } from 'react-router-dom';\n\nfunction ScrollReset(props) {\n  useEffect(\n    () => {\n      window.scrollTo(0, 0);\n    },\n    [props.location.pathname]\n  );\n  return props.children;\n}\n\nexport default memo(withRouter(ScrollReset));\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport classNames from 'classnames';\n\nfunction MainWrapper(props) {\n  const { theme, children } = props;\n\n  const wrapperClass = classNames({\n    'wrapper': true,\n    'squared-corner-theme': theme.squaredCorners,\n    'blocks-with-shadow-theme': theme.withBoxShadow,\n    'top-navigation': theme.topNavigation,\n  });\n\n  return (\n    <div className={theme.className}>\n      <div className={wrapperClass}>\n        {children}\n      </div>\n    </div>\n  );\n}\n\nexport default connect(state => ({\n  theme: state.theme,\n  customizer: state.customizer,\n}))(MainWrapper);\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport default function Anchor(props) {\n\n  const { href, autoTarget } = props;\n\n  const isExternal = !!['http:', 'https:', 'javascript:'].find((protocol) => href.includes(protocol));\n  const Component = isExternal ? 'a' : Link;\n\n  const resultProps = {\n    ...(\n      isExternal\n        ? { href: href }\n        : { to: href }\n    ),\n    ...(\n      autoTarget && isExternal\n        ? { target: \"_blank\" }\n        : {}\n    ),\n    ...props\n  };\n\n  !isExternal && delete resultProps.href;\n  delete resultProps.autoTarget;\n\n  return (\n    <Component {...resultProps}>\n      {props.children}\n    </Component>\n  );\n\n}\n\nAnchor.defaultProps = {\n  href: 'javascript:',\n  autoTarget: true\n};\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useContext, useState } from 'react';\nimport { Col, Container, Popover, PopoverBody, Row } from 'reactstrap';\nimport Anchor from '../shared/Anchor';\nimport { __RouterContext, Link } from 'react-router-dom';\nimport SearchIcon from 'mdi-react/SearchIcon';\nimport PersonCircleOutlineIcon from 'mdi-react/PersonCircleOutlineIcon';\nimport ShoppingCartIcon from 'mdi-react/ShoppingCartIcon';\nimport { useSelector } from 'react-redux';\nimport hamburger  from '../../img/burger.svg';\n\nexport default function Header() {\n\n  const { history } = useContext(__RouterContext);\n  const { content, users, products } = useSelector(state => state);\n  const { query } = products;\n  const [searchOpen, setSearchOpen] = useState(false);\n  const [keywords, setKeywords] = useState(query.keywords || '');\n\n  const\n    {\n      logo_s,\n      logo_alt_t,\n      logo_url_s\n    } = content.header,\n    { user } = users,\n    nav = content.nav;\n\n  return (\n    <div className=\"landing__menu\">\n      <Container>\n        <Row>\n          <Col md={12}>\n            <div className=\"landing__menu-wrap\">\n              <Anchor className=\"landing__menu-logo\" href={logo_url_s}>\n                <img src={logo_s} alt={logo_alt_t}/>\n              </Anchor>\n              <button\n                type=\"button\"\n                className=\"landing__menu-deployer\"\n                onClick={() => {\n                  const nav = document.querySelector('.landing__menu-nav');\n                  if (nav.classList.contains('open')) {\n                    nav.classList.remove('open');\n                  } else {\n                    nav.classList.add('open');\n                  }\n                }}\n              >\n                <img src={hamburger} alt=\"Open Menu\"/>\n              </button>\n              <nav className=\"landing__menu-nav\">\n                {\n                  nav.map((item, index) =>\n                    <Anchor\n                      key={index}\n                      className=\"landing__menu-nav__item\"\n                      href={item.url}\n                    >\n                      {item.label}\n                    </Anchor>\n                  )\n                }\n                <Link\n                  to=\"/cart\"\n                  className=\"landing__menu-nav__item\"\n                  onClick={() => void null}\n                >\n                  <ShoppingCartIcon/>\n                </Link>\n                <button\n                  id=\"headerSearchButton\"\n                  className=\"landing__menu-nav__item\"\n                  onClick={() => {\n                    setSearchOpen(true);\n                    setTimeout(() => {\n                      try {\n                        document.getElementById('globalSearchInput').focus()\n                      } catch(e) {\n\n                      }\n                    })\n                  }}\n                >\n                  <SearchIcon/>\n                </button>\n                {\n                  (user == null)\n                    ? (\n                      <Link className=\"landing__btn\" to=\"/login\">\n                        Sign In\n                      </Link>\n                    ) : (\n                      <Link className=\"landing__menu-nav__item\" to=\"/account\">\n                        <PersonCircleOutlineIcon/>\n                      </Link>\n                    )\n                }\n              </nav>\n            </div>\n          </Col>\n        </Row>\n      </Container>\n      <Popover\n        placement=\"bottom\"\n        target=\"headerSearchButton\"\n        isOpen={searchOpen}\n        toggle={() => setSearchOpen(false)}\n      >\n        <PopoverBody className=\"theme-light\">\n          <div className=\"form\">\n            <div className=\"form__form-group-field\">\n              <div className=\"form__form-group-icon\">\n                <SearchIcon/>\n              </div>\n              <input\n                id=\"globalSearchInput\"\n                type=\"text\"\n                name=\"keywords\"\n                value={keywords}\n                onChange={(e) => setKeywords(e.target.value)}\n                onKeyPress={(e) => e.key === 'Enter' && history.push(`/search?q=${e.target.value}`)}\n                placeholder=\"Search...\"\n              />\n            </div>\n          </div>\n        </PopoverBody>\n      </Popover>\n    </div>\n  );\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React from 'react';\nimport { Col, Row, Container } from 'reactstrap';\nimport Anchor from \"../shared/Anchor\";\nimport { useSelector } from 'react-redux';\n\nfunction Footer(props){\n  const {\n    logo_s,\n    logo_alt_t,\n    logo_url_s,\n    section_background_image_s\n  } = useSelector(state => state.content.footer);\n  return (\n    <footer className=\"landing__footer\">\n      {\n        section_background_image_s &&\n        <img className=\"landing__footer-background\" src={section_background_image_s} alt=\"\" />\n      }\n      <Container>\n        <Row>\n          <Col md={12}>\n            <Anchor className=\"landing__footer-text\" href={logo_url_s}>\n              <img className=\"landing__footer-logo\" src={logo_s} alt={logo_alt_t}/>\n            </Anchor>\n          </Col>\n        </Row>\n      </Container>\n    </footer>\n  );\n}\n\nexport default Footer;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { PureComponent } from 'react';\nimport { Alert as AlertReactstrap } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport InformationOutlineIcon from 'mdi-react/InformationOutlineIcon';\nimport ThumbUpOutlineIcon from 'mdi-react/ThumbUpOutlineIcon';\nimport CommentAlertOutlineIcon from 'mdi-react/CommentAlertOutlineIcon';\nimport CloseCircleOutlineIcon from 'mdi-react/CloseCircleOutlineIcon';\n\nclass Alert extends PureComponent {\n  static propTypes = {\n    color: PropTypes.string,\n    icon: PropTypes.bool,\n    className: PropTypes.string,\n    children: PropTypes.element.isRequired,\n  };\n\n  static defaultProps = {\n    color: '',\n    icon: false,\n    className: '',\n    dismiss: true,\n    onDismiss: () => void null\n  };\n\n  constructor() {\n    super();\n\n    this.state = {\n      visible: true,\n    };\n  }\n\n  onShow = () => {\n    this.setState({ visible: true });\n  };\n\n  onDismiss = () => {\n    this.setState({ visible: false });\n    this.props.onDismiss()\n  };\n\n  render() {\n    const { visible } = this.state;\n\n    const {\n      color,\n      className,\n      icon,\n      children,\n      dismiss\n    } = this.props;\n    let Icon;\n\n    switch (color) {\n      case 'info':\n        Icon = <InformationOutlineIcon />;\n        break;\n      case 'success':\n        Icon = <ThumbUpOutlineIcon />;\n        break;\n      case 'warning':\n        Icon = <CommentAlertOutlineIcon />;\n        break;\n      case 'danger':\n        Icon = <CloseCircleOutlineIcon />;\n        break;\n      default:\n        break;\n    }\n\n    if (visible) {\n      return (\n        <AlertReactstrap color={color} className={className} isOpen={visible}>\n          {icon && <div className=\"alert__icon\">{Icon}</div>}\n          {dismiss && <button className=\"close\" type=\"button\" onClick={this.onDismiss}><span className=\"lnr lnr-cross\" /></button>}\n          <div className=\"alert__content\">\n            {children}\n          </div>\n        </AlertReactstrap>\n      );\n    }\n\n    return null;\n\n  }\n}\n\nexport default Alert;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport {\n  ADD_TO_CART, FETCH_CART,\n  fetchCart,\n  REMOVE_FROM_CART,\n  UPDATE_CART,\n  UPDATE_CART_ITEM_QUANTITY\n} from '../redux/actions/productsActions';\nimport { useDispatch, useSelector } from 'react-redux';\nimport React, { useEffect } from 'react';\nimport { fetchOrder, setLoginRedirect } from '../redux/actions/usersActions';\nimport { SearchService } from '@craftercms/search';\nimport Cookie from 'js-cookie';\n\nexport function getLoginFormDefaults() {\n  const email = localStorage.getItem(`${process.env.REACT_APP_STORE_KEY}.email`);\n  return {\n    email: email || '',\n    rememberMe: email != null\n  };\n}\n\nexport function useHeader() {\n  return useSelector(state => state.content.header);\n}\n\nexport function useCart({ onEmpty } = {}) {\n  const dispatch = useDispatch();\n  const cart = useSelector(state => state.products.cart);\n  useEffect(\n    () => {\n      if (cart == null) {\n        dispatch(fetchCart());\n      } else if (cart.items.length === 0) {\n        onEmpty && onEmpty();\n      }\n    },\n    [cart]\n  );\n  return cart;\n}\n\nexport function useUser({ redirect, onMissing } = {}) {\n  const dispatch = useDispatch();\n  const user = useSelector(state => state.users.user);\n  useEffect(\n    () => {\n      if (user == null) {\n        if (redirect)\n          dispatch(setLoginRedirect(redirect));\n        if (onMissing)\n          onMissing && onMissing();\n      }\n    },\n    []\n  );\n  return user;\n}\n\nexport function useUserBranch() {\n  return useSelector(state => state.users);\n}\n\nexport function useOrder(id) {\n  const dispatch = useDispatch();\n  const order = useSelector(state => state.users.orders[id]);\n  useEffect(\n    () => {\n      if (id && (order == null || order.items == null))\n        dispatch(fetchOrder(id));\n    },\n    [id]\n  );\n  return order;\n}\n\nexport function useProductsBranch() {\n  return useSelector(state => state.products);\n}\n\nexport function useContentBranch() {\n  return useSelector(state => state.content);\n}\n\nlet iceRepaintTimeout;\nfunction ICERepaint() {\n  clearTimeout(iceRepaintTimeout);\n  iceRepaintTimeout = setTimeout(\n    () => {\n      window.amplify &&\n      window.amplify.publish('INIT_ICE_REGIONS');\n    },\n    100\n  );\n}\n\nexport function useICE({ modelId, label }) {\n  const { isAuthoring } = useSelector(state => state.theme);\n  useEffect(() => ICERepaint, []);\n  useEffect(\n    () => {\n      isAuthoring && ICERepaint();\n    }\n  );\n  return {\n    props: isAuthoring ? {\n      'data-studio-ice': '',\n      'data-studio-ice-path': modelId,\n      'data-studio-ice-label': label\n    } : {}\n  };\n}\n\nexport function useCartUpdateInFlight() {\n  const { loading } = useSelector(state => state.products);\n  return (\n    loading[FETCH_CART] ||\n    loading[UPDATE_CART] ||\n    loading[ADD_TO_CART] ||\n    loading[REMOVE_FROM_CART] ||\n    loading[UPDATE_CART_ITEM_QUANTITY]\n  );\n}\n\nexport function useICESetup() {\n\n}\n\nexport function setupICE() {\n\n}\n\nexport const crafterConf = {\n  baseUrl: process.env.REACT_APP_CRAFTER_BASE,\n  // By default empty on the .env so preview grabs the crafterSite cookie set by authoring\n  // Dev may use it's .env.local for local development or fix the value.\n  site: process.env.REACT_APP_SITE_ID || Cookie.get('crafterSite')\n};\n\nexport function getQuery(query) {\n  const crafterQuery = SearchService.createQuery('elasticsearch');\n  crafterQuery.query = {\n    query: {\n      bool: {\n        filter: [\n          { multi_match: { query, 'type': 'phrase_prefix' } },\n          { match: { 'content-type': '/component/post' } }\n        ]\n      }\n    }\n  };\n  return crafterQuery;\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useEffect } from 'react';\nimport Spinner from './Spinner';\nimport Alert from './Alert';\nimport { Col, Container, Row } from 'reactstrap';\nimport { useDispatch } from 'react-redux';\nimport { FETCH_GRAPH, fetchGraph } from '../../redux/actions/contentActions';\nimport { useContentBranch } from '../../util/component';\nimport { byIdLoadingKey } from '../../util/redux';\n\nexport function AssertContent(props) {\n\n  const {\n    render,\n    children,\n    variables,\n    requirements\n  } = props;\n\n  const content = useContentBranch();\n  const dispatch = useDispatch();\n\n  const reqs = {};\n  const required = [];\n  const optional = [];\n\n  requirements.forEach((req) => {\n\n    const isDescriptor = typeof req === 'object';\n\n    const name = isDescriptor ? req.name : req;\n    const checker = isDescriptor && req.getter ? req.getter : (content) => content[req];\n    const isOptional = isDescriptor && req.optional;\n    const value = checker(content);\n\n    if (value == null) {\n      (isOptional ? optional : required).push(name);\n    }\n\n    reqs[name] = value;\n\n  });\n\n  useEffect(\n    () => {\n      const toBeFetched = [...required, ...optional].filter(\n        (req) => content.loading[byIdLoadingKey(FETCH_GRAPH, req)] !== true\n      );\n      if (toBeFetched.length) {\n        const vars = [];\n        toBeFetched.forEach((req) =>\n          variables &&\n          variables[req] &&\n          variables[req].forEach((r) => vars.push(r))\n        );\n        dispatch(fetchGraph(\n          toBeFetched,\n          vars\n        ));\n      }\n    }\n  );\n\n  if (content.errors[FETCH_GRAPH]) {\n    try {\n      content.errors[FETCH_GRAPH].forEach((error) => {\n        console.error(error.message);\n      });\n    } catch (e) {\n\n    }\n    return (\n      <aside className=\"landing__section\">\n        <Container>\n          <Row>\n            <Col sm={12} style={{ padding: '50px' }}>\n              <Alert color=\"danger\" className=\"alert--neutral\" icon dismiss={false}>\n                <p>An error occurred fetching site content.</p>\n              </Alert>\n            </Col>\n          </Row>\n        </Container>\n      </aside>\n    );\n  }\n\n  if (required.length > 0) {\n    return <Spinner/>;\n  } else {\n    return (render)\n      ? render(reqs)\n      : React.Children.map(children, (child) => {\n        return React.cloneElement(child, reqs)\n      });\n  }\n\n}\n\nexport default AssertContent;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React from 'react';\nimport Header from './Header';\nimport Footer from './Footer';\nimport AssertContent from '../shared/AssertContent';\n\nexport function Layout({ children, className, requirements = [], variables, render }) {\n  return <AssertContent\n    requirements={['nav', 'header', 'footer', ...requirements]}\n    variables={variables}\n    render={(reqs) => (\n      <div className={`landing ${className}`}>\n        <Header/>\n        <div className=\"landing__content-wrapper\">\n          {render ? render(reqs) : children}\n        </div>\n        <Footer/>\n      </div>\n    )}/>;\n}\n\nLayout.defaultProps = {\n  className: ''\n};\n\nexport default Layout;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/* eslint-disable jsx-a11y/label-has-for */\nimport React, { PureComponent } from 'react';\nimport CheckIcon from 'mdi-react/CheckIcon';\nimport CloseIcon from 'mdi-react/CloseIcon';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nexport function CheckBox(props) {\n\n  const {\n    disabled,\n    className,\n    name,\n    value,\n    onChange,\n    label,\n    color,\n    checked\n  } = props;\n\n  const CheckboxClass = classNames({\n    'checkbox-btn': true,\n    disabled,\n  });\n\n  return (\n    <label\n      className={`${CheckboxClass} ${className ? ` checkbox-btn--${className}` : ''}`}\n      htmlFor={`${name}[${value}]`}\n    >\n      <input\n        className=\"checkbox-btn__checkbox\"\n        type=\"checkbox\"\n        id={`${name}[${value}]`}\n        name={name}\n        onChange={onChange}\n        checked={checked}\n        disabled={disabled}\n        value={value}\n      />\n      <span\n        className=\"checkbox-btn__checkbox-custom\"\n        style={color ? { background: color, borderColor: color } : {}}\n      >\n        <CheckIcon/>\n      </span>\n      {\n        className === 'button'\n          ? (\n            <span className=\"checkbox-btn__label-svg\">\n              <CheckIcon className=\"checkbox-btn__label-check\"/>\n              <CloseIcon className=\"checkbox-btn__label-uncheck\"/>\n            </span>\n          )\n          : (\n            ''\n          )\n      }\n      <span className=\"checkbox-btn__label\">\n        {label}\n      </span>\n    </label>\n  );\n}\n\nclass CheckBoxField extends PureComponent {\n  static propTypes = {\n    onChange: PropTypes.func.isRequired,\n    name: PropTypes.string.isRequired,\n    value: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.bool,\n    ]).isRequired,\n    label: PropTypes.string,\n    defaultChecked: PropTypes.bool,\n    disabled: PropTypes.bool,\n    className: PropTypes.string,\n    color: PropTypes.string,\n  };\n\n  static defaultProps = {\n    label: '',\n    defaultChecked: false,\n    disabled: false,\n    className: '',\n    color: '',\n  };\n\n  componentDidMount() {\n    const { onChange, defaultChecked } = this.props;\n    onChange(defaultChecked);\n  }\n\n  render() {\n    const {\n      disabled, className, name, value, onChange, label, color,\n    } = this.props;\n    const CheckboxClass = classNames({\n      'checkbox-btn': true,\n      disabled,\n    });\n\n    return (\n      <label\n        className={`${CheckboxClass} ${className ? ` checkbox-btn--${className}` : ''}`}\n        htmlFor={name}\n      >\n        <input\n          className=\"checkbox-btn__checkbox\"\n          type=\"checkbox\"\n          id={name}\n          name={name}\n          onChange={onChange}\n          checked={value}\n          disabled={disabled}\n        />\n        <span\n          className=\"checkbox-btn__checkbox-custom\"\n          style={color ? { background: color, borderColor: color } : {}}\n        >\n          <CheckIcon/>\n        </span>\n        {\n          className === 'button'\n            ? (\n              <span className=\"checkbox-btn__label-svg\">\n                <CheckIcon className=\"checkbox-btn__label-check\"/>\n                <CloseIcon className=\"checkbox-btn__label-uncheck\"/>\n              </span>\n            )\n            : (\n              ''\n            )\n        }\n        <span className=\"checkbox-btn__label\">\n          {label}\n        </span>\n      </label>\n    );\n  }\n}\n\nconst renderCheckBoxField = (props) => {\n  const {\n    input, label, defaultChecked, disabled, className, color,\n  } = props;\n  return (\n    <CheckBoxField\n      {...input}\n      label={label}\n      defaultChecked={\n        props.meta.initial != null\n          ? props.meta.initial\n          : defaultChecked\n      }\n      disabled={disabled}\n      className={className}\n      color={color}\n    />\n  );\n};\n\nrenderCheckBoxField.propTypes = {\n  input: PropTypes.shape({\n    onChange: PropTypes.func,\n    name: PropTypes.string,\n    value: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.bool,\n    ]),\n  }).isRequired,\n  label: PropTypes.string,\n  defaultChecked: PropTypes.bool,\n  disabled: PropTypes.bool,\n  className: PropTypes.string,\n  color: PropTypes.string,\n};\n\nrenderCheckBoxField.defaultProps = {\n  label: '',\n  defaultChecked: false,\n  disabled: false,\n  className: '',\n  color: '',\n};\n\nexport default renderCheckBoxField;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/* eslint-disable jsx-a11y/label-has-for */\nimport React, { PureComponent } from 'react';\nimport CheckIcon from 'mdi-react/CheckIcon';\nimport CloseIcon from 'mdi-react/CloseIcon';\nimport * as PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nexport function RadioButton(props) {\n  const {\n    name,\n    label,\n    value,\n    disabled,\n    onChange,\n    className,\n    currentValue\n  } = props;\n  const classes = classNames({\n    disabled,\n    'radio-btn': true,\n    [`radio-btn--${className}`]: !!className\n  });\n  return (\n    <label className={classes}>\n      <input\n        type=\"radio\"\n        name={name}\n        value={value}\n        onChange={onChange}\n        disabled={disabled}\n        checked={value === currentValue}\n        className=\"radio-btn__radio\"\n      />\n      <span className=\"radio-btn__radio-custom\"/>\n      {className === 'button' ? (\n        <span className=\"radio-btn__label-svg\">\n          <CheckIcon className=\"radio-btn__label-check\"/>\n          <CloseIcon className=\"radio-btn__label-uncheck\"/>\n        </span>\n      ) : ''}\n      <span className=\"radio-btn__label\">{label}</span>\n    </label>\n  );\n}\n\nexport class RadioButtonField extends PureComponent {\n  static propTypes = {\n    onChange: PropTypes.func.isRequired,\n    name: PropTypes.string.isRequired,\n    value: PropTypes.string.isRequired,\n    label: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n    defaultChecked: PropTypes.bool,\n    radioValue: PropTypes.string,\n    disabled: PropTypes.bool,\n    className: PropTypes.string,\n  };\n\n  static defaultProps = {\n    label: '',\n    defaultChecked: false,\n    radioValue: '',\n    disabled: false,\n    className: '',\n  };\n\n  componentDidMount() {\n    const { defaultChecked, onChange, radioValue } = this.props;\n    if (defaultChecked) {\n      onChange(radioValue);\n    }\n  }\n\n  onChange = () => {\n    const { onChange, radioValue } = this.props;\n    onChange(radioValue);\n  };\n\n  render() {\n    const {\n      disabled, className, name, label, radioValue, value,\n    } = this.props;\n    const RadioButtonClass = classNames({\n      'radio-btn': true,\n      disabled,\n    });\n\n    return (\n      <label\n        className={`${RadioButtonClass}${className ? ` radio-btn--${className}` : ''}`}\n      >\n        <input\n          className=\"radio-btn__radio\"\n          name={name}\n          type=\"radio\"\n          onChange={this.onChange}\n          checked={value === radioValue}\n          disabled={disabled}\n        />\n        <span className=\"radio-btn__radio-custom\"/>\n        {className === 'button'\n          ? (\n            <span className=\"radio-btn__label-svg\">\n              <CheckIcon className=\"radio-btn__label-check\"/>\n              <CloseIcon className=\"radio-btn__label-uncheck\"/>\n            </span>\n          ) : ''}\n        <span className=\"radio-btn__label\">{label}</span>\n      </label>\n    );\n  }\n}\n\nconst renderRadioButtonField = (props) => {\n  const {\n    input, label, defaultChecked, disabled, className, radioValue,\n  } = props;\n  return (\n    <RadioButtonField\n      {...input}\n      label={label}\n      defaultChecked={defaultChecked}\n      disabled={disabled}\n      radioValue={radioValue}\n      className={className}\n    />\n  );\n};\n\nrenderRadioButtonField.propTypes = {\n  input: PropTypes.shape({\n    onChange: PropTypes.func,\n    name: PropTypes.string,\n  }).isRequired,\n  label: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n  defaultChecked: PropTypes.bool,\n  disabled: PropTypes.bool,\n  radioValue: PropTypes.string,\n  className: PropTypes.string,\n};\n\nrenderRadioButtonField.defaultProps = {\n  label: '',\n  defaultChecked: false,\n  disabled: false,\n  radioValue: '',\n  className: '',\n};\n\nexport default renderRadioButtonField;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/* eslint-disable prefer-destructuring */\nimport 'rc-slider/assets/index.css';\nimport React, { PureComponent } from 'react';\nimport Slider from 'rc-slider';\nimport PropTypes from 'prop-types';\n\nconst createSliderWithTooltip = Slider.createSliderWithTooltip;\nconst Range = createSliderWithTooltip(Slider.Range);\n\nexport default class RangeTheme extends PureComponent {\n  static propTypes = {\n    marks: PropTypes.shape(),\n    value: PropTypes.arrayOf(PropTypes.number).isRequired,\n    min: PropTypes.number.isRequired,\n    max: PropTypes.number.isRequired,\n    tipFormatter: PropTypes.func,\n  };\n\n  static defaultProps = {\n    marks: {},\n    tipFormatter: value => value,\n    tipOptions: {visible: true}\n  };\n\n  render() {\n    const {\n      min,\n      max,\n      marks,\n      value,\n      tipFormatter,\n      tipOptions,\n      onChange,\n      onAfterChange\n    } = this.props;\n\n    return (\n      <div className=\"slider\">\n        <div className=\"slider__min\">\n          <p>{tipFormatter ? tipFormatter(min) : min}</p>\n        </div>\n        <div className=\"slider__max\">\n          <p>{tipFormatter ? tipFormatter(max) : max}</p>\n        </div>\n        <Range\n          min={min}\n          max={max}\n          defaultValue={value}\n          tipFormatter={tipFormatter}\n          marks={marks}\n          tipProps={tipOptions}\n          onAfterChange={onAfterChange}\n          onChange={onChange}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { Fragment } from 'react';\nimport { CheckBox } from '../shared/form/CheckBox';\nimport renderRadioButtonField from '../shared/form/RadioButton';\nimport Range from '../shared/range_slider/Range';\n\nconst SAMPLE = [\n  { label: 'Dresses', value: 'dresses' },\n  {\n    label: 'Cardigans & Sweaters',\n    value: 'cardigans_n_sweaters',\n    children: [\n      { label: 'Sweaters', value: 'sweaters' },\n      { label: 'Cardigans', value: 'cardigans' },\n      { label: 'Sweatshirts', value: 'sweatshirts' }\n    ]\n  },\n  { label: 'Jumpsuits', value: 'jumpsuits' },\n  { label: 'T-shirts', value: 't-shirts' },\n  { label: 'Jackets', value: 'jackets' }\n];\n\nexport function HierarchicalFacets(props) {\n  const {\n    title,\n    facets,\n    checked,\n    onSelection\n  } = props;\n  return (\n    <nav className=\"hierarchical-facets\">\n      {title && <h2 className=\"facet-list-title\">Clothing</h2>}\n      {\n        facets.map((facet) =>\n          <Fragment key={facet.value}>\n            <a\n              href=\"javascript:\"\n              className={`hierarchical-facets__item ${checked[facet.value] ? 'hierarchical-facets__item--checked' : ''}`}\n              onClick={() => onSelection(facet)}\n            >{facet.label}</a>\n            {\n              facet.children &&\n              facet.children.length &&\n              checked[facet.value] &&\n              <HierarchicalFacets\n                {...props}\n                title={null}\n                facets={facet.children}\n              />\n            }\n          </Fragment>\n        )\n      }\n    </nav>\n  )\n}\n\nexport function MultipleSelectionFacet(props) {\n  const {\n    title,\n    facets,\n    checked,\n    onSelection\n  } = props;\n  return (\n    <nav className=\"multiple-selection-facets\">\n      {title && <h2 className=\"facet-list-title\">{title}</h2>}\n      <div className=\"form__form-group\">\n        {\n          facets.map((facet) =>\n            <div key={facet.value} className=\"form__form-group-field\">\n              <CheckBox\n                name=\"categories\"\n                label={facet.label}\n                value={facet.value}\n                checked={checked.includes(facet.value)}\n                onChange={(e) => onSelection(e.target.checked, facet)}\n              />\n            </div>\n          )\n        }\n      </div>\n    </nav>\n  );\n}\n\nexport function SingleSelectionFacet(props) {\n  const {\n    title,\n    facets,\n    onSelection\n  } = props;\n  return (\n    <nav className=\"single-selection-facets\">\n      {title && <h2 className=\"facet-list-title\">{title}</h2>}\n      <div className=\"form__form-group\">\n        {\n          facets.map((facet) =>\n            <div key={facet.value} className=\"form__form-group-field\">\n              {\n                renderRadioButtonField({\n                  label: facet.label,\n                  radioValue: facet.value,\n                  input: {\n                    value: facets[0].value,\n                    name: 'singleGroupName',\n                    onChange: () => void null\n                  }\n                })\n              }\n            </div>\n          )\n        }\n      </div>\n    </nav>\n  );\n}\n\nexport function RangeFacet(props) {\n  const {\n    min,\n    max,\n    value,\n    title,\n    onChange,\n    tipFormatter\n  } = props;\n  return (\n    <nav className=\"range-selection-facet\">\n      <h2 className=\"facet-list-title\">{title}</h2>\n      <Range\n        min={min}\n        max={max}\n        value={value}\n        tipOptions={{ visible: false }}\n        onAfterChange={onChange}\n        tipFormatter={tipFormatter}\n      />\n    </nav>\n  )\n}\n\nSingleSelectionFacet.defaultProps =\n  MultipleSelectionFacet.defaultProps =\n    HierarchicalFacets.defaultProps = {\n      title: 'Clothing',\n      facets: SAMPLE,\n      checked: { cardigans_n_sweaters: true },\n      onSelection: (facet) => void null\n    };\n\n\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { money } from '../../util/string';\nimport Ratings from 'react-ratings-declarative';\n\nconst saleBadge = `${process.env.PUBLIC_URL}/img/for_store/catalog/sale_lable.png`;\nconst newBadge = `${process.env.PUBLIC_URL}/img/for_store/catalog/new_lable.png`;\n\nexport default function Product(props) {\n\n  let isNew, isSale;\n  const { product } = props;\n  const { id, name, variants, rating } = product || {};\n\n  const colors = variants\n    .filter(variant => variant.attributes.some(a => a.name === 'Color'))\n    .map((variant) =>\n      variant.attributes.find(a => a.name === 'Color').value.toLowerCase()\n    );\n\n  const price = variants[0].price;\n  const oldPrice = price * 2;\n\n  const img = variants[0].images[0];\n\n  const\n    widgetEmptyColors = '#ccc',\n    widgetHoverColors = '#FFCC00',\n    widgetRatedColors = '#FFCC00',\n    widgetDimensions = '20px',\n    widgetSpacings = '5px';\n\n  return (\n    <div className=\"catalog-item\">\n      <Link className=\"catalog-item__link\" to={`/catalog/${id}`}>\n\n        {isNew ? <img className=\"catalog-item__label\" src={newBadge} alt=\"new\"/> : ''}\n        {isSale ? <img className=\"catalog-item__label\" src={saleBadge} alt=\"sale\"/> : ''}\n\n        <div className=\"catalog-item__img-wrap\">\n          <img className=\"catalog-item__img\" src={img.url} alt={img.description}/>\n        </div>\n\n        <div className=\"catalog-item--rating-widget rating-widget\">\n          <section className=\"rating-widget__header\">\n            <div className=\"rating-widget__average\">\n              <div>\n                {\n                  (rating == null) ? 'No reviews yet.' : <>\n                    <Ratings\n                      rating={rating == null ? 0 : rating.average}\n                      widgetEmptyColors={widgetEmptyColors}\n                      widgetHoverColors={widgetHoverColors}\n                      widgetRatedColors={widgetRatedColors}\n                      widgetDimensions={widgetDimensions}\n                      widgetSpacings={widgetSpacings}\n                    >\n                      <Ratings.Widget/>\n                      <Ratings.Widget/>\n                      <Ratings.Widget/>\n                      <Ratings.Widget/>\n                      <Ratings.Widget/>\n                    </Ratings>\n                  </>\n                }\n              </div>\n            </div>\n          </section>\n        </div>\n\n        <div className=\"catalog-item__info\">\n          <h4 className=\"catalog-item__title\">{name}</h4>\n          <em className=\"catalog-item__price\">{money(price, variants[0].currency)}</em>\n          {isSale ? <p className=\"catalog-item__old-price\">${oldPrice}</p> : ''}\n          {\n            colors.map((color, index) => (\n              <span\n                key={index}\n                className=\"catalog-item__color\"\n                style={{ background: color }}\n              />\n            ))\n          }\n        </div>\n\n      </Link>\n    </div>\n  );\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useEffect, useRef } from 'react';\nimport { Button, Col, Container, Row } from 'reactstrap';\nimport Layout from './Layout';\nimport {\n  MultipleSelectionFacet,\n  RangeFacet, SingleSelectionFacet,\n} from './Facets';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Spinner from '../shared/Spinner';\nimport Product from './Product';\nimport * as qs from 'query-string';\nimport { fetchProducts, FETCH_PRODUCTS } from '../../redux/actions/productsActions';\nimport Alert from '../shared/Alert';\nimport { Link } from 'react-router-dom';\nimport SearchIcon from 'mdi-react/SearchIcon';\nimport ChevronRightIcon from 'mdi-react/ChevronRightIcon';\nimport ChevronLeftIcon from 'mdi-react/ChevronLeftIcon';\nimport ReactPaginate from 'react-paginate';\n\nexport default function ProductListing(props) {\n\n  const dispatch = useDispatch();\n  const { history } = props;\n  const { byId, facets, query, loading, errors } = useSelector(state => state.products);\n  const products = byId ? Object.values(byId) : null;\n  const inputRef = useRef();\n\n  const queryString = qs.parse(props.location.search);\n  const facetMeta = { list: [], types: {}, state: {} };\n\n  if (facets) {\n    facets.forEach(({ type, value }) => {\n      facetMeta.list.push(value);\n      facetMeta.types[value] = type;\n      switch (type) {\n        case 'multiple':\n          facetMeta.state[value] = [];\n          break;\n        case 'single':\n          facetMeta.state[value] = '';\n          break;\n        case 'range':\n          facetMeta.state[value] = null;\n          break;\n      }\n    });\n  }\n\n  // Facets haven't loaded during the first render so can't rely\n  // on facet type to do the proper URL decoding. Relying on inspection\n  // for now.\n  Object.entries(queryString).forEach(([key, value]) => {\n    if (key === 'q') {\n      key = 'keywords';\n      facetMeta.state[key] = value;\n    } else if (key === 'offset' || key === 'limit') {\n      facetMeta.state[key] = value;\n    } else {\n      facetMeta.state[key] = (['rating', 'price'].includes(key))\n        ? (\n          value.split('-').reduce(\n            (obj, value, index) => ({\n              ...obj,\n              ...{ [index === 0 ? 'min' : 'max']: parseInt(value) }\n            }),\n            {}\n          )\n        ) : (\n          // This should catch both single and multiple all the same\n          facetMeta.state[key] = value.split(',')\n        );\n    }\n  });\n\n  const fetch = () => {\n    dispatch(fetchProducts(facetMeta.state));\n  };\n\n  useEffect(fetch, [history.location.search]);\n\n  useEffect(\n    () => {\n      (inputRef.current || { value: '' }).value = query.keywords;\n    },\n    [query.keywords]\n  );\n\n  function onRangeChange(which, value) {\n    const newQS = [];\n\n    queryString.q && newQS.push(`q=${queryString.q}`);\n    Object.entries(queryString).forEach(([key, val]) => key !== which && newQS.push(`${key}=${val}`));\n    newQS.push(`${which}=${value.join('-')}`);\n\n    history.push(`/catalog${newQS.length ? `?${newQS.join('&')}` : ''}`);\n\n  }\n\n  function onMultipleValueChange(which, checked, { value }) {\n\n    let collection = query[which] || [];\n    if (checked) {\n      collection = [...collection, value];\n    } else {\n      collection = collection.filter((_value) => _value !== value);\n    }\n\n    const newQS = [];\n\n    queryString.q && newQS.push(`q=${queryString.q}`);\n    Object.entries(queryString).forEach(([key, val]) => {\n      if (key === 'offset') {\n        newQS.push(`${key}=0`)\n      } else if (key !== which)\n        newQS.push(`${key}=${val}`)\n    });\n    (collection.length > 0) && newQS.push(`${which}=${collection.join(',')}`);\n\n    history.push(`/catalog${newQS.length ? `?${newQS.join('&')}` : ''}`);\n\n  }\n\n  function onKeywordsChange(value) {\n    const newQS = [];\n\n    newQS.push(`q=${value || ''}`);\n    queryString.price && newQS.push(`price=${queryString.price}`);\n    queryString.rating && newQS.push(`rating=${queryString.rating}`);\n    queryString.categories && newQS.push(`categories=${queryString.categories}`);\n    queryString.colors && newQS.push(`colors=${queryString.colors}`);\n\n    history.push(`/catalog${newQS.length ? `?${newQS.join('&')}` : ''}`);\n  }\n\n  function onOffsetChanged(nextPage) {\n    const newQS = [];\n    const nextPageIndex = nextPage - 1;\n\n    const nextOffset = query.limit * nextPageIndex;\n\n    (nextOffset != null) && newQS.push(`offset=${nextOffset}`);\n    queryString.q && newQS.push(`q=${queryString.q}`);\n    queryString.price && newQS.push(`price=${queryString.price}`);\n    queryString.rating && newQS.push(`rating=${queryString.rating}`);\n    queryString.categories && newQS.push(`categories=${queryString.categories}`);\n    queryString.colors && newQS.push(`colors=${queryString.colors}`);\n\n    history.push(`/catalog${newQS.length ? `?${newQS.join('&')}` : ''}`);\n  }\n\n  return (\n    <Layout>\n      <Container>\n        {\n          (errors[FETCH_PRODUCTS]) &&\n          <Alert color=\"danger\" className=\"alert--bordered\" icon dismiss={false}>\n            <span>\n              An error has occurred trying to fetch products.\n              <Button outline\n                      onClick={fetch}\n                      className=\"btn-retry btn-sm\"\n              >\n                Retry\n              </Button>\n            </span>\n          </Alert>\n        }\n        {\n          (loading[FETCH_PRODUCTS]) &&\n          <Spinner contained/>\n        }\n        {\n          (loading[FETCH_PRODUCTS] === false) &&\n          <>\n            <Row>\n              {\n                facetMeta.state.keywords &&\n                <Col md={12}>\n                  <h2 className=\"page-title\">Search results for \"{facetMeta.state.keywords}\"</h2>\n                  <Link className=\"page-subhead\" to=\"/catalog\">(clear query)</Link>\n                </Col>\n              }\n              <Col md={9}>\n                <div className=\"catalog-items__wrap\">\n                  <div className=\"catalog-page-controls\">\n                    <ReactPaginate\n                      containerClassName=\"pagination\"\n                      pageClassName=\"pagination__item\"\n                      pageLinkClassName=\"pagination__link\"\n                      previousClassName=\"pagination__item\"\n                      previousLinkClassName=\"pagination__link pagination__link--arrow\"\n                      nextClassName=\"pagination__item\"\n                      nextLinkClassName=\"pagination__link pagination__link--arrow\"\n                      pageRangeDisplayed={3}\n                      marginPagesDisplayed={3}\n                      activeClassName=\"active\"\n                      initialPage={(query.offset / query.limit)}\n                      pageCount={Math.ceil(query.total / query.limit)}\n                      onPageChange={({ selected: index }) => onOffsetChanged(index + 1)}\n                      disableInitialCallback={true}\n                      previousLabel={<ChevronLeftIcon className=\"pagination__link-icon\" />}\n                      nextLabel={<ChevronRightIcon className=\"pagination__link-icon\" />}\n                    />\n                  </div>\n                  <div className=\"catalog-items\">\n                    {products.map(product =>\n                      <Product key={product.id} product={product}/>\n                    )}\n                    {\n                      (products.length === 0) && (\n                        <Alert color=\"info\" className=\"alert--bordered\" icon dismiss={false}>\n                          <span>No products to display (\n                            <Link to=\"/catalog\">clear filters</Link>\n                          )</span>\n                        </Alert>\n                      )\n                    }\n                  </div>\n                </div>\n              </Col>\n              <Col md={3}>\n\n                <div className=\"form\" style={{ background: 'white', marginBottom: 20, border: '1px solid #ddd' }}>\n                  <div className=\"form__form-group-field\">\n                    <div className=\"form__form-group-icon\">\n                      <SearchIcon/>\n                    </div>\n                    <input\n                      ref={inputRef}\n                      type=\"text\"\n                      name=\"keywords\"\n                      placeholder=\"Keywords...\"\n                      defaultValue={query.keywords}\n                      onKeyPress={\n                        (e) =>\n                          e.key === 'Enter' &&\n                          onKeywordsChange(e.target.value)\n                      }\n                    />\n                  </div>\n                </div>\n\n                {\n                  facets && facets.map((facet) => {\n                    switch (facet.type) {\n                      case 'single':\n                      case 'multiple': {\n                        const Component = facet.type === 'multiple'\n                          ? MultipleSelectionFacet\n                          : SingleSelectionFacet;\n                        return <Component\n                          key={facet.value}\n                          title={facet.name}\n                          checked={facetMeta.state[facet.value]}\n                          onSelection={(checked, facetItem) => onMultipleValueChange(facet.value, checked, facetItem)}\n                          facets={\n                            facet.items.map((_facet_) => ({\n                              value: _facet_.value,\n                              label: _facet_.name\n                            }))\n                          }\n                        />;\n                      }\n                      case 'range': {\n                        return <RangeFacet\n                          onChange={(value) => onRangeChange(facet.value, value)}\n                          key={facet.value}\n                          title={facet.name}\n                          min={facet.min}\n                          max={facet.max}\n                          tipFormatter={facet.value === 'price' ? value => `$${value}` : value => value}\n                          value={\n                            facetMeta.state[facet.value]\n                              ? [facetMeta.state[facet.value].min, facetMeta.state[facet.value].max]\n                              : [facet.min, facet.max]\n                          }\n                        />;\n                      }\n                    }\n                  })\n                }\n\n              </Col>\n            </Row>\n          </>\n        }\n      </Container>\n    </Layout>\n  );\n};\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/* eslint-disable react/no-array-index-key */\nimport React, { useEffect, useReducer } from 'react';\nimport Carousel, { Modal, ModalGateway } from 'react-images';\n\nfunction ProductGallery(props) {\n\n  const [state, setState] = useReducer(\n    (a, b) => ({ ...a, ...b }),\n    {\n      image: null,\n      currentIndex: 0,\n      lightboxIsOpen: false,\n    }\n  );\n\n  const { images } = props;\n\n  const { image, currentIndex, lightboxIsOpen } = state;\n\n  const changeImg = (index, e) => {\n    e.preventDefault();\n    setState({\n      currentIndex: index,\n      image: images[index]\n    });\n  };\n\n  const openLightbox = (event) => {\n    event.preventDefault();\n    setState({ lightboxIsOpen: true });\n  };\n\n  useEffect(\n    () => {\n      const index = 0;\n      setState({\n        image: images[index],\n        currentIndex: index\n      });\n    },\n    [images]\n  );\n\n  return (\n    <div className=\"product-gallery\">\n      {\n        (images && images.length && image)\n          ? (\n            <>\n              <a\n                className=\"product-gallery__current-img\"\n                onClick={e => openLightbox(e)}\n                href={state.image.src}\n              >\n                <img src={state.image.src} className=\"product-img\" alt={\"\"}/>\n              </a>\n              <div className=\"product_gallery__gallery\">\n                {images.map((img, i) => (\n                  <button type=\"button\" key={i} onClick={e => changeImg(i, e)} className=\"product-gallery__img-preview\">\n                    <img src={img.src} alt=\"product-img\"/>\n                  </button>\n                ))}\n              </div>\n              <ModalGateway>\n                {lightboxIsOpen ? (\n                  <Modal onClose={() => setState({ lightboxIsOpen: false })}>\n                    <Carousel currentIndex={currentIndex} views={images}/>\n                  </Modal>\n                ) : null}\n              </ModalGateway>\n            </>\n          ) : (\n            <div className=\"text-center\">No images are available for this product.</div>\n          )\n      }\n    </div>\n  );\n\n}\n\nexport default ProductGallery;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useEffect, useReducer, useState } from 'react';\nimport {\n  Card, CardBody, ButtonToolbar, Button, Modal,\n} from 'reactstrap';\nimport ProductGallery from './ProductGallery';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Select from 'react-select';\nimport {\n  addToCart,\n  fetchCart, fetchProduct,\n  removeFromCart,\n  updateCartItemQuantity\n} from '../../redux/actions/productsActions';\nimport { money } from '../../util/string';\nimport { Link } from 'react-router-dom';\nimport ShoppingCartIcon from 'mdi-react/ShoppingCartIcon';\nimport Ratings from 'react-ratings-declarative';\nimport Alert from '../shared/Alert';\nimport { useCartUpdateInFlight } from '../../util/component';\n\nconst isSale = false;\n\nconst reducer = (a, b) => ({ ...a, ...b });\n\nexport function useMergeState(initialState) {\n  return useReducer(reducer, initialState);\n}\n\nfunction ProductCard(props) {\n\n  const dispatch = useDispatch();\n\n  const { cart } = useSelector(state => state.products);\n  const { user } = useSelector(state => state.users);\n  const { product } = props;\n\n  const [images, setImages] = useState([]);\n  const [variant, setVariant] = useState();\n  const [cartItem, setCartItem] = useMergeState({\n    id: null,\n    productId: product.id,\n    variantId: null,\n    quantity: 1\n  });\n\n  const isInCart = cartItem.id != null;\n  const updatesInFlight = useCartUpdateInFlight();\n\n  useEffect(\n    () => {\n      !cart && dispatch(fetchCart())\n    },\n    []\n  );\n\n  useEffect(\n    () => {\n      setVariant(product.variants[0]);\n    },\n    [product.id]\n  );\n\n  useEffect(\n    () => {\n      setImages(\n        (\n          variant != null\n            ? [variant]\n            : product.variants\n        ).reduce(\n          (images, iVariant) => images.concat(\n            iVariant.images.map((img) => ({ ...img, src: img.url }))\n          ),\n          []\n        )\n      );\n\n      if (variant == null)\n        return;\n\n      const item = (\n        cart\n          ? cart.items.find((item) => (\n            item.variantId === variant.id &&\n            item.productId === product.id\n          ))\n          : null\n      );\n\n      setCartItem({\n        variantId: variant.id,\n        productId: product.id,\n        ...(\n          item\n            ? { id: item.id, quantity: item.quantity }\n            : { id: null, quantity: 1 }\n        )\n      });\n\n    },\n    [variant, cart]\n  );\n\n  return (\n    <Card>\n      <CardBody>\n        <div className=\"product-card\">\n          <ProductGallery images={images}/>\n          <div className=\"product-card__info\">\n            <h1 className=\"product-card__title\">{product.name}</h1>\n            {\n              cartItem.variantId &&\n              <h2 className=\"product-card__price\">\n                {money(variant.price, variant.currency)}\n                {isSale && <span className=\"product-card__old-price\">$23</span>}\n              </h2>\n            }\n            {product.description && <p>{product.description}</p>}\n            <form className=\"form product-card__form\">\n              <div className=\"form__form-group\">\n                <span className=\"form__form-group-label product-card__form-label\">Select</span>\n                <div className=\"form__form-group-field\">\n                  <VariantSelection\n                    value={variant}\n                    variants={product.variants}\n                    onChange={({ variant }) => setVariant(variant)}\n                  />\n                </div>\n              </div>\n              <div className=\"form__form-group\">\n                <span className=\"form__form-group-label product-card__form-label\">Quantity</span>\n                <div className=\"form__form-group-field\">\n                  <input\n                    type=\"number\"\n                    disabled={updatesInFlight}\n                    value={cartItem.quantity}\n                    onChange={(e) => onUpdateQuantity(e.target.value)}\n                  />\n                </div>\n              </div>\n              <ButtonToolbar className=\"product-card__btn-toolbar\">\n                {\n                  isInCart\n                    ? (\n                      <ButtonToolbar className=\"product-card__btn-toolbar\">\n                        <button\n                          type=\"button\"\n                          className=\"btn btn-warning\"\n                          disabled={updatesInFlight}\n                          onClick={onRemoveFromCart}\n                        >\n                          Remove from cart\n                        </button>\n                        <Link to=\"/cart\" className=\"product-card__wish-btn\">\n                          <ShoppingCartIcon/> View cart\n                        </Link>\n                      </ButtonToolbar>\n                    ) : (\n                      <ButtonToolbar className=\"product-card__btn-toolbar\">\n                        <button\n                          type=\"button\"\n                          className=\"btn btn-primary\"\n                          disabled={!cartItem.variantId || updatesInFlight}\n                          onClick={onAddToCart}\n                        >\n                          Add to cart\n                        </button>\n                        {\n                          variant &&\n                          !variant.onStock &&\n                          <span className=\"product-card__not-in-stock\">\n                            (On backorder)\n                          </span>\n                        }\n                      </ButtonToolbar>\n                    )\n                }\n              </ButtonToolbar>\n            </form>\n            <div className=\"product-card_ _rate\">\n              <SubmitReview\n                product={product}\n                isLoggedIn={!!user}\n                onSuccess={() => dispatch(fetchProduct(product.id))}\n              />\n            </div>\n          </div>\n        </div>\n      </CardBody>\n    </Card>\n  );\n\n  function onAddToCart() {\n    (cartItem.quantity > 0) && dispatch(\n      addToCart(cartItem)\n    );\n  }\n\n  function onRemoveFromCart() {\n    isInCart && dispatch(\n      removeFromCart(cartItem)\n    );\n  }\n\n  function onUpdateQuantity(nextQuantity) {\n    nextQuantity = parseInt(nextQuantity, 10);\n    if (nextQuantity < 0) {\n      nextQuantity = 0;\n    }\n    if (isInCart) {\n      dispatch(\n        updateCartItemQuantity({ ...cartItem, quantity: nextQuantity })\n      );\n    }\n    setCartItem({ quantity: nextQuantity });\n  }\n\n}\n\nfunction SubmitReview(props) {\n\n  const { product, isLoggedIn, onSuccess } = props;\n  const { rating, name } = product;\n\n  const [value, setValue] = useState();\n  const [comments, setComments] = useState('');\n  const [openModal, setOpenModal] = useState(false);\n  const [message, setMessage] = useState();\n\n  const toggleOpen = () => setOpenModal(!openModal);\n  const submit = () => {\n    fetch(\n      `/api/1/product/${product.id}/review.json`,\n      {\n        body: JSON.stringify({ rating: value, text: comments }),\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json; charset=UTF-8' }\n      }\n    ).then(async (response) => {\n      const data = await response.json();\n      if (response.status === 200) {\n        setValue();\n        setMessage();\n        setComments('');\n        setOpenModal(false);\n        onSuccess && onSuccess(response);\n      } else {\n        setMessage({ type: 'danger', text: data.message });\n      }\n    });\n  };\n\n  const\n    widgetEmptyColors = '#ccc',\n    widgetHoverColors = '#FFCC00',\n    widgetRatedColors = '#FFCC00',\n    widgetDimensions = '20px',\n    widgetSpacings = '5px';\n\n  return (\n    <div className=\"rating-widget\">\n      <section className=\"rating-widget__header\">\n        <div className=\"rating-widget__average\">\n          <div>\n            <Ratings\n              rating={rating == null ? 0 : rating.average}\n              widgetEmptyColors={widgetEmptyColors}\n              widgetHoverColors={widgetHoverColors}\n              widgetRatedColors={widgetRatedColors}\n              widgetDimensions={widgetDimensions}\n              widgetSpacings={widgetSpacings}\n            >\n              <Ratings.Widget/>\n              <Ratings.Widget/>\n              <Ratings.Widget/>\n              <Ratings.Widget/>\n              <Ratings.Widget/>\n            </Ratings>\n          </div>\n          <span className=\"rating-widget__label\">\n            {\n              rating == null\n                ? 'No reviews yet.'\n                : `${rating.reviews} review${rating.reviews > 1 ? 's' : ''}. ${rating.average} average rating.`\n            }\n          </span>\n        </div>\n        <div className=\"rating-widget__user\">\n          {\n            isLoggedIn &&\n            <Button outline className=\"btn-sm\" onClick={toggleOpen}>\n              Submit a review\n            </Button>\n          }\n        </div>\n      </section>\n      <section className=\"rating-widget__reviews\">\n        {\n          // rating && JSON.stringify(rating.reviews, null, '  ')\n          // rating && rating.reviews.map(review =>\n          // <div className=\"rating-widget__review\"></div>\n          // )\n        }\n      </section>\n      <Modal\n        isOpen={openModal}\n        toggle={toggleOpen}\n        className={`modal-dialog--`}\n      >\n        <div className=\"modal__header\">\n          <button className=\"lnr lnr-cross modal__close-btn\" type=\"button\" onClick={toggleOpen}/>\n          <h3 className=\"bold-text  modal__title\">Review \"{name}\"</h3>\n        </div>\n        <div className=\"modal__body\">\n          <div className=\"form\">\n            {\n              message &&\n              <Alert color={message.type} className=\"alert--bordered\">\n                <span>{message.text}</span>\n              </Alert>\n            }\n            <div className=\"form__form-group\">\n              <div>\n                <Ratings\n                  rating={value}\n                  changeRating={setValue}\n                  widgetEmptyColors={widgetEmptyColors}\n                  widgetHoverColors={widgetHoverColors}\n                  widgetRatedColors={widgetRatedColors}\n                  widgetDimensions={widgetDimensions}\n                  widgetSpacings={widgetSpacings}\n                >\n                  <Ratings.Widget/>\n                  <Ratings.Widget/>\n                  <Ratings.Widget/>\n                  <Ratings.Widget/>\n                  <Ratings.Widget/>\n                </Ratings>\n              </div>\n              <span className=\"rating-widget__label\">\n                {value ? `Your rating: ${value} star${value > 1 ? 's' : ''}.` : `How would you rate ${name}?`}\n              </span>\n            </div>\n            <div className=\"form__form-group\">\n              <div className=\"form__form-group-field\">\n                <textarea\n                  value={comments}\n                  onChange={(e) => setComments(e.target.value)}\n                  placeholder={`Any additional comments...`}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n        <ButtonToolbar className=\"modal__footer\">\n          <Button onClick={toggleOpen}>Cancel</Button>\n          <Button outline onClick={submit} disabled={value == null}>Ok</Button>\n        </ButtonToolbar>\n      </Modal>\n    </div>\n  );\n\n}\n\nexport function VariantSelection(props) {\n  const { variants, value, onChange, placeholder, components } = props;\n  const options = variants ? variants.map((variant) => ({\n    value: variant.id,\n    label: getVariantLabel(variant),\n    variant\n  })) : [];\n  const option = value ? { value: value.id, label: getVariantLabel(value), variant: value } : null;\n  return (\n    <Select\n      value={option}\n      onChange={onChange}\n      options={options}\n      clearable={false}\n      className=\"react-select\"\n      classNamePrefix=\"react-select\"\n      placeholder={placeholder}\n      components={components}\n    />\n  );\n}\n\nVariantSelection.defaultProps = {\n  options: null,\n  components: {\n    Option: function Option({ innerProps, isDisabled, data }) {\n      data = data.variant;\n      const label = getVariantLabel(data);\n      const color = data.attributes.filter((attr) => attr.name === 'Color').map((attr) => attr.value.toLowerCase())[0];\n      // noinspection JSConstructorReturnsPrimitive\n      return (!isDisabled ? (\n        <div\n          className=\"react-select__option\"\n          {...innerProps}\n        >\n          {label}\n          {\n            color &&\n            <span\n              className=\"react-select__color\"\n              style={{ backgroundColor: color, boxShadow: '0 0 1px 0 rgba(0,0,0,.5)' }}\n            />\n          }\n        </div>\n      ) : null);\n    }\n  },\n  onChange: () => void null,\n  placeholder: 'Select...',\n};\n\nfunction getVariantLabel(variant) {\n  return variant.attributes.filter((attr) => attr.name === 'Filtersize').map((attr) => attr.value.label);\n}\n\nexport default ProductCard;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/* eslint-disable max-len */\nimport React from 'react';\nimport {\n  Col,\n  Row,\n  Container,\n  Card,\n  CardBody\n} from 'reactstrap';\nimport { Link } from 'react-router-dom';\nimport { useICE } from '../../util/component';\n\nfunction BlogTeaser(props) {\n\n  const {\n    label,\n    localId,\n    title_s,\n    posts_o // Fake model property. Injected by the reducer.\n  } = props;\n\n  const { props: ice } = useICE({ modelId: localId, label });\n\n  return (\n    <section className=\"landing__section\" {...ice}>\n      <Container>\n        <Row>\n          <Col md={12}>\n            <h3 className=\"landing__section-title\">{title_s}</h3>\n          </Col>\n        </Row>\n        <Row className=\"landing__teasers\">\n          {\n            posts_o.slice(0, 3).map((post) =>\n              <Col key={post.localId} lg={4} md={6}>\n                <BlogPostCard {...post}/>\n              </Col>\n            )\n          }\n        </Row>\n      </Container>\n    </section>\n  );\n}\n\nexport function BlogPostCard({ localId, label, slug_s, title_s, image_s, summary_html_raw, hideSummary }) {\n  const { props: ice } = useICE({ modelId: localId, label });\n  return (\n    <Link to={`/blog/${slug_s}`}>\n      <Card {...ice}>\n        <CardBody className=\"landing__teaser\">\n          <img src={image_s} alt=\"\" className=\"landing__teaser-img\"/>\n          <h3 className=\"landing__teaser-title\">{title_s}</h3>\n          {\n            !hideSummary && summary_html_raw &&\n            <p\n              className=\"landing__teaser-review\"\n              dangerouslySetInnerHTML={{ __html: summary_html_raw }}\n            />\n          }\n        </CardBody>\n      </Card>\n    </Link>\n  );\n}\n\nexport default BlogTeaser;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Col, Container, Row } from 'reactstrap';\nimport Layout from './Layout';\nimport ProductCard from './ProductCard';\nimport Spinner from '../shared/Spinner';\nimport { fetchProduct } from '../../redux/actions/productsActions';\nimport Product from './Product';\nimport { forkJoin, of } from 'rxjs';\nimport { ajax } from 'rxjs/ajax';\nimport { map } from 'rxjs/operators';\nimport { BlogPostCard } from './BlogTeaser';\n\nexport default function ProductDetails(props) {\n\n  const dispatch = useDispatch();\n  const products = useSelector(state => state.products);\n\n  const id = props.match.params.product;\n  const product = products.byId ? products.byId[id] : null;\n  const [related, setRelated] = useState();\n\n  useEffect(\n    () => {\n      if (product == null)\n        dispatch(fetchProduct(id))\n    },\n    [id]\n  );\n\n  useEffect(\n    () => {\n      let sub = { unsubscribe: () => void null };\n      if (product != null) {\n\n        const keys = product.categories.reduce(\n          (oMap, category) => {\n            oMap.ids.push(category.id);\n            oMap.keys.push(`{matches: \"${category.key}\"}`);\n            return oMap;\n          },\n          { ids: [], keys: [] }\n        );\n\n        const products$ = keys.ids.length\n          ? ajax.get(`/api/1/product/all.json?limit=4&locale=en_us&filter=categories:${keys.ids.join(',')}`)\n          : of({ response: { items: [] } });\n\n        const posts$ = keys.keys.length\n          ? ajax.post(\n            process.env.REACT_APP_GRAPHQL_SERVER,\n            {\n              query: `query {\n              posts: component_post(limit: 3) {\n                items {\n                  title_s\n                  image_s\n                  slug_s\n                  categories_o @skip(if: true) {\n                    item {\n                      key(filter: {or: [${keys.keys.join(',')}]})\n                    }\n                  }\n                }\n              }\n            }`,\n              variables: {}\n            },\n            { 'Content-Type': 'application/json; charset=UTF-8' }\n          ) : of({ response: { data: { posts: { items: [] } } } });\n\n        sub = forkJoin(products$, posts$).pipe(\n          map(([{ response: products }, { response: posts }]) => ([\n            products.items.filter((prod) => prod.id !== product.id).slice(0, 3),\n            posts.data.posts.items\n          ]))\n        ).subscribe(([products, posts]) => {\n          setRelated({ products, posts });\n        });\n\n      }\n      return () => sub.unsubscribe();\n    },\n    [product ? product.id : undefined]\n  );\n\n  return (\n    <Layout>\n      <Container>\n        {\n          product ? (\n            <Row>\n              <Col md={12} lg={12}>\n                <ProductCard product={product}/>\n              </Col>\n              {related && <>\n                {related.products.length > 0 && <Col md={12}>\n                  <h2 className=\"page-title page-title--not-last\">Related Products</h2>\n                  <div className=\"catalog-items__wrap\">\n                    <div className=\"catalog-items\">\n                      {\n                        related.products.map(product =>\n                          <Product key={product.id} product={product}/>\n                        )\n                      }\n                    </div>\n                  </div>\n                </Col>}\n                {related.posts.length > 0 && <Col md={12}>\n                  <h2 className=\"page-title page-title--not-last\">Related Posts</h2>\n                  <Row>\n                    {\n                      related.posts.map((post) =>\n                        <Col key={post.slug_s} md={4}>\n                          <BlogPostCard {...post} hideSummary/>\n                        </Col>\n                      )\n                    }\n                  </Row>\n                </Col>}\n              </>}\n            </Row>\n          ) : <Spinner/>\n        }\n      </Container>\n    </Layout>\n  );\n\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport Anchor from '../shared/Anchor';\nimport { getLoginFormDefaults } from '../../util/component';\nimport AssertContent from '../shared/AssertContent';\n\nimport { Field, reduxForm } from 'redux-form';\nimport EyeIcon from 'mdi-react/EyeIcon';\nimport KeyVariantIcon from 'mdi-react/KeyVariantIcon';\nimport AccountOutlineIcon from 'mdi-react/AccountOutlineIcon';\nimport { Link } from 'react-router-dom';\nimport renderCheckBoxField from '../shared/form/CheckBox';\nimport Alert from '../shared/Alert';\nimport { ajax } from 'rxjs/ajax';\nimport { catchError } from 'rxjs/operators';\nimport { __RouterContext } from 'react-router';\nimport { loginComplete } from '../../redux/actions/usersActions';\nimport { useDispatch, useSelector } from 'react-redux';\n\nfunction LogInFormComponent(props) {\n\n  const dispatch = useDispatch();\n  const { history } = useContext(__RouterContext);\n  const state = useSelector(state => state);\n\n  const [showPassword, setShowPassword] = useState(false);\n  const [error, setError] = useState();\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    const data = state.form.login.values;\n    if (data) {\n      if (data.rememberMe) {\n        localStorage.setItem(`${process.env.REACT_APP_STORE_KEY}.email`, data.email);\n      } else {\n        localStorage.removeItem(`${process.env.REACT_APP_STORE_KEY}.email`);\n      }\n      ajax.post(\n        `/api/1/security/login.json`,\n        data,\n        {\n          'Content-Type': 'application/json; charset=UTF-8'\n        }\n      ).pipe(\n        catchError((error) => [error])\n      ).subscribe((response) => {\n        if (response.name === 'AjaxError') {\n          setError(response.response.message);\n        } else {\n          dispatch(loginComplete(response.response));\n          history.push(state.users.loginRedirect);\n        }\n      });\n    }\n  };\n\n  useEffect(\n    () => {\n      const meRemembered = !!localStorage.getItem(`${process.env.REACT_APP_STORE_KEY}.email`);\n      document.querySelectorAll('.form input')[meRemembered ? 1 : 0].focus();\n    },\n    []\n  );\n\n  return (\n    <form className=\"form\" onSubmit={onSubmit}>\n      {\n        error &&\n        <Alert color=\"danger\" className=\"alert--bordered\">\n          <p>{error}</p>\n        </Alert>\n      }\n      <div className=\"form__form-group\">\n        <div className=\"form__form-group-field\">\n          <div className=\"form__form-group-icon\">\n            <AccountOutlineIcon/>\n          </div>\n          <Field\n            name=\"email\"\n            type=\"text\"\n            component=\"input\"\n            placeholder=\"Name\"\n          />\n        </div>\n      </div>\n      <div className=\"form__form-group\">\n        <div className=\"form__form-group-field\">\n          <div className=\"form__form-group-icon\">\n            <KeyVariantIcon/>\n          </div>\n          <Field\n            name=\"password\"\n            component=\"input\"\n            type={showPassword ? 'text' : 'password'}\n            placeholder=\"Password\"\n          />\n          <button\n            type=\"button\"\n            className={`form__form-group-button${showPassword ? ' active' : ''}`}\n            onClick={() => setShowPassword(!showPassword)}\n          ><EyeIcon/>\n          </button>\n        </div>\n        <div className=\"account__forgot-password\">\n          <a href=\"/\">Forgot a password?</a>\n        </div>\n      </div>\n      <div className=\"form__form-group\">\n        <div className=\"form__form-group-field\">\n          <Field\n            type=\"checkbox\"\n            name=\"rememberMe\"\n            label=\"Remember me\"\n            component={renderCheckBoxField}\n          />\n        </div>\n      </div>\n      <div className=\"account__btns\">\n        <button className=\"btn btn-primary account__btn account__sign-in-btn\" type=\"submit\">Sign In</button>\n        <Link className=\"btn btn-outline-primary account__btn account__register-btn\" to=\"/register\">\n          Create Account\n        </Link>\n      </div>\n    </form>\n  );\n\n}\n\nexport const LogInForm = reduxForm({ form: 'login' })(LogInFormComponent);\n\nfunction LogIn() {\n  return <AssertContent\n    requirements={['header']}\n    render={({ header }) => {\n      const {\n        logo_s,\n        logo_alt_t,\n        logo_url_s\n      } = header;\n      return (\n        <div className=\"account\">\n          <div className=\"account__wrapper\">\n            <div className=\"account__card\">\n              <div className=\"login-view__logo\">\n                <Anchor href={logo_url_s} className=\"login-view__logo\">\n                  <img src={logo_s} alt={logo_alt_t} className=\"login-view__logo-img\"/>\n                </Anchor>\n              </div>\n              <div className=\"account__head\">\n                <h3 className=\"account__title\">Welcome</h3>\n                <h4 className=\"account__subhead subhead\">Please log in</h4>\n              </div>\n              <LogInForm onSubmit initialValues={getLoginFormDefaults()}/>\n            </div>\n          </div>\n        </div>\n      );\n    }}\n  />;\n}\n\nexport default LogIn;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { memo, useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport AssertContent from '../shared/AssertContent';\nimport Anchor from '../shared/Anchor';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { registrationComplete } from '../../redux/actions/usersActions';\n\nimport { Button, ButtonToolbar } from 'reactstrap';\nimport CheckboxMarkedCircleIcon from 'mdi-react/CheckboxMarkedCircleIcon';\nimport EmailIcon from 'mdi-react/EmailIcon';\n\nimport { Field, reduxForm } from 'redux-form';\nimport EyeIcon from 'mdi-react/EyeIcon';\nimport KeyVariantIcon from 'mdi-react/KeyVariantIcon';\nimport AccountOutlineIcon from 'mdi-react/AccountOutlineIcon';\nimport MailRuIcon from 'mdi-react/MailRuIcon';\nimport Alert from '../shared/Alert';\nimport { catchError } from 'rxjs/operators';\nimport { ajax } from 'rxjs/ajax';\n\nexport const RegisterFormComponent = memo(function ({ handleSubmit, onSuccess }) {\n\n  const [error, setError] = useState();\n  const [showPassword, setShowPassword] = useState(false);\n\n  const submit = (values) => {\n    ajax.post(\n      `/api/1/customer/signup.json`,\n      values,\n      { 'Content-Type': 'application/json; charset=UTF-8' }\n    ).pipe(\n      catchError((error) => [error])\n    ).subscribe((response) => {\n      if (response.name === 'AjaxError') {\n        setError(response.response.message);\n      } else {\n        onSuccess && onSuccess(response.response, values);\n      }\n    })\n  };\n\n  return (\n    <form className=\"form\" onSubmit={handleSubmit(submit)}>\n      {\n        error &&\n        <Alert color=\"danger\" className=\"alert--bordered\">\n          <p>{error}</p>\n        </Alert>\n      }\n      <div className=\"form__form-group\">\n        <div className=\"form__form-group-field\">\n          <div className=\"form__form-group-icon\">\n            <AccountOutlineIcon/>\n          </div>\n          <Field\n            name=\"firstName\"\n            component=\"input\"\n            type=\"text\"\n            placeholder=\"First Name\"\n          />\n        </div>\n      </div>\n      <div className=\"form__form-group\">\n        <div className=\"form__form-group-field\">\n          <div className=\"form__form-group-icon\">\n            <AccountOutlineIcon/>\n          </div>\n          <Field\n            name=\"lastName\"\n            component=\"input\"\n            type=\"text\"\n            placeholder=\"Last Name\"\n          />\n        </div>\n      </div>\n      <div className=\"form__form-group\">\n        <div className=\"form__form-group-field\">\n          <div className=\"form__form-group-icon\">\n            <MailRuIcon/>\n          </div>\n          <Field\n            name=\"email\"\n            component=\"input\"\n            type=\"email\"\n            placeholder=\"E-mail (username)\"\n          />\n        </div>\n      </div>\n      <div className=\"form__form-group form__form-group--forgot\">\n        <div className=\"form__form-group-field\">\n          <div className=\"form__form-group-icon\">\n            <KeyVariantIcon/>\n          </div>\n          <Field\n            name=\"password\"\n            component=\"input\"\n            type={showPassword ? 'text' : 'password'}\n            placeholder=\"Password\"\n          />\n          <button\n            type=\"button\"\n            className={`form__form-group-button${showPassword ? ' active' : ''}`}\n            onClick={() => setShowPassword(!showPassword)}\n          ><EyeIcon/>\n          </button>\n        </div>\n      </div>\n      <div className=\"account__btns\">\n        <button\n          type=\"submit\"\n          className=\"btn btn-primary account__btn\"\n        >\n          Sign Up\n        </button>\n      </div>\n    </form>\n  );\n});\n\nexport const RegisterForm = reduxForm({ form: 'registration' })(RegisterFormComponent);\n\nconst RegistrationConfirmation = () => (\n  <div className=\"email-confirmation\">\n    <div className=\"email-confirmation__icon\">\n      <EmailIcon className=\"email-confirmation__mail\"/>\n      <CheckboxMarkedCircleIcon className=\"email-confirmation__check\"/>\n    </div>\n    <h3 className=\"email-confirmation__title\">Your account was created successfully.</h3>\n    <p className=\"email-confirmation__sub\">Please check your email to confirm your account.</p>\n    <ButtonToolbar className=\"email-confirmation__buttons\">\n      <Button color=\"primary\">Resend E-mail</Button>\n    </ButtonToolbar>\n  </div>\n);\nconst Register = () => {\n  const dispatch = useDispatch();\n  const success = useSelector(state => state.users.registerConfirmPending);\n  return <AssertContent requirements={['header']} render={({ header }) => {\n    const {\n      logo_s,\n      logo_alt_t,\n      logo_url_s\n    } = header;\n    return (\n      <div className=\"account\">\n        <div className=\"account__wrapper\">\n          <div className=\"account__card\">\n            <div className=\"login-view__logo\">\n              <Anchor href={logo_url_s} className=\"login-view__logo\">\n                <img src={logo_s} alt={logo_alt_t} className=\"login-view__logo-img\"/>\n              </Anchor>\n            </div>\n            {\n              success\n                ? <RegistrationConfirmation/>\n                : <>\n                  <div className=\"account__head\">\n                    <h3 className=\"account__title\">\n                      Create an account\n                    </h3>\n                  </div>\n                  <RegisterForm onSuccess={() => dispatch(registrationComplete())}/>\n                  <div className=\"account__have-account\">\n                    <p>Already have an account? <Link to=\"/login\">Login</Link></p>\n                  </div>\n                </>\n            }\n          </div>\n        </div>\n      </div>\n    );\n  }}/>;\n};\n\nexport default Register;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React from 'react';\nimport { Col, Row, Container } from 'reactstrap';\nimport A from \"../shared/Anchor\";\nimport { useICE } from '../../util/component';\n\nfunction Hero(props) {\n  const {\n    label,\n    title_t,\n    image_s,\n    localId,\n    image_alt_t,\n    section_background_image_s,\n    content_html_raw,\n    buttons_o\n  } = props;\n  const { props: ice } = useICE({ modelId: localId, label });\n  return (\n    <div\n      className=\"landing__header\"\n      style={\n        section_background_image_s\n          ? { backgroundImage: `url(${section_background_image_s})` }\n          : {}\n      }\n      {...ice}\n    >\n      <Container>\n        <Row>\n          <Col md={12}>\n            <h2 className=\"landing__header-title\">\n              {title_t}\n            </h2>\n            <div\n              className=\"landing__header-subhead\"\n              dangerouslySetInnerHTML={{ __html: content_html_raw }}\n            />\n            {\n              buttons_o.item.map(({ label_s, link_s }, index) =>\n                <A\n                  key={index}\n                  href={link_s}\n                  className=\"landing__btn landing__btn--header\"\n                >\n                  {label_s}\n                </A>\n              )\n            }\n            {\n              image_s &&\n              <img\n                className=\"landing__header-img\"\n                src={image_s}\n                alt={image_alt_t || ''}\n              />\n            }\n          </Col>\n        </Row>\n      </Container>\n    </div>\n  );\n}\n\nexport default Hero;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React from 'react';\nimport { Col, Row, Container } from 'reactstrap';\nimport { useICE } from '../../util/component';\n\nfunction Features(props) {\n  const {\n    label,\n    localId,\n    title_s,\n    features_o,\n    closingContent_html_raw,\n    openingContent_html_raw\n  } = props;\n  const { props: ice } = useICE({ modelId: localId, label });\n  return (\n    <section className=\"landing__section\" {...ice}>\n      <Container>\n        <Row>\n          <Col md={12}>\n            <h3 className=\"landing__section-title\">{title_s}</h3>\n            {openingContent_html_raw &&\n            <div className=\"landing__feature landing__feature-caption\" style={{ width: '100%' }}\n                 dangerouslySetInnerHTML={{ __html: openingContent_html_raw }}/>}\n          </Col>\n        </Row>\n        <Row>\n          <Col md={12}>\n            <div className=\"landing__features-wrap\">\n              {\n                features_o.item.map(({ description_t, icon_s, title_s }, index) =>\n                  <div className=\"landing__feature\" key={index}>\n                    <div className=\"landing__feature-img-wrap\">\n                      <img src={icon_s} alt=\"\"/>\n                    </div>\n                    <p className=\"landing__feature-title\">{title_s}</p>\n                    <p className=\"landing__feature-caption\">{description_t}</p>\n                  </div>\n                )\n              }\n            </div>\n          </Col>\n        </Row>\n        <Row>\n          <Col md={12}>\n            <p className=\"landing__additional-title\" dangerouslySetInnerHTML={{ __html: closingContent_html_raw }}/>\n          </Col>\n        </Row>\n      </Container>\n    </section>\n  );\n}\n\nexport default Features;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/* eslint-disable max-len */\nimport React from 'react';\nimport {\n  Col, Row, Container, Card, CardBody,\n} from 'reactstrap';\nimport StarIcon from 'mdi-react/StarIcon';\nimport { useICE } from '../../util/component';\n\nfunction Testimonials(props) {\n  const {\n    label,\n    localId,\n    title_s,\n    testimonials_o\n  } = props;\n  const { props: ice } = useICE({ modelId: localId, label });\n  return (\n    <section className=\"landing__section\" {...ice}>\n      <Container>\n        <Row>\n          <Col md={12}>\n            <h3 className=\"landing__section-title\">{title_s}</h3>\n          </Col>\n        </Row>\n        <Row className=\"landing__testimonials\">\n          {\n            testimonials_o.item.map(({ customer_s, description_html_raw, link_s, stars_i }, index) =>\n              <Col key={index} lg={4} md={6}>\n                <a\n                  href={link_s}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  <Card>\n                    <CardBody className=\"landing__testimonial\">\n                      <p className=\"landing__testimonial-name\">{customer_s}</p>\n                      <div className=\"landing__testimonial-stars\">\n                        {(\n                          () => {\n                            const stars = [];\n                            for (let i = 0; i < stars_i; i++)\n                              stars.push(<StarIcon key={i}/>);\n                            return stars;\n                          }\n                        )()}\n                      </div>\n                      <p\n                        className=\"landing__testimonial-review\"\n                        dangerouslySetInnerHTML={{ __html: description_html_raw }}\n                      />\n                    </CardBody>\n                  </Card>\n                </a>\n              </Col>\n            )\n          }\n        </Row>\n      </Container>\n    </section>\n  );\n}\n\nexport default Testimonials;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React from 'react';\nimport { Col, Container, Row } from 'reactstrap';\nimport { useICE } from '../../util/component';\n\nfunction ContentSideImage(props) {\n  const {\n    section_background_image_s,\n    contentAlignment_s,\n    content_html_raw,\n    image_alt_s,\n    image_s,\n    title_s,\n    localId,\n    label\n  } = props;\n  const { props: ice } = useICE({ modelId: localId, label });\n  const\n    CopyColumn = (\n      <Col md={6} sm={12} xs={12}>\n        <div className=\"landing__code-text\">\n          <div className=\"landing__code-wrap\">\n            <h3 className=\"landing__section-title\">{title_s}</h3>\n            <p className=\"landing__section-description\" dangerouslySetInnerHTML={{ __html: content_html_raw }}/>\n          </div>\n        </div>\n      </Col>\n    ),\n    ImageColumn = (\n      <Col md={6} sm={12} xs={12}>\n        <div className=\"landing__code-img landing__code-img--no-shadow\">\n          <div className=\"landing__code-wrap\">\n            <img className=\"landing__img landing__img--over\" src={image_s} alt={image_alt_s || ''}/>\n          </div>\n        </div>\n      </Col>\n    );\n\n  return (\n    <section className=\"landing__section\" {...ice}>\n      {\n        section_background_image_s &&\n        <img className=\"landing__section-background landing__section-background--technologies\" src={section_background_image_s} alt=\"\"/>\n      }\n      <Container>\n        <Row\n          className={`landing__code ${\n            contentAlignment_s === 'right'\n              ? 'landing__code--right'\n              : 'landing__code--first landing__code--left'\n          }`}\n        >\n          {\n            (contentAlignment_s === 'right')\n              ? (\n                <>\n                  {ImageColumn}\n                  {CopyColumn}\n                </>\n              ) : (\n                <>\n                  {CopyColumn}\n                  {ImageColumn}\n                </>\n              )\n          }\n        </Row>\n      </Container>\n    </section>\n  );\n}\n\nexport default ContentSideImage;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React from 'react';\nimport Alert from './Alert';\nimport { Col, Container, Row } from 'reactstrap';\n\nconst NotImplemented = ({ contentType }) => (\n  <aside className=\"landing__section\">\n    <Container>\n      <Row>\n        <Col sm={12}>\n          <Alert color=\"warning\" className=\"alert--neutral\" icon>\n            <p>Unrecognized or unimplemented component of type \"{contentType}\".</p>\n          </Alert>\n        </Col>\n      </Row>\n    </Container>\n  </aside>\n);\n\nexport default NotImplemented;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/* eslint-disable max-len */\nimport React, { useEffect, useState } from 'react';\nimport {\n  Col,\n  Row,\n  Container,\n} from 'reactstrap';\nimport { useICE } from '../../util/component';\nimport { ajax } from 'rxjs/ajax';\nimport Product from './Product';\nimport { switchMap, map } from 'rxjs/operators';\n\nwindow.test = (offset, limit) => {\n  return ajax.get(`/api/1/product/all.json?limit=${limit}&locale=en_us&offset=${offset}`)\n};\n\nexport default function ProductTeaser(props) {\n\n  const {\n    label,\n    localId,\n    title_s,\n    numOfProducts_i = 3\n  } = props;\n\n  const { props: ice } = useICE({ modelId: localId, label });\n  const [products, setProducts] = useState();\n\n  useEffect(\n    () => {\n      // Probe for total number of catalog items\n      ajax.get(`/api/1/product/all.json?limit=${numOfProducts_i}&locale=en_us&offset=0`)\n        .pipe(\n          switchMap(({ response: { total, items } }) => {\n            if (total === 0 || total <= numOfProducts_i) {\n              return items;\n            } else {\n              // Get a few products from the catalog based on numOfProducts_i &\n              const offset = Math.ceil(Math.random() * total) - numOfProducts_i;\n              return ajax.get(`/api/1/product/all.json?limit=${numOfProducts_i}&locale=en_us&offset=${offset}`).pipe(\n                map(({ response: { items } }) => items)\n              );\n            }\n          })\n        ).subscribe(items => setProducts(items));\n    },\n    []\n  );\n\n  return (\n    <section className=\"landing__section\" {...ice}>\n      <Container>\n        <Row>\n          <Col md={12}>\n            <h3 className=\"landing__section-title\">{title_s}</h3>\n          </Col>\n        </Row>\n        <Row className=\"landing__teasers\">\n          {\n            products && products.map((product) =>\n              <Product key={product.id} product={product}/>\n            )\n          }\n          {\n            products && products.length === 0 && <strong style={{\n              display:'block',\n              textAlign:'center',\n              width: '100%'\n            }}>\n              No products on the catalog yet. Please check back later!\n            </strong>\n          }\n        </Row>\n      </Container>\n    </section>\n  );\n}\n\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useEffect } from 'react';\n\nimport Hero from './Hero';\nimport Features from './Features';\nimport Testimonials from './Testimonials';\nimport ContentSideImage from './ContentSideImage';\nimport Layout from './Layout';\nimport NotImplemented from '../shared/NotImplemented';\nimport { useSelector } from 'react-redux';\nimport BlogTeaser from './BlogTeaser';\nimport { FETCH_GRAPH } from '../../redux/actions/contentActions';\nimport { byIdLoadingKey } from '../../util/redux';\nimport ProductTeaser from './ProductTeaser';\n\nconst ContentTypeMap = {\n  '/component/hero': Hero,\n  '/component/two-column': ContentSideImage,\n  '/component/feature-list': Features,\n  '/component/testimonials': Testimonials,\n  '/component/blog_teaser': BlogTeaser,\n  '/component/product-teaser': ProductTeaser\n};\n\nexport default function Home() {\n\n  const content = useSelector(state => state.content.home);\n  const persona = useSelector(state => state.users.persona);\n\n  useEffect(\n    () => {\n      if (content) {\n        window.amplify && window.amplify.publish('INIT_ICE_REGIONS');\n      }\n    },\n    [content]\n  );\n\n  return (\n    <Layout\n      className=\"landing__home-page\"\n      variables={{\n        post: [\n          { name: 'ageGroup', type: 'String', value: persona ? persona.age : null },\n          { name: 'gender', type: 'String', value: persona ? persona.gender : null },\n          { name: 'slug', type: 'String', value: null },\n          { name: 'limit', type: 'Int', value: 3 }\n        ]\n      }}\n      requirements={[\n        'home',\n        {\n          name: 'post',\n          getter: (content) =>\n            (content.loading[byIdLoadingKey(FETCH_GRAPH, 'home')] === false) ? content.post : null\n        }\n      ]}\n    >\n      {\n        content && content.map((component) => {\n          const Component = ContentTypeMap[component.contentType] || NotImplemented;\n          return <Component key={component.objectId || component.localId} {...component} />\n        })\n      }\n    </Layout>\n  );\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { withTranslation } from 'react-i18next';\n\nconst NotFound404 = (props) => (\n  <div className=\"not-found\">\n    <div className=\"not-found__content\">\n      <h3 className=\"not-found__info\">The page you are looking for was not be found.</h3>\n      <Link className=\"btn btn-primary\" to={props.href || '/'}>{props.t('back_home')}</Link>\n    </div>\n  </div>\n);\n\nexport default withTranslation('common')(NotFound404);\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React from 'react';\n\n// var defaultEmptyImg = \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTg0IiBoZWlnaHQ9IjE1MiIgdmlld0JveD0iMCAwIDE4NCAxNTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI0IDMxLjY3KSI+CiAgICAgIDxlbGxpcHNlIGZpbGwtb3BhY2l0eT0iLjgiIGZpbGw9IiNGNUY1RjciIGN4PSI2Ny43OTciIGN5PSIxMDYuODkiIHJ4PSI2Ny43OTciIHJ5PSIxMi42NjgiLz4KICAgICAgPHBhdGggZD0iTTEyMi4wMzQgNjkuNjc0TDk4LjEwOSA0MC4yMjljLTEuMTQ4LTEuMzg2LTIuODI2LTIuMjI1LTQuNTkzLTIuMjI1aC01MS40NGMtMS43NjYgMC0zLjQ0NC44MzktNC41OTIgMi4yMjVMMTMuNTYgNjkuNjc0djE1LjM4M2gxMDguNDc1VjY5LjY3NHoiIGZpbGw9IiNBRUI4QzIiLz4KICAgICAgPHBhdGggZD0iTTEwMS41MzcgODYuMjE0TDgwLjYzIDYxLjEwMmMtMS4wMDEtMS4yMDctMi41MDctMS44NjctNC4wNDgtMS44NjdIMzEuNzI0Yy0xLjU0IDAtMy4wNDcuNjYtNC4wNDggMS44NjdMNi43NjkgODYuMjE0djEzLjc5Mmg5NC43NjhWODYuMjE0eiIgZmlsbD0idXJsKCNsaW5lYXJHcmFkaWVudC0xKSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTMuNTYpIi8+CiAgICAgIDxwYXRoIGQ9Ik0zMy44MyAwaDY3LjkzM2E0IDQgMCAwIDEgNCA0djkzLjM0NGE0IDQgMCAwIDEtNCA0SDMzLjgzYTQgNCAwIDAgMS00LTRWNGE0IDQgMCAwIDEgNC00eiIgZmlsbD0iI0Y1RjVGNyIvPgogICAgICA8cGF0aCBkPSJNNDIuNjc4IDkuOTUzaDUwLjIzN2EyIDIgMCAwIDEgMiAyVjM2LjkxYTIgMiAwIDAgMS0yIDJINDIuNjc4YTIgMiAwIDAgMS0yLTJWMTEuOTUzYTIgMiAwIDAgMSAyLTJ6TTQyLjk0IDQ5Ljc2N2g0OS43MTNhMi4yNjIgMi4yNjIgMCAxIDEgMCA0LjUyNEg0Mi45NGEyLjI2MiAyLjI2MiAwIDAgMSAwLTQuNTI0ek00Mi45NCA2MS41M2g0OS43MTNhMi4yNjIgMi4yNjIgMCAxIDEgMCA0LjUyNUg0Mi45NGEyLjI2MiAyLjI2MiAwIDAgMSAwLTQuNTI1ek0xMjEuODEzIDEwNS4wMzJjLS43NzUgMy4wNzEtMy40OTcgNS4zNi02LjczNSA1LjM2SDIwLjUxNWMtMy4yMzggMC01Ljk2LTIuMjktNi43MzQtNS4zNmE3LjMwOSA3LjMwOSAwIDAgMS0uMjIyLTEuNzlWNjkuNjc1aDI2LjMxOGMyLjkwNyAwIDUuMjUgMi40NDggNS4yNSA1LjQydi4wNGMwIDIuOTcxIDIuMzcgNS4zNyA1LjI3NyA1LjM3aDM0Ljc4NWMyLjkwNyAwIDUuMjc3LTIuNDIxIDUuMjc3LTUuMzkzVjc1LjFjMC0yLjk3MiAyLjM0My01LjQyNiA1LjI1LTUuNDI2aDI2LjMxOHYzMy41NjljMCAuNjE3LS4wNzcgMS4yMTYtLjIyMSAxLjc4OXoiIGZpbGw9IiNEQ0UwRTYiLz4KICAgIDwvZz4KICAgIDxwYXRoIGQ9Ik0xNDkuMTIxIDMzLjI5MmwtNi44MyAyLjY1YTEgMSAwIDAgMS0xLjMxNy0xLjIzbDEuOTM3LTYuMjA3Yy0yLjU4OS0yLjk0NC00LjEwOS02LjUzNC00LjEwOS0xMC40MDhDMTM4LjgwMiA4LjEwMiAxNDguOTIgMCAxNjEuNDAyIDAgMTczLjg4MSAwIDE4NCA4LjEwMiAxODQgMTguMDk3YzAgOS45OTUtMTAuMTE4IDE4LjA5Ny0yMi41OTkgMTguMDk3LTQuNTI4IDAtOC43NDQtMS4wNjYtMTIuMjgtMi45MDJ6IiBmaWxsPSIjRENFMEU2Ii8+CiAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNDkuNjUgMTUuMzgzKSIgZmlsbD0iI0ZGRiI+CiAgICAgIDxlbGxpcHNlIGN4PSIyMC42NTQiIGN5PSIzLjE2NyIgcng9IjIuODQ5IiByeT0iMi44MTUiLz4KICAgICAgPHBhdGggZD0iTTUuNjk4IDUuNjNIMEwyLjg5OC43MDR6TTkuMjU5LjcwNGg0Ljk4NVY1LjYzSDkuMjU5eiIvPgogICAgPC9nPgogIDwvZz4KPC9zdmc+Cg==\";\n// var simpleEmptyImg = \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNDEiIHZpZXdCb3g9IjAgMCA2NCA0MSIgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAxKSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgIDxlbGxpcHNlIGZpbGw9IiNGNUY1RjUiIGN4PSIzMiIgY3k9IjMzIiByeD0iMzIiIHJ5PSI3Ii8+CiAgICA8ZyBmaWxsLXJ1bGU9Im5vbnplcm8iIHN0cm9rZT0iI0Q5RDlEOSI+CiAgICAgIDxwYXRoIGQ9Ik01NSAxMi43Nkw0NC44NTQgMS4yNThDNDQuMzY3LjQ3NCA0My42NTYgMCA0Mi45MDcgMEgyMS4wOTNjLS43NDkgMC0xLjQ2LjQ3NC0xLjk0NyAxLjI1N0w5IDEyLjc2MVYyMmg0NnYtOS4yNHoiLz4KICAgICAgPHBhdGggZD0iTTQxLjYxMyAxNS45MzFjMC0xLjYwNS45OTQtMi45MyAyLjIyNy0yLjkzMUg1NXYxOC4xMzdDNTUgMzMuMjYgNTMuNjggMzUgNTIuMDUgMzVoLTQwLjFDMTAuMzIgMzUgOSAzMy4yNTkgOSAzMS4xMzdWMTNoMTEuMTZjMS4yMzMgMCAyLjIyNyAxLjMyMyAyLjIyNyAyLjkyOHYuMDIyYzAgMS42MDUgMS4wMDUgMi45MDEgMi4yMzcgMi45MDFoMTQuNzUyYzEuMjMyIDAgMi4yMzctMS4zMDggMi4yMzctMi45MTN2LS4wMDd6IiBmaWxsPSIjRkFGQUZBIi8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K\";\n\nconst img = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNDEiIHZpZXdCb3g9IjAgMCA2NCA0MSIgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAxKSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgIDxlbGxpcHNlIGZpbGw9IiNGNUY1RjUiIGN4PSIzMiIgY3k9IjMzIiByeD0iMzIiIHJ5PSI3Ii8+CiAgICA8ZyBmaWxsLXJ1bGU9Im5vbnplcm8iIHN0cm9rZT0iI0Q5RDlEOSI+CiAgICAgIDxwYXRoIGQ9Ik01NSAxMi43Nkw0NC44NTQgMS4yNThDNDQuMzY3LjQ3NCA0My42NTYgMCA0Mi45MDcgMEgyMS4wOTNjLS43NDkgMC0xLjQ2LjQ3NC0xLjk0NyAxLjI1N0w5IDEyLjc2MVYyMmg0NnYtOS4yNHoiLz4KICAgICAgPHBhdGggZD0iTTQxLjYxMyAxNS45MzFjMC0xLjYwNS45OTQtMi45MyAyLjIyNy0yLjkzMUg1NXYxOC4xMzdDNTUgMzMuMjYgNTMuNjggMzUgNTIuMDUgMzVoLTQwLjFDMTAuMzIgMzUgOSAzMy4yNTkgOSAzMS4xMzdWMTNoMTEuMTZjMS4yMzMgMCAyLjIyNyAxLjMyMyAyLjIyNyAyLjkyOHYuMDIyYzAgMS42MDUgMS4wMDUgMi45MDEgMi4yMzcgMi45MDFoMTQuNzUyYzEuMjMyIDAgMi4yMzctMS4zMDggMi4yMzctMi45MTN2LS4wMDd6IiBmaWxsPSIjRkFGQUZBIi8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K';\n\nexport function Empty(props) {\n  return (\n    <section className=\"empty\">\n      <figure className=\"empty__fig\">\n        <img className=\"empty__img\" src={img} alt=\"\"/>\n      </figure>\n      {\n        props.description &&\n        <p className=\"empty__desc\">\n          {props.description}\n        </p>\n      }\n    </section>\n  )\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Button, ButtonGroup, ButtonToolbar, Table } from 'reactstrap';\nimport { Link } from 'react-router-dom';\nimport {\n  ADD_TO_CART,\n  REMOVE_FROM_CART,\n  removeFromCart,\n  UPDATE_CART, UPDATE_CART_ITEM_QUANTITY,\n  updateCartItemQuantity\n} from '../../redux/actions/productsActions';\nimport { money } from '../../util/string';\nimport AddCircleOutlineIcon from 'mdi-react/AddCircleOutlineIcon';\nimport DeleteForeverIcon from 'mdi-react/DeleteForeverIcon';\nimport RemoveCircleOutlineIcon from 'mdi-react/RemoveCircleOutlineIcon';\nimport { Empty } from '../shared/Empty';\nimport { useCartUpdateInFlight } from '../../util/component';\n\n\nexport function CartSummary() {\n  const { cart } = useSelector(state => state.products);\n  return (\n    (cart.items.length === 0) ? (\n      <h2 className=\"text-center\">Your cart is empty</h2>\n    ) : (\n      <Table className=\"table--bordered cart__table cart__summary-table\" responsive>\n        <thead>\n        <tr>\n          <th>Product</th>\n          <th/>\n        </tr>\n        </thead>\n        <tbody>\n        {\n          cart && cart.items.map((item) => (\n            <tr key={item.id}>\n              <td>\n                <span className=\"cart__preview-img\">\n                  <img src={item.images[0].url} alt=\"product_preview\"/>\n                </span>\n                <span className=\"cart__product-name--sm\">\n                  {item.productName}\n                </span>\n              </td>\n              <td>\n                <div className=\"cart__quantity-wrapper\">\n                  <span className=\"cart__quantity-display\">x{item.quantity}</span>\n                </div>\n              </td>\n            </tr>\n          ))\n        }\n        </tbody>\n      </Table>\n    )\n  );\n}\n\nfunction CartBody(props) {\n  const dispatch = useDispatch();\n  const { cart } = useSelector(state => state.products);\n  const options = {\n    ...props.displayOptions\n      ? { ...CartBody.defaultProps.displayOptions, ...props.displayOptions }\n      : CartBody.defaultProps.displayOptions\n  };\n  const updatesInFlight = useCartUpdateInFlight();\n  return (\n    (cart.items.length === 0) ? (\n      <Empty description={\n        <>\n          <span>Your cart is empty.</span><br/>\n          <span>If you had left items in your cart, simply <Link to=\"/login\">log in</Link> to recover them.</span>\n        </>\n      } />\n    ) : (\n      <Table className=\"table--bordered cart__table\" responsive>\n        <thead>\n        <tr>\n          <th>Product</th>\n          <th>Quantity</th>\n          {options.showPrice && <th>Price</th>}\n          {options.showTax && <th>Tax</th>}\n          {options.showTotal && <th>Total</th>}\n          {options.showRemove && <th/>}\n        </tr>\n        </thead>\n        <tbody>\n        {\n          cart && cart.items.map((item) => (\n            <tr key={item.id}>\n              <td>\n                <span className=\"cart__preview-img\">\n                  <img src={item.images[0].url} alt=\"product_preview\"/>\n                </span>\n                <Link\n                  className=\"cart__product-name\"\n                  to={`/catalog/${item.productId}`}\n                >\n                  {item.productName}\n                </Link>\n              </td>\n              <td>\n                <div className=\"cart__quantity-wrapper\">\n                  <span className=\"cart__quantity-display\">{item.quantity}</span>\n                  {\n                    options.showQuantityModifiers &&\n                    <ButtonToolbar>\n                      <ButtonGroup className=\"btn-group--icons\">\n                        <Button\n                          type=\"button\"\n                          className=\"cart__remove-one-button sm\"\n                          outline\n                          onClick={() =>\n                            dispatch(updateCartItemQuantity({\n                              ...item,\n                              quantity: item.quantity - 1\n                            }))\n                          }\n                          disabled={updatesInFlight}\n                        >\n                          <RemoveCircleOutlineIcon/>\n                        </Button>\n                        <Button\n                          type=\"button\"\n                          className=\"cart__add-one-button sm\"\n                          outline\n                          onClick={() =>\n                            dispatch(\n                              updateCartItemQuantity({\n                                ...item,\n                                quantity: item.quantity + 1\n                              })\n                            )\n                          }\n                          disabled={updatesInFlight}\n                        >\n                          <AddCircleOutlineIcon/>\n                        </Button>\n                      </ButtonGroup>\n                    </ButtonToolbar>\n                  }\n                </div>\n              </td>\n              {options.showPrice && <td>{money(item.unitPrice, cart.currency)}</td>}\n              {options.showTax && <td>{money(item.taxedPrice, cart.currency)}</td>}\n              {options.showTotal && <td>{money(item.totalPrice, cart.currency)}</td>}\n              {options.showRemove && <td>\n                <button\n                  className=\"cart__table-btn\" type=\"button\"\n                  onClick={() => dispatch(removeFromCart(item))}\n                >\n                  <DeleteForeverIcon/> Remove\n                </button>\n              </td>}\n            </tr>\n          ))\n        }\n        </tbody>\n      </Table>\n    )\n  );\n}\n\nexport function OrderTotals(props) {\n  const { cart } = useSelector(state => state.products);\n  return (\n    <>\n      <h3 className=\"order-details__title\">Order Details</h3>\n      <div className=\"order-details__body\">\n        <table className=\"order-details__table\">\n          <tbody>\n          <tr>\n            <th className=\"order-details__th\">Products</th>\n            <td className=\"order-details__td\">{money(cart.items.reduce((sum, item) => (sum + item.totalPrice), 0), cart.currency)}</td>\n          </tr>\n          <tr>\n            <th className=\"order-details__th\">Shipping</th>\n            <td className=\"order-details__td\">{money(cart.shippingPrice, cart.currency)}</td>\n          </tr>\n          <tr>\n            <th className=\"order-details__th\">Sub Total</th>\n            <td className=\"order-details__td\">{money(cart.totalPrice, cart.currency)}</td>\n          </tr>\n          {\n            cart.taxedPrice &&\n            <tr>\n              <th className=\"order-details__th\">Tax</th>\n              <td className=\"order-details__td\">{money(cart.taxedPrice - cart.totalPrice, cart.currency)}</td>\n            </tr>\n          }\n          <tr>\n            <th className=\"order-details__th\">Total</th>\n            <td className=\"order-details__td\">{money(cart.taxedPrice, cart.currency)}</td>\n          </tr>\n          </tbody>\n        </table>\n      </div>\n    </>\n  );\n}\n\nCartBody.defaultProps = {\n  displayOptions: {\n    showTax: true,\n    showPrice: true,\n    showTotal: true,\n    showRemove: true,\n    showQuantityModifiers: true\n  }\n};\n\nexport default CartBody;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React from 'react';\nimport Layout from './Layout';\nimport { ButtonToolbar, Card, CardBody, Col, Container, Row } from 'reactstrap';\n\nimport { Link } from 'react-router-dom';\nimport { money } from '../../util/string';\nimport Spinner from '../shared/Spinner';\nimport CartBody from './CartBody';\nimport { useCart } from '../../util/component';\n\nfunction CartView() {\n  const cart = useCart();\n  return (\n    <Layout>\n      <Container>\n        <Row>\n          <Col md={12} lg={12}>\n            {\n              (cart == null)\n                ? <Spinner contained/>\n                : <Card className=\"cart\">\n                  <CardBody>\n                    <div className=\"card__title\">\n                      <h1 className=\"page-title bold-text\">Cart</h1>\n                    </div>\n                    <CartBody/>\n                    {\n                      (cart.items.length > 0) &&\n                      <div className=\"cart__total-wrapper\">\n                        <h4 className=\"cart__total\">Sub-total: {money(cart.totalPrice, cart.currency)}</h4>\n                        <ButtonToolbar className=\"form__button-toolbar\">\n                          <Link className=\"btn btn-primary\" to=\"/checkout\">Checkout</Link>\n                        </ButtonToolbar>\n                      </div>\n                    }\n                  </CardBody>\n                </Card>\n            }\n          </Col>\n        </Row>\n      </Container>\n    </Layout>\n  );\n}\n\nexport default CartView;\n\n\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/* eslint-disable react/no-children-prop */\nimport React, { useState } from 'react';\nimport { Button, ButtonToolbar } from 'reactstrap';\nimport { Field, reduxForm, SubmissionError } from 'redux-form';\nimport TextField from '@material-ui/core/TextField';\nimport PropTypes from 'prop-types';\nimport renderCheckBoxField from '../shared/form/CheckBox';\nimport Alert from '../shared/Alert';\nimport { loginComplete } from '../../redux/actions/usersActions';\nimport { useDispatch } from 'react-redux';\n\nconst renderTextField = ({ input, label, meta: { touched, error }, children }) => (\n  <TextField\n    className=\"material-form__field\"\n    label={label}\n    error={touched && error}\n    children={children}\n    value={input.value}\n    onChange={(e) => {\n      e.preventDefault();\n      input.onChange(e.target.value);\n    }}\n  />\n);\n\nrenderTextField.propTypes = {\n  input: PropTypes.shape().isRequired,\n  label: PropTypes.string,\n  meta: PropTypes.shape({\n    touched: PropTypes.bool,\n    error: PropTypes.string,\n  }),\n  children: PropTypes.arrayOf(PropTypes.element),\n};\n\nrenderTextField.defaultProps = {\n  meta: null,\n  label: '',\n  children: [],\n};\n\nfunction ProfileSettings(props) {\n  \n  const dispatch = useDispatch();\n\n  const { handleSubmit, reset, error } = props;\n  const [success, setSuccess] = useState();\n\n  function submit(values) {\n    success && setSuccess();\n    return fetch('/api/1/customer/update.json', {\n      body: JSON.stringify(values),\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json; charset=UTF-8'\n      }\n    }).then(async (response) => {\n      if (response.status !== 200) {\n        const data = await response.json();\n        throw new SubmissionError({\n          _error: data.message\n        });\n      }\n      setSuccess('Update successful.');\n      return response.json();\n    }).then((user) => {\n      dispatch(loginComplete(user))\n    });\n  }\n\n  return (\n    <form className=\"form\" onSubmit={handleSubmit(submit)}>\n      {\n        success &&\n        <Alert color=\"success\" className=\"alert--bordered\" onDismiss={() => setSuccess()}>\n          <p>{success}</p>\n        </Alert>\n      }\n      {\n        error &&\n        <Alert color=\"danger\" className=\"alert--bordered\">\n          <p>{error}</p>\n        </Alert>\n      }\n      <div className=\"form__form-group\">\n        <span className=\"form__form-group-label\">Name</span>\n        <div className=\"form__form-group-field\">\n          <Field\n            type=\"text\"\n            name=\"firstName\"\n            component=\"input\"\n          />\n        </div>\n      </div>\n      <div className=\"form__form-group\">\n        <span className=\"form__form-group-label\">Middle Name</span>\n        <div className=\"form__form-group-field\">\n          <Field\n            type=\"text\"\n            name=\"middleName\"\n            component=\"input\"\n          />\n        </div>\n      </div>\n      <div className=\"form__form-group\">\n        <span className=\"form__form-group-label\">Last Name</span>\n        <div className=\"form__form-group-field\">\n          <Field\n            type=\"text\"\n            name=\"lastName\"\n            component=\"input\"\n          />\n        </div>\n      </div>\n      <div className=\"form__form-group\">\n        <span className=\"form__form-group-label\">Phone Number</span>\n        <div className=\"form__form-group-field\">\n          <Field\n            type=\"text\"\n            name=\"phone\"\n            component=\"input\"\n          />\n        </div>\n      </div>\n      <div className=\"form__form-group\">\n        <span className=\"form__form-group-label\">E-mail</span>\n        <div className=\"form__form-group-field\">\n          <Field\n            type=\"text\"\n            name=\"email\"\n            component=\"input\"\n          />\n        </div>\n      </div>\n      <ButtonToolbar className=\"form__button-toolbar\">\n        <Button color=\"primary\" type=\"submit\">Update profile</Button>\n        <Button type=\"button\" onClick={reset}>\n          Cancel\n        </Button>\n      </ButtonToolbar>\n    </form>\n  );\n\n}\n\nfunction ChangePasswordFormComponent(props) {\n  const { handleSubmit, reset, error } = props;\n  const [type, setType] = useState('password');\n  const [success, setSuccess] = useState();\n\n  function submit(values) {\n    success && setSuccess();\n    return fetch('/api/1/customer/change-password.json', {\n      body: JSON.stringify(values),\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json; charset=UTF-8'\n      }\n    }).then(async (response) => {\n      if (response.status !== 200) {\n        const data = await response.json();\n        throw new SubmissionError({\n          _error: data.message\n        });\n      }\n      reset();\n      setSuccess('Update successful.');\n      return response.json();\n    });\n  }\n\n  return (\n    <form className=\"form\" onSubmit={handleSubmit(submit)}>\n      {\n        success &&\n        <Alert color=\"success\" className=\"alert--bordered\" onDismiss={() => setSuccess()}>\n          <p>{success}</p>\n        </Alert>\n      }\n      {\n        error &&\n        <Alert color=\"danger\" className=\"alert--bordered\">\n          <p>{error}</p>\n        </Alert>\n      }\n      <div className=\"form__form-group\">\n        <span className=\"form__form-group-label\">Current Password</span>\n        <div className=\"form__form-group-field\">\n          <Field\n            name=\"currentPassword\"\n            component=\"input\"\n            type={type}\n          />\n        </div>\n      </div>\n      <div className=\"form__form-group\">\n        <span className=\"form__form-group-label\">New Password</span>\n        <div className=\"form__form-group-field\">\n          <Field\n            name=\"newPassword\"\n            component=\"input\"\n            type={type}\n          />\n        </div>\n      </div>\n      <div className=\"form__form-group\">\n        <div className=\"form__form-group-field\">\n          <Field\n            name=\"showPassword\"\n            onChange={(value, checked) => setType(checked ? 'text' : 'password')}\n            component={renderCheckBoxField}\n            label=\"Show passwords\"\n          />\n        </div>\n      </div>\n      <ButtonToolbar className=\"form__button-toolbar\">\n        <Button color=\"primary\" type=\"submit\">Submit</Button>\n        <Button type=\"button\" onClick={reset}>\n          Cancel\n        </Button>\n      </ButtonToolbar>\n    </form>\n  );\n}\n\nexport const ChangePasswordForm = reduxForm({ form: 'passwordUpdateForm' })(ChangePasswordFormComponent);\n\nexport default reduxForm({ form: 'profileForm' })(ProfileSettings);\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { Badge, Table } from 'reactstrap';\nimport React, { useContext, useEffect } from 'react';\nimport { FETCH_ORDERS, fetchOrders } from '../../redux/actions/usersActions';\nimport Spinner from '../shared/Spinner';\nimport { capitalize, money } from '../../util/string';\nimport { Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Empty } from '../shared/Empty';\nimport { __RouterContext } from 'react-router';\n\nfunction OrderList() {\n  const { history } = useContext(__RouterContext);\n  const dispatch = useDispatch();\n  const { orders: ordersTable, loading } = useSelector(state => state.users);\n  const orders = Object.values(ordersTable);\n  useEffect(\n    () => {\n      if (loading[FETCH_ORDERS] == null)\n        dispatch(fetchOrders());\n    },\n    []\n  );\n  if (loading[FETCH_ORDERS]) {\n    return <Spinner contained/>;\n  }\n  return (\n    (orders.length === 0) ? (\n      <Empty description={\n        <>You haven't placed any orders yet. Visit <Link to=\"/catalog\">the catalog</Link> to place your first order!</>\n      } />\n    ) : (\n      <Table responsive hover>\n        <thead>\n        <tr>\n          <th>Order ID</th>\n          <th>Created</th>\n          <th>Total</th>\n          <th>Shipping Status</th>\n          <th>Order Status</th>\n        </tr>\n        </thead>\n        <tbody>\n        {orders.map(({ id, created, modified, currency, totalPrice, taxedPrice, shippingStatus, paymentStatus, orderStatus }) =>\n          <tr key={id} onClick={() => history.push(`/account/orders/${id}`)}>\n            <td>{id.substr(0, id.indexOf('-'))}</td>\n            <td>{created}</td>\n            <td>{money(totalPrice + taxedPrice, currency)}</td>\n            <td>{shippingStatus}</td>\n            <td>\n              <Badge color={orderStatus === 'COMPLETE' ? 'success' : 'warning'}>{capitalize(orderStatus)}</Badge>\n            </td>\n          </tr>\n        )}\n        </tbody>\n      </Table>\n    )\n  );\n}\n\nexport default OrderList;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useMemo, useState } from 'react';\nimport { Field, reduxForm, SubmissionError } from 'redux-form';\nimport Layout from './Layout';\nimport { Button, ButtonToolbar, Card, CardBody, Col, Container, Row } from 'reactstrap';\nimport Alert from '../shared/Alert';\nimport Spinner from '../shared/Spinner';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addAddressComplete, editAddressComplete } from '../../redux/actions/usersActions';\nimport { RadioButton } from '../shared/form/RadioButton';\nimport { Link } from 'react-router-dom';\nimport { Empty } from '../shared/Empty';\nimport { useUser } from '../../util/component';\nimport * as qs from 'query-string';\n\nexport function AddressCard({ address, user, showName }) {\n  return (\n    <address className=\"profile__contact\">\n      {\n        ((showName === undefined) || (showName)) &&\n        <p className=\"profile__name\">\n          {\n            address.addressName\n              ? address.addressName\n              : `${address.firstName || user.firstName} ${address.lastName || user.lastName}`\n          }\n        </p>\n      }\n      <div className=\"profile__work\">\n        {address.phone ? <div>{address.phone}</div> : null}\n        {address.mobile ? <div>{address.mobile}</div> : null}\n        {address.fax ? <div>{address.fax}</div> : null}\n      </div>\n      {address.streetAddressLineOne ? <div>{address.streetAddressLineOne}</div> : null}\n      {address.streetAddressLineTwo ? <div>{address.streetAddressLineTwo}</div> : null}\n      {\n        (address.city || address.postalCode) && (\n          <div>\n            {\n              (address.city && address.postalCode)\n                ? `${address.city}, ${address.postalCode}`\n                : address.city || address.postalCode\n            }\n          </div>\n        )\n      }\n      {address.state ? <div>{address.state}</div> : null}\n      <div>{address.country}</div>\n    </address>\n  );\n}\n\nexport const AddressForm = reduxForm({ form: 'addressForm' })(function (props) {\n\n  const {\n    handleSubmit,\n    error,\n    onSuccess,\n    onCancel,\n    isEditMode\n  } = props;\n\n  const [success, setSuccess] = useState();\n\n  const dispatch = useDispatch();\n\n  const submit = (values) => {\n    success && setSuccess();\n    return fetch('/api/1/customer/update.json', {\n      body: JSON.stringify({ [isEditMode ? 'changeAddress' : 'addAddress']: [values] }),\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json; charset=UTF-8' }\n    }).then(async (response) => {\n      const data = await response.json();\n      if (response.status !== 200) {\n        throw new SubmissionError({\n          _error: data.message\n        });\n      }\n      dispatch(isEditMode ? editAddressComplete(data) : addAddressComplete(data));\n      setSuccess('Update successful.');\n      onSuccess(data);\n    });\n  };\n\n  return (\n    <form className=\"form address-form\" onSubmit={handleSubmit(submit)}>\n      {\n        success &&\n        <Alert color=\"success\" className=\"alert--bordered\" onDismiss={() => setSuccess()}>\n          <p>{success}</p>\n        </Alert>\n      }\n      {\n        error &&\n        <Alert color=\"danger\" className=\"alert--bordered\">\n          <p>{error}</p>\n        </Alert>\n      }\n      <Field\n        name=\"id\"\n        component=\"input\"\n        type=\"hidden\"\n      />\n      <div className=\"form__form-group\">\n        <span className=\"form__form-group-label\">Address Name</span>\n        <div className=\"form__form-group-field\">\n          <Field\n            name=\"addressName\"\n            component=\"input\"\n            type=\"text\"\n          />\n        </div>\n      </div>\n      <div className=\"form__form-group-columns\">\n        <div className=\"form__form-group form__form-group-col-left\">\n          <span className=\"form__form-group-label\">First Name</span>\n          <div className=\"form__form-group-field\">\n            <Field\n              name=\"firstName\"\n              component=\"input\"\n              type=\"text\"\n            />\n          </div>\n        </div>\n        <div className=\"form__form-group form__form-group-col-right\">\n          <span className=\"form__form-group-label\">Last Name</span>\n          <div className=\"form__form-group-field\">\n            <Field\n              name=\"lastName\"\n              component=\"input\"\n              type=\"text\"\n            />\n          </div>\n        </div>\n      </div>\n      <div className=\"form__form-group\">\n        <span className=\"form__form-group-label\">Street Address</span>\n        <div className=\"form__form-group-field\">\n          <Field\n            name=\"streetAddressLineOne\"\n            component=\"input\"\n            type=\"text\"\n          />\n        </div>\n      </div>\n      <div className=\"form__form-group\">\n        <div className=\"form__form-group-field\">\n          <Field\n            name=\"streetAddressLineTwo\"\n            component=\"input\"\n            type=\"text\"\n          />\n        </div>\n      </div>\n      <div className=\"form__form-group-columns\">\n        <div className=\"form__form-group form__form-group-col-left\">\n          <span className=\"form__form-group-label\">Country</span>\n          <div className=\"form__form-group-field\">\n            <Field\n              name=\"country\"\n              component=\"input\"\n              type=\"text\"\n            />\n          </div>\n        </div>\n        <div className=\"form__form-group form__form-group-col-right\">\n          <span className=\"form__form-group-label\">State</span>\n          <div className=\"form__form-group-field\">\n            <Field\n              name=\"state\"\n              component=\"input\"\n              type=\"text\"\n            />\n          </div>\n        </div>\n      </div>\n      <div className=\"form__form-group-columns\">\n        <div className=\"form__form-group form__form-group-col-left\">\n          <span className=\"form__form-group-label\">City</span>\n          <div className=\"form__form-group-field\">\n            <Field\n              name=\"city\"\n              component=\"input\"\n              type=\"text\"\n            />\n          </div>\n        </div>\n        <div className=\"form__form-group form__form-group-col-right\">\n          <span className=\"form__form-group-label\">Postcode</span>\n          <div className=\"form__form-group-field\">\n            <Field\n              name=\"postalCode\"\n              component=\"input\"\n              type=\"text\"\n            />\n          </div>\n        </div>\n      </div>\n      <div className=\"form__form-group\">\n        <span className=\"form__form-group-label\">Phone</span>\n        <div className=\"form__form-group-field\">\n          <Field\n            name=\"phone\"\n            component=\"input\"\n            type=\"text\"\n          />\n        </div>\n      </div>\n      <ButtonToolbar className=\"form__button-toolbar\">\n        <Button color=\"primary\" type=\"submit\">Submit</Button>\n        <Button type=\"button\" onClick={onCancel}>\n          Cancel\n        </Button>\n      </ButtonToolbar>\n    </form>\n  );\n});\n\nexport function AddressEntry(props) {\n\n  const user = useSelector(state => state.users.user);\n  const addressId = props.match.params.id;\n  const queryString = qs.parse(props.location.search);\n  const backUrl = queryString.origin || '/account/address-book';\n\n  const isEditMode = useMemo(\n    () => props.match.params.id != null,\n    [props.match.params.id]\n  );\n\n  if (user == null) {\n    return <Spinner/>;\n  }\n\n  return (\n    <Layout>\n      <Container>\n        <Card>\n          <CardBody>\n            <h1 className=\"page-title\">\n              {`${isEditMode ? 'Edit' : 'Add'} Address`}\n            </h1>\n            <AddressForm\n              user={user}\n              isEditMode={isEditMode}\n              onSuccess={() => props.history.push(backUrl)}\n              onCancel={() => props.history.push(backUrl)}\n              initialValues={\n                isEditMode && user.addresses.find(\n                  (address) => address.id === addressId\n                ) || {\n                  firstName: user.firstName,\n                  lastName: user.lastName,\n                  email: user.email\n                }\n              }\n            />\n          </CardBody>\n        </Card>\n      </Container>\n    </Layout>\n  );\n}\n\nexport function AddressSelection({ name, onChange, currentValue, returnUrl }) {\n\n  const user = useUser();\n  const { addresses } = user;\n\n  let newAddressUrl = '/account/address-book/new';\n  if (returnUrl) {\n    newAddressUrl = `${newAddressUrl}?origin=${returnUrl}`;\n  }\n\n  return (\n    <Row>\n      {\n        (addresses && addresses.length > 0) ? <>\n\n          {addresses.map((address) =>\n            <Col md={4} sm={6} key={address.id}>\n              <RadioButton\n                label={`${address.firstName || user.firstName} ${address.lastName || user.lastName}`}\n                name={name}\n                value={address.id}\n                currentValue={currentValue}\n                onChange={(e) => onChange(e.target.value)}\n              />\n              <div className=\"cart__delivery-time\">\n                <AddressCard address={address} user={user} showName={false}/>\n              </div>\n            </Col>\n          )}\n          <Col md={12}>\n            <hr/>\n            <Link to={newAddressUrl}>\n              Add new address\n            </Link>\n          </Col>\n\n        </> : <Col md={12}>\n          <Empty\n            description={\n              <span>\n                Please <Link to={newAddressUrl}>add an address</Link> to your address book.\n              </span>\n            }\n          />\n        </Col>\n      }\n    </Row>\n  );\n}\n\nexport default AddressCard;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useMemo } from 'react';\nimport Layout from './Layout';\nimport {\n  Badge,\n  Button,\n  Card,\n  CardBody,\n  Col,\n  Container,\n  DropdownItem,\n  DropdownMenu,\n  DropdownToggle,\n  Nav,\n  NavItem,\n  NavLink,\n  Row,\n  TabContent,\n  TabPane,\n  UncontrolledDropdown\n} from 'reactstrap';\n\nimport classnames from 'classnames';\nimport ProfileSettings, { ChangePasswordForm } from './ProfileSettings';\nimport OrdersList from './OrderList';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { logout, removeAddress, setAddressDefaults } from '../../redux/actions/usersActions';\nimport AddressCard from './AddressCard';\nimport ChevronDownIcon from 'mdi-react/ChevronDownIcon';\n\nimport authorized from '../shared/authorized';\nimport { Empty } from '../shared/Empty';\n\nfunction Account({ history, match, user }) {\n\n  const dispatch = useDispatch();\n  const { orders } = useSelector(state => state.users);\n\n  const activeTab = useMemo(\n    () => (\n      [\n        'profile',\n        'orders',\n        'address-book',\n        'password'\n      ].includes(match.params.tab)\n        ? match.params.tab\n        : 'profile'\n    ),\n    [match.params.tab]\n  );\n\n  const setActiveTab = (tab) => {\n    history.push(`/account/${tab}`);\n  };\n  \n  return (\n    <Layout>\n      <Container>\n        <div className=\"profile\">\n          <Row>\n            <Col md={12} lg={12} xl={4}>\n              <Card style={{ height: 'auto' }}>\n                <CardBody className=\"profile__card\">\n                  <div className=\"profile__information\">\n                    <div className=\"\">\n                      <p className=\"profile__name\">\n                        {`${user.firstName} ${user.middleName || ''} ${user.lastName}`}\n                      </p>\n                      <p className=\"profile__work\">{user.phone}</p>\n                      <p className=\"profile__contact\">{user.email}</p>\n                      <Button\n                        color=\"primary\"\n                        className=\"icon profile__btn\"\n                        onClick={() => dispatch(logout(history.push))}\n                      >\n                        Sign Out\n                      </Button>\n                    </div>\n                  </div>\n                  {\n                    orders &&\n                    <div className=\"profile__stats\">\n                      <div className=\"profile__stat\">\n                        <p className=\"profile__stat-number\">{Object.values(orders).length}</p>\n                        <p className=\"profile__stat-title\">Orders</p>\n                      </div>\n                    </div>\n                  }\n                </CardBody>\n              </Card>\n            </Col>\n            <Col md={12} lg={12} xl={8}>\n              <Card>\n                <div className=\"profile__card tabs tabs--bordered-bottom\">\n                  <div className=\"tabs__wrap\">\n                    <Nav tabs>\n                      <NavItem>\n                        <NavLink\n                          className={classnames({ active: activeTab === 'profile' })}\n                          onClick={() => setActiveTab('profile')}\n                        >\n                          Profile\n                        </NavLink>\n                      </NavItem>\n                      <NavItem>\n                        <NavLink\n                          className={classnames({ active: activeTab === 'address-book' })}\n                          onClick={() => setActiveTab('address-book')}\n                        >\n                          Address Book\n                        </NavLink>\n                      </NavItem>\n                      <NavItem>\n                        <NavLink\n                          className={classnames({ active: activeTab === 'orders' })}\n                          onClick={() => setActiveTab('orders')}\n                        >\n                          Orders\n                        </NavLink>\n                      </NavItem>\n                      <NavItem>\n                        <NavLink\n                          className={classnames({ active: activeTab === 'password' })}\n                          onClick={() => setActiveTab('password')}\n                        >\n                          Password\n                        </NavLink>\n                      </NavItem>\n                    </Nav>\n                    <TabContent activeTab={activeTab}>\n                      <TabPane tabId=\"profile\">\n                        <ProfileSettings initialValues={user}/>\n                      </TabPane>\n                      <TabPane tabId=\"address-book\">\n                        <Row>\n                          <Col md={12}>\n                            <Button color=\"primary\" onClick={() => history.push('/account/address-book/new')}>\n                              Add Address\n                            </Button>\n                            {\n                              (user.addresses == null || user.addresses.length === 0) &&\n                              <Empty description=\"You haven't registered any addresses yet.\"/>\n                            }\n                          </Col>\n                          {\n                            user.addresses && user.addresses.map((address) =>\n                              <Col md={4} sm={6} key={address.id}>\n                                <Card>\n                                  <CardBody>\n                                    <AddressCard address={address} user={user}/>\n                                    {\n                                      (user.addresses.length === 1 || address.isShippingDefault) &&\n                                      <div className=\"address-display__default\">\n                                        <Badge color=\"info\">Shipping Default</Badge>\n                                      </div>\n                                    }\n                                    {\n                                      (user.addresses.length === 1 || address.isBillingDefault) &&\n                                      <div className=\"address-display__default\">\n                                        <Badge color=\"success\">Billing Default</Badge>\n                                      </div>\n                                    }\n                                    <UncontrolledDropdown>\n                                      <DropdownToggle className=\"icon icon--right btn-sm address-options-btn\" outline>\n                                        <p>Options <ChevronDownIcon/></p>\n                                      </DropdownToggle>\n                                      <DropdownMenu className=\"dropdown__menu\">\n                                        <DropdownItem\n                                          onClick={() => history.push(`/account/address-book/edit/${address.id}`)}>\n                                          Edit\n                                        </DropdownItem>\n                                        <DropdownItem onClick={() => onSetDefaultBilling(address)}>\n                                          Set as billing default\n                                        </DropdownItem>\n                                        <DropdownItem onClick={() => onSetDefaultShipping(address)}>\n                                          Set as shipping default\n                                        </DropdownItem>\n                                        <DropdownItem divider/>\n                                        <DropdownItem onClick={() => onRemoveAddress(address.id)}>\n                                          Remove\n                                        </DropdownItem>\n                                      </DropdownMenu>\n                                    </UncontrolledDropdown>\n                                  </CardBody>\n                                </Card>\n                              </Col>\n                            )\n                          }\n                        </Row>\n                      </TabPane>\n                      <TabPane tabId='orders'>\n                        <OrdersList/>\n                      </TabPane>\n                      <TabPane tabId=\"password\">\n                        <ChangePasswordForm/>\n                      </TabPane>\n                    </TabContent>\n                  </div>\n                </div>\n              </Card>\n            </Col>\n          </Row>\n        </div>\n      </Container>\n    </Layout>\n  );\n\n  function onRemoveAddress(addressId) {\n    dispatch(removeAddress(addressId));\n  }\n\n  function onSetDefaultBilling(address) {\n    const nextAddress = { ...address, isBillingDefault: true };\n    onUpdateAddressDefaults(nextAddress);\n  }\n\n  function onSetDefaultShipping(address) {\n    const nextAddress = { ...address, isShippingDefault: true };\n    onUpdateAddressDefaults(nextAddress);\n  }\n\n  function onUpdateAddressDefaults(address) {\n    dispatch(setAddressDefaults(address));\n  }\n\n}\n\nexport default authorized(Account);\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useContext } from 'react';\n\n// import invariant from 'tiny-invariant';\nimport hoistStatics from 'hoist-non-react-statics';\n\nimport { __RouterContext } from 'react-router';\nimport { useUser } from '../../util/component';\nimport Spinner from './Spinner';\n\nexport default function authorized(Component) {\n\n  const displayName = `authorized(${Component.displayName || Component.name})`;\n  const C = props => {\n\n    const { history, location } = useContext(__RouterContext);\n    const { wrappedComponentRef, ...remainingProps } = props;\n\n    const user = useUser({\n      redirect: location.pathname,\n      onMissing: () => setTimeout(() => history.push('/login'))\n    });\n\n    if (user)\n      return (\n        <Component\n          {...remainingProps}\n          ref={wrappedComponentRef}\n          user={user}\n        />\n      );\n    else\n      return null;\n\n  };\n\n  C.displayName = displayName;\n  C.WrappedComponent = Component;\n\n  return hoistStatics(C, Component);\n\n}\n\nexport function awaitRequirements(Component, { requirements, onMissing }) {\n\n  const displayName = `awaitRequirements(${Component.displayName || Component.name})`;\n  const C = props => {\n\n    const { wrappedComponentRef, ...remainingProps } = props;\n\n    const reqs = {};\n    const missing = [];\n    Object.entries(requirements).forEach(([key, getter]) => {\n      reqs[key] = getter();\n      if (reqs[key] == null) {\n        missing.push(key);\n      }\n    });\n\n    onMissing && onMissing(missing);\n\n    if (missing.length > 0) {\n      return <Spinner/>;\n    } else {\n      return (\n        <Component\n          ref={wrappedComponentRef}\n          {...remainingProps}\n          {...reqs}\n        />\n      );\n    }\n\n  };\n\n  C.displayName = displayName;\n  C.WrappedComponent = Component;\n\n  return hoistStatics(C, Component);\n\n}\n\n// Example\n// export default awaitRequirements(LogIn, {\n//   ['onMissing']: (reqs) => {\n//     const dispatch = useDispatch();\n//     useEffect(\n//       () => {\n//         if (reqs.length)\n//           dispatch(fetchGraph(['header']));\n//       },\n//       []\n//     );\n//   },\n//   requirements: {\n//     ['header']: () => useHeader()\n//   }\n// });\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport Layout from './Layout';\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { Button, ButtonToolbar, Card, CardBody, Col, Container, Row } from 'reactstrap';\nimport { LogInForm } from './LogIn';\nimport { getLoginFormDefaults, useCart, useProductsBranch, useUser } from '../../util/component';\nimport { CartSummary, OrderTotals } from './CartBody';\nimport CreditCardIcon from 'mdi-react/CreditCardIcon';\nimport { RadioButton } from '../shared/form/RadioButton';\nimport { AddressSelection } from './AddressCard';\nimport Spinner from '../shared/Spinner';\nimport { money } from '../../util/string';\nimport { Empty } from '../shared/Empty';\nimport { useDispatch } from 'react-redux';\nimport {\n  checkout, UPDATE_CART,\n  updateCart\n} from '../../redux/actions/productsActions';\n\nfunction address(cart, user, type) {\n  if (cart == null || user == null) {\n    return;\n  }\n  const cartAddress = cart[type === 'shipping' ? 'shippingAddress' : 'billingAddress'];\n  if (cartAddress == null || user.addresses == null) {\n    return;\n  }\n  const address = user.addresses.find((_address_) =>\n    _address_.streetAddressLineOne === cartAddress.streetAddressLineOne\n  );\n  return address ? address.id : undefined;\n}\n\nfunction ShippingSelection({ onChange, selectedValue, items }) {\n  return (\n    <div className=\"form__form-group shipping-method-selection\">\n      <div className=\"form__form-group-field cart__delivery-field\">\n        {items ? items.map((item) =>\n          <div className=\"cart__delivery\" key={item.id}>\n            <RadioButton\n              label={item.name}\n              name=\"shippingMethod\"\n              value={item.id}\n              currentValue={selectedValue}\n              onChange={() => onChange(item.id)}\n            />\n            <p className=\"cart__delivery-time\">{item.description}</p>\n            <p className=\"cart__delivery-price\">{money(item.price, item.currency)}</p>\n          </div>\n        ) : (\n          <Empty description=\"Shipping is not available for your location. :(\"/>\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction CreditCardForm({ cardNumber, cvc, expirationDate, nameOnCard, onChange }) {\n  return (\n    <form className=\"form payment__credit-cards\">\n      <div className=\"form__form-group\">\n        <span className=\"form__form-group-label\">Card number</span>\n        <div className=\"form__form-group-field\">\n          <div className=\"form__form-group-icon\">\n            <CreditCardIcon/>\n          </div>\n          <input\n            type=\"text\"\n            name=\"cardNumber\"\n            value={cardNumber}\n            onChange={onChange}\n            placeholder=\"xxxx-xxxx-xxxx-xxxx\"\n          />\n        </div>\n      </div>\n      <div className=\"form__form-group-date-cvc\">\n        <div className=\"form__form-group form__form-group-date\">\n          <span className=\"form__form-group-label\">Expiration Date</span>\n          <div className=\"form__form-group-field\">\n            <input\n              type=\"month\"\n              name=\"expirationDate\"\n              placeholder=\"MM/YY\"\n              min=\"2019-07\"\n              value={expirationDate}\n              onChange={onChange}\n            />\n          </div>\n        </div>\n        <div className=\"form__form-group form__form-group-cvc\">\n          <span className=\"form__form-group-label\">CVC</span>\n          <div className=\"form__form-group-field\">\n            <input\n              type=\"number\"\n              name=\"cvc\"\n              minLength={3}\n              maxLength={4}\n              value={cvc}\n              onChange={onChange}\n            />\n          </div>\n        </div>\n      </div>\n      <div className=\"form__form-group\">\n        <span className=\"form__form-group-label\">Cardholder name</span>\n        <div className=\"form__form-group-field\">\n          <input\n            type=\"text\"\n            name=\"nameOnCard\"\n            placeholder=\"Name and Surname\"\n            value={nameOnCard}\n            onChange={onChange}\n          />\n        </div>\n      </div>\n    </form>\n  );\n}\n\nfunction CheckoutView({ history }) {\n\n  const dispatch = useDispatch();\n  const { loading } = useProductsBranch();\n  const user = useUser({ redirect: '/checkout' });\n  const cart = useCart({ onEmpty: () => history.push('/cart') });\n  const [card, setState] = useState({\n    cvc: '',\n    nameOnCard: '',\n    cardNumber: '',\n    expirationDate: '',\n  });\n\n  const [shippingAddress, setShippingAddress] = useState();\n  const [billingAddress, setBillingAddress] = useState();\n  const [shippingMethod, setShippingMethod] = useState();\n\n  const onCardDataEntry = (e) => {\n    const { value, name } = e.target;\n    setState({ ...card, [name]: value });\n  };\n\n  const onAddressSelection = (value, type) => {\n    (type === 'shipping' ? setShippingAddress : setBillingAddress)(value);\n  };\n\n  useEffect(\n    () => {\n\n      const shipping = address(cart, user, 'shipping');\n      const billing = address(cart, user, 'billing');\n      const method = (cart || {}).shippingMethod;\n\n      shipping && (shipping !== shippingAddress) && setShippingAddress(shipping);\n      billing && (billing !== billingAddress) && setBillingAddress(billing);\n      method && (method !== shippingMethod) && setShippingMethod(method);\n\n    },\n    [cart]\n  );\n\n  useEffect(\n    () => {\n      if (cart) {\n\n        const\n          shippingCondition = (!!shippingAddress && shippingAddress !== address(cart, user, 'shipping')),\n          billingCondition = (!!billingAddress && billingAddress !== address(cart, user, 'billing')),\n          methodCondition = (!!shippingMethod && cart.shippingMethod !== shippingMethod);\n\n        if (\n          shippingCondition ||\n          billingCondition ||\n          methodCondition\n        ) {\n          dispatch(updateCart({\n            ...shippingCondition ? { shippingAddress } : {},\n            ...billingCondition ? { billingAddress } : {},\n            ...methodCondition ? { shippingMethod } : {}\n          }));\n        }\n\n      }\n\n    },\n    [shippingAddress, billingAddress, shippingMethod]\n  );\n\n  const checkoutDisabled = useMemo(\n    () => !(\n      shippingAddress &&\n      billingAddress &&\n      shippingMethod &&\n      card.cvc &&\n      card.nameOnCard &&\n      card.cardNumber &&\n      card.expirationDate\n    ),\n    [shippingAddress, billingAddress, shippingMethod, card]\n  );\n\n  return (\n    <Layout>\n      <Container>\n        <Row>\n          {(cart == null) ? <Col md={12}><Spinner contained/></Col> : (user == null) ? <>\n\n            <Col md={12} lg={12}>\n              <Card>\n                <CardBody>\n                  <div className=\"text-center\">\n                    <h1 className=\"page-title\">Checkout</h1>\n                    <p className=\"page-subhead subhead\">\n                      In order to checkout please sign in or create an account if you don't have one.\n                    </p>\n                    <div className=\"payment-view__login\">\n                      <LogInForm initialValues={getLoginFormDefaults()}/>\n                    </div>\n                  </div>\n                </CardBody>\n              </Card>\n            </Col>\n\n          </> : <>\n\n            <Col md={9}>\n              <Card>\n                <CardBody>\n\n                  <div className=\"card__title\">\n                    <h1 className=\"bold-text\">Checkout</h1>\n                  </div>\n                  <div className=\"payment\">\n                    <fieldset className=\"payment__checkout-section\">\n                      <legend>Shipping Address</legend>\n                      <AddressSelection\n                        returnUrl=\"/checkout\"\n                        name=\"shippingAddress\"\n                        currentValue={shippingAddress}\n                        onChange={(value) => onAddressSelection(value, 'shipping')}\n                      />\n                    </fieldset>\n                    <fieldset className=\"payment__checkout-section\">\n                      <legend>Billing Address</legend>\n                      <AddressSelection\n                        returnUrl=\"/checkout\"\n                        name=\"billingAddress\"\n                        currentValue={billingAddress}\n                        onChange={(value) => onAddressSelection(value, 'billing')}\n                      />\n                    </fieldset>\n                    <fieldset className=\"payment__checkout-section\">\n                      <legend>Shipping Method</legend>\n                      {\n                        loading[UPDATE_CART] ? <Spinner small/> : cart.shippingMethods ? (\n                          <ShippingSelection\n                            items={cart.shippingMethods}\n                            selectedValue={shippingMethod}\n                            onChange={(value) => setShippingMethod(value)}\n                          />\n                        ) : <Empty description=\"Select shipping address to view available shipping methods\"/>\n                      }\n                    </fieldset>\n                    <fieldset className=\"payment__checkout-section\">\n                      <legend>Payment Method</legend>\n                      <CreditCardForm {...card} onChange={onCardDataEntry}/>\n                    </fieldset>\n                  </div>\n\n                </CardBody>\n              </Card>\n            </Col>\n\n            <Col md={3}>\n              <CartSummary/>\n              <OrderTotals/>\n              <ButtonToolbar className=\"form__button-toolbar\">\n                <Button\n                  type=\"button\"\n                  color=\"primary\"\n                  onClick={onCheckout}\n                  disabled={checkoutDisabled}\n                  className=\"payment__complete-purchase-btn\"\n                >\n                  Complete Purchase\n                </Button>\n              </ButtonToolbar>\n            </Col>\n\n          </>}\n        </Row>\n      </Container>\n    </Layout>\n  );\n\n  function onCheckout() {\n    dispatch(checkout({ card, shippingMethod, shippingAddress, billingAddress }, history.push));\n  }\n\n}\n\nexport default CheckoutView;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { PureComponent } from 'react';\nimport { Collapse } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport MinusIcon from 'mdi-react/MinusIcon';\nimport PlusIcon from 'mdi-react/PlusIcon';\nimport ChevronDownIcon from 'mdi-react/ChevronDownIcon';\n\nexport default class CollapseComponent extends PureComponent {\n  static propTypes = {\n    title: PropTypes.string,\n    className: PropTypes.string,\n    children: PropTypes.element.isRequired,\n  };\n\n  static defaultProps = {\n    title: '',\n    className: '',\n  };\n\n  constructor() {\n    super();\n    this.state = {\n      collapse: false,\n      status: 'closed',\n      icon: <PlusIcon />,\n    };\n  }\n\n  onEntering = () => {\n    this.setState({ status: 'opening', icon: <MinusIcon /> });\n  };\n\n  onEntered = () => {\n    this.setState({ status: 'opened', icon: <MinusIcon /> });\n  };\n\n  onExiting = () => {\n    this.setState({ status: 'closing', icon: <PlusIcon /> });\n  };\n\n  onExited = () => {\n    this.setState({ status: 'closed', icon: <PlusIcon /> });\n  };\n\n  toggle = () => {\n    this.setState(prevState => ({ collapse: !prevState.collapse }));\n  };\n\n  render() {\n    const { className, title, children } = this.props;\n    const { icon, collapse, status } = this.state;\n\n    return (\n      <div className={`collapse__wrapper ${status} ${className}`}>\n        <button onClick={this.toggle} className=\"collapse__title\" type=\"button\">\n          {icon}\n          <p>{title}<ChevronDownIcon /></p>\n        </button>\n        <Collapse\n          isOpen={collapse}\n          className=\"collapse__content\"\n          onEntering={this.onEntering}\n          onEntered={this.onEntered}\n          onExiting={this.onExiting}\n          onExited={this.onExited}\n        >\n          <div>\n            {children}\n          </div>\n        </Collapse>\n      </div>\n    );\n  }\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React from 'react';\nimport { Badge, Card, CardBody, Col, Container, Row, Table } from 'reactstrap';\n\nimport Layout from './Layout';\nimport { useOrder } from '../../util/component';\nimport Spinner from '../shared/Spinner';\nimport { Link } from 'react-router-dom';\nimport { capitalize, money } from '../../util/string';\nimport Collapse from '../shared/Collapse';\n\n\nfunction OrderDetails(props) {\n\n  const id = props.match.params.id;\n  const order = useOrder(id);\n\n  return (\n    <Layout>\n      <Container>\n        <Row>\n          <Col md={9}>\n\n            <Card>\n              <CardBody>\n                <h1 className=\"page-title\">\n                  {`Order # ${id} - Details`}\n                </h1>\n\n                {order == null ? <Spinner contained/> : <>\n\n                  <Table className=\"table--bordered cart__table\" responsive>\n                    <thead>\n                    <tr>\n                      <th>Product</th>\n                      <th>Quantity</th>\n                      <th>Price</th>\n                      <th>Total</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    {\n                      order.items && order.items.map((item) => (\n                        <tr key={item.id}>\n                          <td>\n                            <span className=\"cart__preview-img\">\n                              <img src={item.images[0].url} alt=\"product_preview\"/>\n                            </span>\n                            <Link\n                              className=\"cart__product-name\"\n                              to={`/catalog/${item.productId}`}\n                            >\n                              {item.productName}\n                            </Link>\n                          </td>\n                          <td>{item.quantity}</td>\n                          <td>{money(item.unitPrice, order.currency)}</td>\n                          <td>{money(item.totalPrice, order.currency)}</td>\n                        </tr>\n                      ))\n                    }\n                    </tbody>\n                  </Table>\n\n                </>}\n\n              </CardBody>\n            </Card>\n          </Col>\n          <Col md={3}>\n            {\n              order && order.items && <>\n\n                <table className=\"table\">\n                  <tbody>\n                  <tr>\n                    <th>Order Status</th>\n                    <td>\n                      <Badge color={['OPEN', 'CONFIRMED', 'COMPLETE'].includes(order.orderStatus) ? 'success' : 'warning'}>\n                        {capitalize(order.orderStatus)}\n                      </Badge>\n                    </td>\n                  </tr>\n                  <tr>\n                    <th>Payment Status</th>\n                    <td>\n                      <Badge color={order.paymentStatus === 'COMPLETE' ? 'success' : 'warning'}>\n                        {capitalize(order.paymentStatus || 'Pending')}\n                      </Badge>\n                    </td>\n                  </tr>\n                  <tr>\n                    <th>Shipping Status</th>\n                    <td>\n                      <Badge color={order.shippingStatus === 'COMPLETE' ? 'success' : 'warning'}>\n                        {capitalize(order.shippingStatus || 'Pending')}\n                      </Badge>\n                    </td>\n                  </tr>\n                  </tbody>\n                </table>\n\n                <div className=\"order-details__body\">\n                  <table className=\"order-details__table\">\n                    <tbody>\n                    <tr>\n                      <th className=\"order-details__th\">Products</th>\n                      <td className=\"order-details__td\">{money(order.items.reduce((sum, item) => (sum + item.totalPrice), 0), order.currency)}</td>\n                    </tr>\n                    <tr>\n                      <th className=\"order-details__th\">Shipping</th>\n                      <td className=\"order-details__td\">{money(order.shippingPrice, order.currency)}</td>\n                    </tr>\n                    <tr>\n                      <th className=\"order-details__th\">Sub Total</th>\n                      <td className=\"order-details__td\">{money(order.totalPrice, order.currency)}</td>\n                    </tr>\n                    <tr>\n                      <th className=\"order-details__th\">Tax</th>\n                      <td className=\"order-details__td\">{money(order.taxedPrice - order.totalPrice, order.currency)}</td>\n                    </tr>\n                    <tr>\n                      <th className=\"order-details__th\">Total</th>\n                      <td className=\"order-details__td\">{money(order.taxedPrice, order.currency)}</td>\n                    </tr>\n                    </tbody>\n                  </table>\n                </div>\n              </>\n            }\n          </Col>\n        </Row>\n      </Container>\n    </Layout>\n  );\n}\n\nexport default OrderDetails;\n\n// Payment:\n// BALANCE_DUE\n// PENDING\n// PAID\n// CREDIT_OWED\n// FAILED\n//\n// Shipping:\n// READY\n// PENDING\n// PARTIAL\n// DELAYED\n// SHIPPED\n// BACK_ORDER\n//\n// Order:\n// OPEN\n// CONFIRMED\n// COMPLETE\n// CANCELLED\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useEffect, useState } from 'react';\nimport Layout from './Layout';\nimport { Container, Row, Col, Card } from 'reactstrap';\nimport { useContentBranch } from '../../util/component';\nimport { loader } from 'graphql.macro';\nimport { ajax } from 'rxjs/ajax';\nimport { map, catchError } from 'rxjs/operators';\nimport { BlogPostCard } from './BlogTeaser';\nimport Spinner from '../shared/Spinner';\nimport { Empty } from '../shared/Empty';\nimport * as qs from 'query-string';\nimport KeyboardArrowLeftIcon from 'mdi-react/KeyboardArrowLeftIcon';\nimport { Link } from 'react-router-dom';\n\nconst query = loader('../../queries/Blog.graphql').loc.source.body;\n\nexport default function BlogRoll(props) {\n\n  const content = useContentBranch();\n  const [roll, setRoll] = useState();\n  const selectedCategory = qs.parse(props.location.search).category;\n\n  useEffect(\n    () => {\n      let sub = { unsubscribe: () => void null };\n      if (!!content.nav) {\n        const navItem = content.nav.find(item => props.location.pathname === item.url);\n        sub = ajax.post(\n          process.env.REACT_APP_GRAPHQL_SERVER,\n          { query, variables: { id: navItem.localId } },\n          { 'Content-Type': 'application/json; charset=UTF-8' }\n        ).pipe(\n          map(({ response }) => response.data),\n          catchError(({ response }) => [response])\n        ).subscribe((response) => {\n          setRoll({\n            blog: response.blog.items[0],\n            posts: response.post.items,\n            categories: response.categories.items[0].items.item\n          });\n        })\n      }\n      return () => sub.unsubscribe()\n    },\n    [content.nav != null]\n  );\n\n  if (!roll) {\n    return (\n      <Layout>\n        <Container>\n          <Row>\n            <Col md={12}>\n              <Spinner contained/>\n            </Col>\n          </Row>\n        </Container>\n      </Layout>\n    );\n  }\n\n  const posts = selectedCategory\n    ? roll.posts.filter(\n      ({categories_o}) => categories_o.item.some(i => i.key === selectedCategory)\n    )\n    : roll.posts;\n\n  return (\n    <Layout>\n      <Container>\n        <Row>\n          <Col md={12}>\n            <h1 className=\"page-title\">{roll.blog.title_s}</h1>\n          </Col>\n          <Col md={9}>\n            <Row>\n              {\n                posts.length === 0 && <Col sm={12}>\n                  <Card style={{ background: '#fff' }}>\n                    <Empty description=\"There are no posts at this time. Please check back often :)\"/>\n                  </Card>\n                </Col>\n              }\n              {\n                posts.map((post) =>\n                  <Col key={post.localId} xl={4} lg={6}>\n                    <BlogPostCard {...post} hideSummary/>\n                  </Col>\n                )\n              }\n            </Row>\n          </Col>\n          <Col md={3}>\n            <CategoryListing\n              categories={roll.categories}\n              selected={selectedCategory}\n            />\n          </Col>\n        </Row>\n      </Container>\n    </Layout>\n  );\n}\n\nexport function CategoryListing(props) {\n  const { categories, selected } = props;\n  return (\n    categories && categories.length > 0 ? <div className=\"blog__sidebar-bar-block\">\n      <h2 className=\"blog__side-bar-title\">Categories</h2>\n      <nav className=\"blog__side-bar-list\">\n        {\n          selected\n            ? <>\n              <div>Viewing `{categories.find(({key}) => key === selected).value}`</div>\n              <Link to={`/blog`}>\n                <KeyboardArrowLeftIcon/> clear\n              </Link>\n            </>\n            : categories.map(({ key, value }) =>\n              <Link\n                key={key}\n                to={`/blog?category=${key}`}\n                className=\"blog__side-bar-item\"\n              >\n                {value}\n              </Link>\n            )\n        }\n      </nav>\n    </div> : <></>\n  );\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useEffect, useState } from 'react';\nimport Layout from './Layout';\nimport { Container, Row, Col, Card, CardBody } from 'reactstrap';\nimport { CategoryListing } from './BlogRoll';\nimport { Link } from 'react-router-dom';\nimport { ajax } from 'rxjs/ajax';\nimport { catchError, map } from 'rxjs/operators';\nimport { of } from 'rxjs';\nimport { useICE } from '../../util/component';\n\nexport default function BlogEntry(props) {\n  const slug = props.match.params.slug;\n  return <Layout\n    requirements={[\n      {\n        name: 'categories',\n        optional: true,\n        getter: (content) => content.categories ? Object.values(content.categories.byId) : null\n      },\n      { name: 'post', getter: (content) => content.post && content.post.bySlug[slug] }\n    ]}\n    variables={{\n      post: [\n        { name: 'ageGroup', type: 'String', value: null },\n        { name: 'gender', type: 'String', value: null },\n        { name: 'slug', type: 'String', value: slug },\n        { name: 'limit', type: 'Int', value: 1 }\n      ]\n    }}\n    render={\n      (reqs) => (\n        <Container>\n          <Row>\n            <Col md={9}>\n              <Card>\n                <CardBody>\n                  <Post post={reqs.post}/>\n                </CardBody>\n              </Card>\n            </Col>\n            <Col md={3}>\n\n              <CategoryListing categories={reqs.categories}/>\n\n              <RelatedPosts categories={reqs.post.categories_o.item} slug={slug}/>\n              <RelatedProducts categories={reqs.post.categories_o.item}/>\n\n            </Col>\n          </Row>\n        </Container>\n      )\n    }\n  />;\n}\n\nfunction Post({ post }) {\n  const { title_s, image_s, author_s, subtitle_s, content_html_raw, categories_o, localId } = post;\n  const { props: ice } = useICE({ modelId: localId, label: `Blog Post: ${title_s}` });\n  return (\n    <>\n      <section className=\"post__head\" {...ice}>\n        <h1 className=\"post__title\">{title_s}</h1>\n        {subtitle_s && <p className=\"post__subtitle\">{subtitle_s}</p>}\n        {author_s && <p className=\"post__author\">By {author_s}</p>}\n      </section>\n      {image_s && <img className=\"post__image\" src={image_s} alt=\"\"/>}\n      <div className=\"post__body\" dangerouslySetInnerHTML={{ __html: content_html_raw }}/>\n      <div className=\"post__categories\">{categories_o.item.map((item) => item.value_smv).join(', ')}</div>\n    </>\n  );\n}\n\nfunction RelatedPosts({ categories, slug }) {\n  const [relatedPosts, setRelatedPosts] = useState();\n  useEffect(\n    () => {\n      ajax.post(\n        process.env.REACT_APP_GRAPHQL_SERVER,\n        {\n          query: `query {\n            posts: component_post (limit: 3, sortOrder: ASC, sortBy: \"title_s\") {\n              items {\n                title_s\n                image_s\n                slug_s(filter: { not: [{ equals: \"${slug}\" }]})\n                categories_o @skip(if: true) {\n                  item {\n                    key(filter: {matches: \"${categories[0].key}\"})\n                  }\n                }\n              }\n            }\n          }`\n        },\n        { 'Content-Type': 'application/json; charset=UTF-8' }\n      ).pipe(\n        map(({ response }) => (response.data.posts.items)),\n        catchError((response) => of(response)),\n      ).subscribe(posts => setRelatedPosts(posts));\n    },\n    [categories[0].key]\n  );\n  return (\n    relatedPosts ? <div className=\"blog__sidebar-bar-block\">\n      <h2 className=\"blog__side-bar-title\">Related Posts</h2>\n      <nav className=\"blog__side-bar-list\">\n        {\n          relatedPosts.map(({ title_s, image_s, slug_s }) =>\n            <Link key={slug_s} className=\"blog__side-bar-item\" to={`/blog/${slug_s}`}>\n              <img src={image_s} alt=\"\"/>\n              <h3 className=\"blog__related-post-title\">{title_s}</h3>\n            </Link>\n          )\n        }\n      </nav>\n    </div> : <></>\n  );\n}\n\nfunction RelatedProducts({ categories }) {\n  const [items, setItems] = useState();\n  // const productsBranch = useProductsBranch();\n  // const items = productsBranch.byId && Object.values(productsBranch.byId).slice(0, 3);\n  useEffect(\n    () => {\n      fetch(`/api/1/product/all.json?limit=3&locale=en_us&offset=${Math.floor(Math.random() * 11)}`)\n        .then(async (response) => {\n          const data = await response.json();\n          setItems(data.items)\n        });\n    },\n    [categories[0].key]\n  );\n  return (\n    items ? <div className=\"blog__sidebar-bar-block\">\n      <h2 className=\"blog__side-bar-title\">Related Products</h2>\n      <nav className=\"blog__side-bar-list\">\n        {\n          items.map(({ id, variants, name }) =>\n            <Link key={id} className=\"blog__side-bar-item blog__side-bar-item--horizontal\" to={`/catalog/${id}`}>\n              <img className=\"blog__side-bar-item-image\" src={variants[0].images[0].url} alt=\"\"/>\n              <h3 className=\"blog__related-post-title\">{name}</h3>\n            </Link>\n          )\n        }\n      </nav>\n    </div> : <></>\n  );\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useEffect, useState } from 'react';\nimport Layout from './Layout';\nimport { Badge, Card, CardBody, Col, Container, Row } from 'reactstrap';\nimport * as qs from 'query-string';\n\nimport { SearchService } from '@craftercms/search';\n\nimport MagnifyIcon from 'mdi-react/MagnifyIcon';\nimport { Empty } from '../shared/Empty';\nimport { ajax } from 'rxjs/ajax';\nimport { Link } from 'react-router-dom';\nimport { capitalize } from '../../util/string';\nimport { crafterConf, getQuery } from '../../util/component';\n\nconst\n  ARTICLE = 'ARTICLE',\n  PRODUCT = 'PRODUCT';\n\nexport default function Search(props) {\n\n  const { q: query } = { q: '', ...qs.parse(props.location.search) };\n  const [value, setValue] = useState(query);\n\n  const [productResults, setProductResults] = useState();\n  const [contentResults, setContentResults] = useState();\n\n  useEffect(\n    () => {\n      if (query) {\n\n        SearchService.search(getQuery(query), crafterConf).subscribe((content) => {\n          setContentResults({\n            total: content.totalHits,\n            articles: content.hits.map(item => item.sourceAsMap)\n          });\n        });\n\n        ajax.get(`/api/1/product/all.json?q=${query}&limit=10&locale=en_us&offset=0`).subscribe(({ response: catalog }) => {\n          setProductResults({\n            total: catalog.total,\n            products: catalog.items\n          });\n        });\n\n        setValue(query);\n\n      }\n    },\n    [query]\n  );\n\n  return (\n    <Layout>\n      <Container>\n        <Row>\n          <Col md={9}>\n            <Card>\n              <CardBody>\n                <div className=\"card__title\">\n                  <h1 className=\"bold-text\">Search</h1>\n                </div>\n                <form\n                  className=\"form\"\n                  onSubmit={(e) => {\n                    e.preventDefault();\n                    props.history.push(`/search?q=${value}`);\n                  }}\n                >\n                  <div className=\"form__form-group\">\n                    <div className=\"form__form-group-field\">\n                      <input name=\"q\" type=\"text\" placeholder=\"Search...\" value={value}\n                             onChange={(e) => setValue(e.target.value)}/>\n                      <button className=\"form__form-group-icon\">\n                        <MagnifyIcon/>\n                      </button>\n                    </div>\n                  </div>\n                </form>\n                {\n                  !query &&\n                  <Empty description=\"Please enter your search query to perform a search.\"/>\n                }\n                {\n                  contentResults && <>\n                    <h4>{`Search result for \"${query}\"`}</h4>\n                    <p className=\"subhead\">Found {contentResults.total} results.</p>\n                    <div>\n                      {\n                        contentResults.total === 0\n                          ? <Empty description=\"No results where found for your query.\"/>\n                          : contentResults.articles.map((item) =>\n                            <SearchResult\n                              key={item.objectId}\n                              type={ARTICLE}\n                              item={item}\n                            />\n                          )\n                      }\n                    </div>\n                  </>\n                }\n              </CardBody>\n            </Card>\n          </Col>\n          <Col md={3}>\n            {\n              productResults ?\n                productResults.total === 0\n                  ? 'No products matched your search'\n                  : <>\n                    <p className=\"subhead\">Products related to your search.</p>\n                    <div>\n                      {\n                        productResults.products.map((item) => <SearchResult\n                          key={item.id}\n                          type={PRODUCT}\n                          item={item}\n                        />)\n                      }\n                    </div>\n                  </>\n                : null\n            }\n          </Col>\n        </Row>\n      </Container>\n    </Layout>\n  );\n}\n\nexport function SearchResult(props) {\n  const { type, item } = props;\n  const\n    title = item[type === ARTICLE ? 'title_s' : 'name'],\n    link = type === ARTICLE ? `/blog/${item.slug_s}` : `/catalog/${item.id}`,\n    preview = type === PRODUCT ? item.description : item.content_html.substr(0, 100),\n    img = type === PRODUCT ? item.variants[0].images[0].url : item.image_s;\n  return (\n    <div className=\"search-result\">\n      <Link to={link}>\n        <img className=\"search-result__img\" src={img} alt=\"\"/>\n      </Link>\n      <div className=\"search-result__content\">\n        <Link className=\"search-result__title\" to={link}>{title}</Link>\n        {type === PRODUCT ? null : <p className=\"search-result__preview\">{preview}</p>}\n        <Badge color=\"info\">{capitalize(type.toLowerCase())}</Badge>\n      </div>\n    </div>\n  );\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useContext, useEffect } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport ProductListing from './app/ProductsListing';\nimport ProductDetails from './app/ProductDetails';\n\nimport LogIn from './app/LogIn';\nimport Register from './app/Register';\nimport Home from './app/Home';\nimport NotFound404 from './app/NotFoundView';\nimport CartView from './app/CartView';\nimport Account from './app/Account';\nimport CheckoutView from './app/CheckoutView';\nimport { AddressEntry } from './app/AddressCard';\nimport OrderDetails from './app/OrderDetails';\nimport BlogRoll from './app/BlogRoll';\nimport BlogEntry from './app/BlogEntry';\nimport Search from './app/Search';\nimport { __RouterContext } from 'react-router';\nimport { useSelector } from 'react-redux';\n\nconst Routes = () => {\n\n  const { history } = useContext(__RouterContext);\n  const { isAuthoring } = useSelector(state => state.theme);\n\n  useEffect(\n    () => {\n      if (isAuthoring) {\n        return history.listen((location) => {\n          window.require &&\n          window.require(['guest'], (guest) => {\n            guest.reportNavigation(location, location.pathname);\n          });\n        });\n      }\n    },\n    [isAuthoring]\n  );\n\n  return (\n    <Switch>\n      <Route exact path=\"/\" component={Home}/>\n      <Route exact path=\"/catalog\" component={ProductListing}/>\n      <Route path=\"/catalog/:product\" component={ProductDetails}/>\n      <Route path=\"/cart\" component={CartView}/>\n      <Route path=\"/checkout\" component={CheckoutView}/>\n      <Route exact path=\"/account/address-book/new\" component={AddressEntry}/>\n      <Route exact path=\"/account/address-book/edit/:id?\" component={AddressEntry}/>\n      <Route exact path=\"/account/orders/:id\" component={OrderDetails}/>\n      <Route path=\"/account/:tab?\" component={Account}/>\n      <Route exact path=\"/blog\" component={BlogRoll}/>\n      <Route path=\"/blog/:slug\" component={BlogEntry}/>\n      <Route path=\"/login\" component={LogIn}/>\n      <Route path=\"/register\" component={Register}/>\n      <Route path=\"/search\" component={Search}/>\n      <Route path=\"/\" component={NotFound404}/>\n    </Switch>\n  );\n};\n\nexport default Routes;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nexport const CHANGE_THEME_TO_DARK = 'CHANGE_THEME_TO_DARK';\nexport const CHANGE_THEME_TO_LIGHT = 'CHANGE_THEME_TO_LIGHT';\nexport const SET_IS_AUTHORING = 'SET_IS_AUTHORING';\nexport const CHANGE_BORDER_RADIUS = 'CHANGE_BORDER_RADIUS';\nexport const TOGGLE_BOX_SHADOW = 'TOGGLE_BOX_SHADOW';\nexport const TOGGLE_TOP_NAVIGATION = 'TOGGLE_TOP_NAVIGATION';\n\nexport function changeThemeToDark() {\n  return {\n    type: CHANGE_THEME_TO_DARK,\n  };\n}\n\nexport function changeThemeToLight() {\n  return {\n    type: CHANGE_THEME_TO_LIGHT,\n  };\n}\n\nexport function setIsAuthoring(isAuthoring) {\n  return {\n    type: SET_IS_AUTHORING,\n    payload: { isAuthoring }\n  };\n}\n\nexport function changeBorderRadius() {\n  return {\n    type: CHANGE_BORDER_RADIUS,\n  };\n}\n\nexport function toggleBoxShadow() {\n  return {\n    type: TOGGLE_BOX_SHADOW,\n  };\n}\n\nexport function toggleTopNavigation() {\n  return {\n    type: TOGGLE_TOP_NAVIGATION,\n  };\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport {\n  CHANGE_THEME_TO_DARK,\n  CHANGE_THEME_TO_LIGHT,\n  SET_IS_AUTHORING,\n  CHANGE_BORDER_RADIUS,\n  TOGGLE_BOX_SHADOW,\n  TOGGLE_TOP_NAVIGATION\n} from '../actions/themeActions';\n\nconst initialState = {\n  isAuthoring: false,\n  className: 'theme-light',\n  squaredCorners: false,\n  withBoxShadow: false,\n  topNavigation: false,\n};\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case CHANGE_THEME_TO_DARK:\n      return { ...state, className: 'theme-dark' };\n    case CHANGE_THEME_TO_LIGHT:\n      return { ...state, className: 'theme-light' };\n    case SET_IS_AUTHORING:\n      return { ...state, isAuthoring: action.payload.isAuthoring };\n    case CHANGE_BORDER_RADIUS:\n      return { ...state, squaredCorners: !state.squaredCorners };\n    case TOGGLE_BOX_SHADOW:\n      return { ...state, withBoxShadow: !state.withBoxShadow };\n    case TOGGLE_TOP_NAVIGATION:\n      return { ...state, topNavigation: !state.topNavigation };\n    default:\n      return state;\n  }\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nexport function toLookupTable(array, prop = 'id') {\n  return array.reduce(\n    (table, item) => {\n      table[item[prop]] = item;\n      return table;\n    },\n    {}\n  )\n}\n\nexport function shuffle(source) {\n  let\n    array = [...source],\n    currentIndex = array.length,\n    temporaryValue,\n    randomIndex;\n\n  // While there remain elements to shuffle...\n  while (0 !== currentIndex) {\n\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n\n    // And swap it with the current element.\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { FETCH_GRAPH, FETCH_GRAPH_COMPLETE, FETCH_GRAPH_FAILED } from '../actions/contentActions';\nimport { byIdLoadingKey, removeProp } from '../../util/redux';\nimport { toLookupTable } from '../../util/array';\nimport { LOGIN_COMPLETE } from '../actions/usersActions';\n\nconst initialState = {\n  nav: null,\n  header: null,\n  home: null,\n  footer: null,\n  post: null,\n  categories: null,\n  loading: {},\n  errors: {}\n};\n\nexport default function contentReducer(state = initialState, action) {\n  const { payload, type } = action;\n  switch (type) {\n    case LOGIN_COMPLETE: {\n      return {\n        ...state,\n        home: null,\n        loading: removeProp(state.loading, byIdLoadingKey(FETCH_GRAPH, 'home'))\n      }\n    }\n    case FETCH_GRAPH: {\n      return {\n        ...state,\n        loading: {\n          ...state.loading,\n          [FETCH_GRAPH]: true,\n          ...payload.requirements.reduce(\n            (table, req) => {\n              const key = byIdLoadingKey(FETCH_GRAPH, req);\n              table[key] = true;\n              return table;\n            },\n            {}\n          )\n        }\n      };\n    }\n    case FETCH_GRAPH_COMPLETE: {\n      return {\n        ...state,\n        loading: {\n          ...state.loading,\n          [FETCH_GRAPH]: false,\n          ...action.rootPayload.requirements.reduce(\n            (table, req) => {\n              const key = byIdLoadingKey(FETCH_GRAPH, req);\n              table[key] = false;\n              return table;\n            },\n            {}\n          )\n        },\n        nav: getNav(payload) || state.nav,\n        header: getHeader(payload) || state.header,\n        home: getHome(payload) || state.home,\n        footer: getFooter(payload) || state.footer,\n        post: getPosts(state.post, payload),\n        categories: getCategories(state.categories, payload),\n        errors: removeProp(state.errors, FETCH_GRAPH)\n      };\n    }\n    case FETCH_GRAPH_FAILED: {\n      return {\n        ...state,\n        loading: removeProp(\n          state.loading,\n          FETCH_GRAPH,\n          ...action.rootPayload.requirements.map(req => byIdLoadingKey(FETCH_GRAPH, req))\n        ),\n        errors: {\n          ...state.errors,\n          [FETCH_GRAPH]: payload.errors\n        }\n      }\n    }\n    default:\n      return state;\n  }\n}\n\nfunction getHeader(data) {\n  return data && data.header ? data.header.items[0] : null;\n}\n\nfunction getFooter(data) {\n  return data && data.footer ? data.footer.items[0] : null;\n}\n\nfunction getNav(data) {\n  return data && data.nav ? data.nav.items : null;\n}\n\nfunction getHome(data) {\n  if (!data || !data.home)\n    return null;\n\n  const posts = data.post && data.post.items.length > 0 ? data.post.items : [];\n  const sections = data.home.items[0].sections_o.item;\n\n  return sections\n    .map(({ component, key, value }) => ({\n      localId: key,\n      label: value,\n      ...component,\n      ...component.contentType === '/component/blog_teaser' ? { posts_o: posts } : {}\n    }))\n    .filter(\n      (component) => ![\n        '/component/header',\n        '/component/footer'\n      ].includes(component.contentType)\n    );\n\n}\n\nfunction getPosts(state, payload) {\n  const data = payload && payload.post ? payload.post : null;\n  if (!data || !data && !state) {\n    return state;\n  }\n  return {\n    bySlug: {\n      ...state ? state.bySlug : {},\n      ...toLookupTable(data.items, 'slug_s')\n    }\n  };\n}\n\nfunction getCategories(state, payload) {\n  const data = payload && payload.categories ? payload.categories : null;\n  if (!data || !data && !state)\n    return state;\n  return {\n    byId: toLookupTable(payload.categories.items[0].items.item, 'key')\n  }\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport {\n  ADD_USER_ADDRESS,\n  ADD_USER_ADDRESS_COMPLETE,\n  ADD_USER_ADDRESS_FAILED,\n  EDIT_USER_ADDRESS,\n  EDIT_USER_ADDRESS_COMPLETE,\n  EDIT_USER_ADDRESS_FAILED, FETCH_ORDER, FETCH_ORDER_COMPLETE, FETCH_ORDER_FAILED,\n  FETCH_ORDERS,\n  FETCH_ORDERS_COMPLETE,\n  FETCH_ORDERS_FAILED, LOGIN,\n  LOGIN_COMPLETE,\n  LOGIN_FAILED,\n  LOGOUT_COMPLETE, REGISTRATION_COMPLETE,\n  REMOVE_USER_ADDRESS,\n  REMOVE_USER_ADDRESS_COMPLETE,\n  REMOVE_USER_ADDRESS_FAILED,\n  RESET_LOGIN_REDIRECT,\n  SET_LOGIN_REDIRECT, SET_PERSONA,\n  SET_USER_ADDRESS_DEFAULTS,\n  SET_USER_ADDRESS_DEFAULTS_COMPLETE,\n  SET_USER_ADDRESS_DEFAULTS_FAILED,\n  SUBMIT_REGISTRATION_FAILED\n} from '../actions/usersActions';\nimport { getRootType, removeProp } from '../../util/redux';\nimport { CHECKOUT_COMPLETE } from '../actions/productsActions';\nimport { toLookupTable } from '../../util/array';\n\nconst initialState = {\n  loading: {},\n  errors: {},\n  user: null,\n  orders: {},\n  persona: null,\n  loginRedirect: '/account',\n  registerConfirmPending: false\n};\n\nexport default function usersReducer(state = initialState, action) {\n  let { root, type, payload } = action;\n  if (!root) root = getRootType(type);\n  switch (type) {\n\n    case SET_PERSONA:\n      return {\n        ...state,\n        persona: payload.persona\n      };\n\n    case LOGIN:\n    case FETCH_ORDER:\n    case FETCH_ORDERS:\n    case ADD_USER_ADDRESS:\n    case EDIT_USER_ADDRESS:\n    case REMOVE_USER_ADDRESS:\n    case SET_USER_ADDRESS_DEFAULTS:\n      return {\n        ...state,\n        errors: removeProp(state.errors, type),\n        loading: {\n          ...state.loading,\n          [type]: true\n        }\n      };\n\n    case CHECKOUT_COMPLETE:\n    case FETCH_ORDER_COMPLETE:\n      return {\n        ...state,\n        orders: {\n          ...state.orders,\n          [payload.id]: payload\n        }\n      };\n\n    case LOGIN_COMPLETE:\n    case ADD_USER_ADDRESS_COMPLETE:\n    case EDIT_USER_ADDRESS_COMPLETE:\n    case REMOVE_USER_ADDRESS_COMPLETE:\n    case SET_USER_ADDRESS_DEFAULTS_COMPLETE:\n      return {\n        ...state,\n        persona: payload.attributes,\n        user: payload,\n        loading: {\n          ...state.loading,\n          [root]: false\n        }\n      };\n\n    case FETCH_ORDERS_COMPLETE:\n      return {\n        ...state,\n        errors: removeProp(state.errors, FETCH_ORDERS),\n        loading: {\n          ...state.loading,\n          [FETCH_ORDERS]: false\n        },\n        orders: toLookupTable(payload.items)\n      };\n\n    case LOGOUT_COMPLETE:\n      return {\n        ...state,\n        user: null\n      };\n\n    case LOGIN_FAILED:\n    case FETCH_ORDER_FAILED:\n    case ADD_USER_ADDRESS_FAILED:\n    case EDIT_USER_ADDRESS_FAILED:\n    case REMOVE_USER_ADDRESS_FAILED:\n    case SET_USER_ADDRESS_DEFAULTS_FAILED:\n      return {\n        ...state,\n        loading: {\n          ...state.loading,\n          [root]: false\n        },\n        errors: {\n          [root]: payload.message\n        }\n      };\n\n    case SUBMIT_REGISTRATION_FAILED:\n      return {\n        ...state,\n        errors: {\n          registration: payload.response.message\n        }\n      };\n    case FETCH_ORDERS_FAILED:\n      return payload.status === 403 ? {\n        ...state,\n        user: null\n      } : state;\n\n    case SET_LOGIN_REDIRECT:\n      return {\n        ...state,\n        loginRedirect: payload.url\n      };\n    case RESET_LOGIN_REDIRECT:\n      return {\n        ...state,\n        loginRedirect: initialState.loginRedirect\n      };\n\n    case REGISTRATION_COMPLETE:\n      return {\n        ...state,\n        registerConfirmPending: true\n      };\n\n    default:\n      return state;\n  }\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { LOGIN_COMPLETE } from '../actions/usersActions';\nimport {\n  ADD_TO_CART,\n  ADD_TO_CART_COMPLETE,\n  ADD_TO_CART_FAILED,\n  CHECKOUT_COMPLETE,\n  FACETS_CHANGED,\n  FETCH_CART_COMPLETE,\n  FETCH_PRODUCT,\n  FETCH_PRODUCT_COMPLETE,\n  FETCH_PRODUCT_FAILED,\n  FETCH_PRODUCTS,\n  FETCH_PRODUCTS_COMPLETE,\n  FETCH_PRODUCTS_FAILED,\n  FETCH_SHIPPING_METHODS,\n  FETCH_SHIPPING_METHODS_COMPLETE,\n  FETCH_SHIPPING_METHODS_FAILED,\n  KEYWORDS_CHANGED, REMOVE_FROM_CART,\n  REMOVE_FROM_CART_COMPLETE,\n  UPDATE_CART,\n  UPDATE_CART_COMPLETE, UPDATE_CART_FAILED, UPDATE_CART_ITEM_QUANTITY,\n  UPDATE_CART_ITEM_QUANTITY_COMPLETE, UPDATE_CART_ITEM_QUANTITY_FAILED\n} from '../actions/productsActions';\nimport { toLookupTable } from '../../util/array';\nimport { byIdLoadingKey, getRootType, removeProp } from '../../util/redux';\n\nconst initialState = {\n  byId: null,\n  cart: null,\n  facets: [],\n  loading: {},\n  errors: {},\n  query: {\n    offset: 0,\n    limit: 10,\n    locale: 'en_us'\n  }\n};\n\nexport default function productReducer(state = initialState, action) {\n  let { root, type, payload } = action;\n  if (root == null) root = getRootType(type);\n  switch (type) {\n\n    case ADD_TO_CART:\n    case UPDATE_CART:\n    case REMOVE_FROM_CART:\n    case UPDATE_CART_ITEM_QUANTITY:\n      return {\n        ...state,\n        errors: removeProp(state.errors, type),\n        loading: {\n          ...state.loading,\n          [type]: true\n        }\n      };\n\n    case CHECKOUT_COMPLETE:\n      return {\n        ...state,\n        cart: null\n      };\n\n    case FETCH_PRODUCTS:\n      return {\n        ...state,\n        errors: removeProp(state.errors, FETCH_PRODUCTS),\n        loading: {\n          ...state.loading,\n          [FETCH_PRODUCTS]: true\n        },\n        query: payload.query\n          ? {\n            ...state.query,\n            ...payload.query\n          }\n          : state.query\n      };\n\n    case FETCH_PRODUCTS_COMPLETE:\n      return {\n        ...state,\n        loading: {\n          ...state.loading,\n          [FETCH_PRODUCTS]: false\n        },\n        query: {\n          ...state.query,\n          total: payload.total\n        },\n        byId: toLookupTable(payload.items),\n        facets: payload.facets\n      };\n\n\n\n    case FETCH_PRODUCT:\n      return {\n        ...state,\n        errors: removeProp(state.errors, FETCH_PRODUCT),\n        loading: {\n          ...state.loading,\n          [byIdLoadingKey(root, payload.id)]: true\n        }\n      };\n\n    case FETCH_PRODUCT_COMPLETE:\n      return {\n        ...state,\n        loading: {\n          ...state.loading,\n          [byIdLoadingKey(root, payload.item.id)]: false\n        },\n        byId: {\n          ...state.byId,\n          [payload.item.id]: payload.item\n        }\n      };\n\n    case LOGIN_COMPLETE:\n      return payload.cart ? {\n        ...state,\n        cart: payload.cart\n      } : state;\n\n    case FETCH_CART_COMPLETE:\n    case UPDATE_CART_COMPLETE:\n    case ADD_TO_CART_COMPLETE:\n    case REMOVE_FROM_CART_COMPLETE:\n    case UPDATE_CART_ITEM_QUANTITY_COMPLETE:\n      return {\n        ...state,\n        cart: payload,\n        loading: {\n          ...state.loading,\n          [root]: false\n        }\n      };\n\n    case FACETS_CHANGED:\n      return {\n        ...state,\n        query: {\n          ...state.query,\n          ...payload.query\n        }\n      };\n\n    case KEYWORDS_CHANGED:\n      return {\n        ...state,\n        query: {\n          ...state.query,\n          keywords: payload.keywords\n        }\n      };\n\n    case FETCH_SHIPPING_METHODS:\n      return {\n        ...state,\n        errors: removeProp(state.errors, FETCH_SHIPPING_METHODS),\n        loading: {\n          ...state.loading,\n          [FETCH_SHIPPING_METHODS]: true\n        }\n      };\n\n    case FETCH_SHIPPING_METHODS_COMPLETE:\n      return {\n        ...state,\n        shippingMethods: payload,\n        loading: {\n          ...state.loading,\n          [FETCH_SHIPPING_METHODS]: false\n        }\n      };\n\n\n    case ADD_TO_CART_FAILED:\n    case UPDATE_CART_FAILED:\n    case FETCH_PRODUCT_FAILED:\n    case FETCH_PRODUCTS_FAILED:\n    case FETCH_SHIPPING_METHODS_FAILED:\n    case UPDATE_CART_ITEM_QUANTITY_FAILED:\n      return {\n        ...state,\n        errors: {\n          ...state.errors,\n          [root]: payload.message || payload.response.message\n        },\n        loading: {\n          ...state.loading,\n          [root]: false\n        }\n      };\n\n    default:\n      return state;\n  }\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { ofType } from 'redux-observable';\nimport {\n  LOGIN,\n  LOGOUT,\n  FETCH_ORDERS,\n  UNAUTHORIZED,\n  SUBMIT_REGISTRATION,\n  fetchOrdersComplete,\n  fetchOrdersFailed,\n  loginComplete,\n  loginFailed,\n  logoutComplete,\n  logoutFailed,\n  submitRegistrationComplete,\n  submitRegistrationFailed,\n  ADD_USER_ADDRESS,\n  addAddressComplete,\n  addAddressFailed,\n  EDIT_USER_ADDRESS,\n  editAddressComplete,\n  editAddressFailed,\n  REMOVE_USER_ADDRESS,\n  removeAddressFailed,\n  removeAddressComplete,\n  SET_USER_ADDRESS_DEFAULTS,\n  setAddressDefaultsComplete,\n  setAddressDefaultsFailed,\n  FETCH_ORDER,\n  fetchOrderFailed,\n  fetchOrderComplete\n} from '../actions/usersActions';\nimport { catchError, ignoreElements, map, switchMap, tap, withLatestFrom } from 'rxjs/operators';\nimport { ajax } from 'rxjs/ajax';\nimport { errorOp, mapOp } from '../../util/redux';\n\nexport function submitRegistrationEpic(action$, state$) {\n  return action$.pipe(\n    ofType(SUBMIT_REGISTRATION),\n    switchMap(() => {\n      const data = state$.value.form.registration.values;\n      return ajax.post(\n        `/api/1/customer/signup.json`,\n        data,\n        {\n          'Content-Type': 'application/json; charset=UTF-8'\n        }\n      ).pipe(\n        catchError((error) => [error])\n      );\n    }),\n    map((response) => {\n      if (response.name === 'AjaxError') {\n        return submitRegistrationFailed(response);\n      } else {\n        return submitRegistrationComplete(response.response);\n      }\n    })\n  );\n}\n\nexport const loginEpic = (action$, state$) => action$.pipe(\n  ofType(LOGIN),\n  switchMap(({ payload }) => ajax\n    .post(\n      `/api/1/security/login.json`,\n      payload.data,\n      { 'Content-Type': 'application/json; charset=UTF-8' }\n    ).pipe(\n      tap(() => setTimeout(() =>\n        payload.redirect &&\n        payload.redirect(state$.value.users.loginRedirect)\n      )),\n      errorOp\n    )\n  ),\n  mapOp(loginComplete, loginFailed)\n);\n\nexport const logoutEpic = (action$) => action$.pipe(\n  ofType(LOGOUT),\n  switchMap(({ payload }) =>\n    ajax\n      .post(`/api/1/security/logout.json`)\n      .pipe(\n        withLatestFrom([payload.redirect]),\n        errorOp\n      )\n  ),\n  map(([response, redirect]) => {\n    if (response.name === 'AjaxError') {\n      return logoutFailed(response);\n    } else {\n      redirect('/');\n      return logoutComplete(response.response);\n    }\n  })\n);\n\nexport const unauthorizedEpic = (action$) => action$.pipe(\n  ofType(UNAUTHORIZED),\n  tap(({ payload }) => payload.redirect('/login')),\n  ignoreElements()\n);\n\nexport const fetchOrdersEpic = (action$) => action$.pipe(\n  ofType(FETCH_ORDERS),\n  switchMap(() => ajax\n    .get(`/api/1/customer/orders.json`)\n    .pipe(errorOp)\n  ),\n  map((response) =>\n    (response.name === 'AjaxError')\n      ? fetchOrdersFailed(response)\n      : fetchOrdersComplete(response.response)\n  )\n);\n\nexport const fetchOrderEpic = (action$) => action$.pipe(\n  ofType(FETCH_ORDER),\n  switchMap(({ payload }) => ajax\n    .get(`/api/1/customer/orders/${payload.id}.json`)\n    .pipe(errorOp)\n  ),\n  mapOp(fetchOrderComplete, fetchOrderFailed)\n);\n\nexport const addUserAddressEpic = (action$) => action$.pipe(\n  ofType(ADD_USER_ADDRESS),\n  switchMap(({ payload }) => ajax\n    .post(\n      `/api/1/customer/update.json`,\n      { addAddress: [payload.address] },\n      { 'Content-Type': 'application/json; charset=UTF-8' }\n    ).pipe(errorOp)\n  ),\n  mapOp(addAddressComplete, addAddressFailed)\n);\n\nexport const editUserAddressEpic = (action$) => action$.pipe(\n  ofType(EDIT_USER_ADDRESS),\n  switchMap(({ payload }) => ajax\n    .post(\n      `/api/1/customer/update.json`,\n      { changeAddress: [payload.address] },\n      { 'Content-Type': 'application/json; charset=UTF-8' }\n    ).pipe(errorOp)\n  ),\n  mapOp(editAddressComplete, editAddressFailed)\n);\n\nexport const removeUserAddressEpic = (action$) => action$.pipe(\n  ofType(REMOVE_USER_ADDRESS),\n  switchMap(({ payload }) => ajax\n    .post(\n      `/api/1/customer/update.json`,\n      { removeAddress: [{ id: payload.id }] },\n      { 'Content-Type': 'application/json; charset=UTF-8' }\n    ).pipe(errorOp)\n  ),\n  mapOp(removeAddressComplete, removeAddressFailed)\n);\n\nexport const setAsDefaultAddressEpic = (action$) => action$.pipe(\n  ofType(SET_USER_ADDRESS_DEFAULTS),\n  switchMap(({ payload }) => ajax\n    .post(\n      `/api/1/customer/update.json`,\n      {\n        ...payload.address.isBillingDefault ? { defaultBillingAddress: payload.address.id } : {},\n        ...payload.address.isShippingDefault ? { defaultShippingAddress: payload.address.id } : {}\n      },\n      { 'Content-Type': 'application/json; charset=UTF-8' }\n    )\n  ),\n  mapOp(setAddressDefaultsComplete, setAddressDefaultsFailed)\n);\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { loader } from 'graphql.macro';\nimport { ofType } from 'redux-observable';\nimport { FETCH_GRAPH, fetchGraphComplete, fetchGraphFailed } from '../actions/contentActions';\nimport { catchError, map, switchMap } from 'rxjs/operators';\nimport { capitalize } from '../../util/string';\nimport { ajax } from 'rxjs/ajax';\nimport { of } from 'rxjs';\n\nconst FragmentMap = {\n  home: loader('../../queries/Home.fragment.graphql').loc.source.body,\n  nav: loader('../../queries/Nav.fragment.graphql').loc.source.body,\n  header: loader('../../queries/Header.fragment.graphql').loc.source.body,\n  footer: loader('../../queries/Footer.fragment.graphql').loc.source.body,\n  post: loader('../../queries/Post.fragment.graphql').loc.source.body,\n  categories: loader('../../queries/Categories.fragment.graphql').loc.source.body,\n  blog: loader('../../queries/Blog.graphql').loc.source.body,\n  Hero: loader('../../queries/Hero.fragment.graphql').loc.source.body,\n  ContentSideImage: loader('../../queries/ContentSideImage.fragment.graphql').loc.source.body,\n  FeatureList: loader('../../queries/FeatureList.fragment.graphql').loc.source.body,\n  Testimonials: loader('../../queries/Testimonials.fragment.graphql').loc.source.body,\n};\n\nexport function fetchGraphEpic(action$) {\n  return action$.pipe(\n    ofType(FETCH_GRAPH),\n    switchMap(({ payload }) => {\n      const { requirements, variables } = payload;\n\n      const fragments = [];\n      const queryPieces = ['\\n'];\n      const vars = {};\n      let varSignature = '';\n\n      if (variables && variables.length) {\n        const signaturePieces = [];\n        variables.forEach((variable) => {\n          if (variable.value != null) {\n            vars[variable.name] = variable.value;\n          }\n          signaturePieces.push(`$${variable.name}: ${variable.type}`);\n        });\n        varSignature = `(${signaturePieces.join(', ')})`;\n      }\n\n      requirements.forEach((req) => {\n        queryPieces.push(`...${capitalize(req)}\\n`);\n        fragments.push(FragmentMap[req]);\n      });\n\n      const query = `query CustomGraph${varSignature} {${queryPieces.join('')}}\\n${fragments.join('\\n')}`;\n\n      return ajax.post(\n        process.env.REACT_APP_GRAPHQL_SERVER,\n        {\n          query,\n          variables: vars\n        },\n        { 'Content-Type': 'application/json; charset=UTF-8' }\n      ).pipe(\n        catchError((response) => of(response)),\n        map(({ response, name }) => (\n          (name !== 'AjaxError' && !response.errors)\n            ? fetchGraphComplete(response.data, payload)\n            : fetchGraphFailed(response, payload)\n        ))\n      );\n\n    })\n  );\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { catchError, map, switchMap } from 'rxjs/operators';\nimport { ajax } from 'rxjs/ajax';\nimport { of } from 'rxjs';\n\nimport { loader } from 'graphql.macro';\nimport {\n  FETCH_GRAPH,\n  fetchGraphComplete,\n  fetchGraphFailed\n} from '../actions/contentActions';\nimport { combineEpics, ofType } from 'redux-observable';\nimport { capitalize } from '../../util/string';\nimport {\n  fetchProductEpic,\n  fetchProductsEpic,\n  fetchCartEpic,\n  addToCartEpic,\n  removeFromCartEpic,\n  updateCartItemEpic,\n  facetsChangedEpic,\n  updateCartEpic,\n  checkoutEpic\n} from './products';\nimport {\n  addUserAddressEpic,\n  editUserAddressEpic, fetchOrderEpic,\n  fetchOrdersEpic,\n  loginEpic,\n  logoutEpic, removeUserAddressEpic, setAsDefaultAddressEpic,\n  unauthorizedEpic\n} from './users';\nimport { fetchGraphEpic } from './content';\n\n// (action$: Observable<Action>, state$: StateObservable<State>): Observable<Action>;\n\nexport default combineEpics(\n  fetchProductEpic,\n  fetchProductsEpic,\n  fetchGraphEpic,\n  fetchCartEpic,\n  addToCartEpic,\n  removeFromCartEpic,\n  updateCartItemEpic,\n  fetchOrdersEpic,\n  loginEpic,\n  logoutEpic,\n  unauthorizedEpic,\n  facetsChangedEpic,\n  addUserAddressEpic,\n  editUserAddressEpic,\n  removeUserAddressEpic,\n  setAsDefaultAddressEpic,\n  updateCartEpic,\n  checkoutEpic,\n  fetchOrderEpic\n);\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { ofType } from 'redux-observable';\nimport { switchMap, mapTo, map, withLatestFrom, pluck, tap } from 'rxjs/operators';\nimport { ajax } from 'rxjs/ajax';\n\nimport {\n  FETCH_CART,\n  ADD_TO_CART,\n  FETCH_PRODUCT,\n  FETCH_PRODUCTS,\n  FACETS_CHANGED,\n  REMOVE_FROM_CART,\n  UPDATE_CART_ITEM_QUANTITY,\n  UPDATE_CART,\n  UPDATE_CART_COMPLETE,\n  FETCH_SHIPPING_METHODS,\n  CHECKOUT,\n  addToCartComplete,\n  fetchCartComplete,\n  fetchProductComplete,\n  fetchProductsComplete,\n  updateCartItemQuantityComplete,\n  removeFromCartComplete,\n  fetchProducts,\n  fetchProductsFailed,\n  fetchCartFailed,\n  fetchProductFailed,\n  updateCartComplete,\n  updateCartFailed,\n  fetchShippingMethodsComplete,\n  fetchShippingMethodsFailed,\n  checkoutComplete,\n  checkoutFailed,\n  updateCartItemQuantityFailed,\n  addToCartFailed, removeFromCartFailed\n} from '../actions/productsActions';\nimport { errorOp, mapOp } from '../../util/redux';\n\nexport const fetchProductEpic = (action$) => action$.pipe(\n  ofType(FETCH_PRODUCT),\n  switchMap(({ payload }) =>\n    ajax\n      .get(`/api/1/product/${payload.id}.json`)\n      .pipe(errorOp)\n  ),\n  mapOp(fetchProductComplete, fetchProductFailed)\n);\n\nexport const fetchProductsEpic = (action$, state$) => action$.pipe(\n  ofType(FETCH_PRODUCTS),\n  withLatestFrom(state$.pipe(pluck('products'))),\n  switchMap(([action, state]) => {\n    const { query } = state;\n    const qs = [];\n\n    Object.entries(query).forEach(([key, value]) => {\n      if (key !== 'total' && value != null && value !== '') {\n        if (Array.isArray(value)) {\n          (value.length > 0) && qs.push(`filter=${key}:${value.join(',')}`)\n        } else if (typeof value === 'object') {\n          qs.push(`filter=${key}:${value.min};${value.max}`);\n        } else {\n          qs.push(`${key}=${value}`);\n        }\n      }\n    });\n\n    return ajax\n      .get(`/api/1/product/all.json?${qs.join('&')}`)\n      .pipe(errorOp);\n  }),\n  mapOp(fetchProductsComplete, fetchProductsFailed)\n);\n\nexport const fetchCartEpic = (action$) => action$.pipe(\n  ofType(FETCH_CART),\n  switchMap(() => ajax.get('/api/1/cart/current.json').pipe(errorOp)),\n  mapOp(fetchCartComplete, fetchCartFailed)\n);\n\nexport const addToCartEpic = (action$) => action$.pipe(\n  ofType(ADD_TO_CART),\n  switchMap(\n    ({ payload }) => ajax.post(\n      '/api/1/cart/item/add.json',\n      payload,\n      { 'Content-Type': 'application/json; charset=UTF-8' }\n    ).pipe(errorOp)\n  ),\n  mapOp(addToCartComplete, addToCartFailed)\n);\n\nexport const updateCartItemEpic = (action$) => action$.pipe(\n  ofType(UPDATE_CART_ITEM_QUANTITY),\n  switchMap(\n    ({ payload }) => ajax.post(\n      '/api/1/cart/item/change.json',\n      { itemId: payload.id, quantity: payload.quantity },\n      { 'Content-Type': 'application/json; charset=UTF-8' }\n    ).pipe(errorOp)\n  ),\n  mapOp(updateCartItemQuantityComplete, updateCartItemQuantityFailed)\n);\n\nexport const updateCartEpic = (action$) => action$.pipe(\n  ofType(UPDATE_CART),\n  switchMap(({ payload }) =>\n    ajax.post(\n      '/api/1/cart/update.json',\n      payload,\n      { 'Content-Type': 'application/json; charset=UTF-8' }\n    ).pipe(errorOp)\n  ),\n  mapOp(updateCartComplete, updateCartFailed)\n);\n\nexport const fetchShippingMethodsEpic = (action$) => action$.pipe(\n  ofType(UPDATE_CART_COMPLETE, FETCH_SHIPPING_METHODS),\n  switchMap(() =>\n    ajax\n      .get('/api/1/cart/shipping-methods.json')\n      .pipe(errorOp)\n  ),\n  mapOp(fetchShippingMethodsComplete, fetchShippingMethodsFailed)\n);\n\nexport const removeFromCartEpic = (action$) => action$.pipe(\n  ofType(REMOVE_FROM_CART),\n  switchMap(({ payload }) =>\n    ajax.post(\n      '/api/1/cart/item/change.json',\n      { itemId: payload.id, quantity: 0 },\n      { 'Content-Type': 'application/json; charset=UTF-8' }\n    ).pipe(errorOp)\n  ),\n  mapOp(removeFromCartComplete, removeFromCartFailed)\n);\n\nexport const facetsChangedEpic = (action$) => action$.pipe(\n  ofType(FACETS_CHANGED),\n  mapTo(fetchProducts())\n);\n\nexport const checkoutEpic = (action$) => action$.pipe(\n  ofType(CHECKOUT),\n  switchMap(({ payload }) => ajax\n    .post(\n      `/api/1/cart/checkout.json`,\n      payload.data.card,\n      { 'Content-Type': 'application/json; charset=UTF-8' }\n    )\n    .pipe(\n      tap(({ response }) => payload.redirect(`/account/orders/${response.id}`)),\n      errorOp\n    )\n  ),\n  mapOp(checkoutComplete, checkoutFailed)\n);\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { combineReducers, createStore, applyMiddleware, compose } from 'redux';\nimport { reducer as reduxFormReducer } from 'redux-form';\nimport { createEpicMiddleware } from 'redux-observable';\nimport {\n  themeReducer,\n  contentReducer,\n  usersReducer,\n  productsReducer\n} from './reducers';\n\nimport rootEpic from './epics/epics';\nimport { loginComplete, setPersona } from './actions/usersActions';\nimport { setIsAuthoring } from './actions/themeActions';\n\nconst reducer = combineReducers({\n  form: reduxFormReducer,\n  theme: themeReducer,\n  content: contentReducer,\n  users: usersReducer,\n  products: productsReducer\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst epicMiddleware = createEpicMiddleware();\n\nconst store = createStore(\n  reducer,\n  composeEnhancers(\n    applyMiddleware(epicMiddleware)\n  )\n);\n\nconst json = document.getElementById('userJSON').innerHTML;\ntry {\n  const user = JSON.parse(json);\n  user && store.dispatch(loginComplete(user));\n} catch (e) {\n  (process.env.NODE_ENV === 'development') && console.error('Invalid syntax for user JSON.', e.message);\n}\n\nlet persona = null;\ntry {\n  const json = document.getElementById('personaJSON').innerHTML;\n  persona = JSON.parse(json);\n  persona && store.dispatch(setPersona(persona))\n} catch (e) {\n  (process.env.NODE_ENV === 'development') && console.error('Invalid syntax for persona JSON.', e.message);\n}\n\n// True if the site is being view via authoring (studio).\n// False if it's the live site.\nconst isAuthoring = ['true']\n  .includes(\n    document\n      .querySelector('html')\n      .getAttribute('data-craftercms-preview')\n  );\n\nif (isAuthoring) {\n  store.dispatch(setIsAuthoring(isAuthoring));\n}\n\nepicMiddleware.run(rootEpic);\n\nexport default store;\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/* eslint-disable camelcase */\nimport es from './es/main.json';\nimport en from './en/main.json';\n\nexport default {\n  en: { ...en },\n  es: { ...es  }\n};\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport resources from './resources';\n\nexport const config = {\n  interpolation: { escapeValue: false }, // React already does escaping\n  lng: 'en',\n  resources,\n};\n\nexport { resources };\n","/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { catchError, map } from 'rxjs/operators';\nimport { of } from 'rxjs';\n\nexport function removeProp(branch, ...keys) {\n  const next = { ...branch };\n  keys.forEach((key) => {\n    delete next[key];\n  });\n  return next;\n}\n\nexport const errorOp = catchError((response) => of(response));\n\nexport const mapOp = (success, fail) => map(\n  ({ response, name }) =>\n    (name !== 'AjaxError')\n      ? success(response)\n      : fail(response)\n);\n\nexport function getRootType(type) {\n  return type.replace(/_FAILED|_COMPLETE/g, '');\n}\n\nexport function byIdLoadingKey(root, id) {\n  return `${root}[${id}]`;\n}\n","\n/*\n * MIT License\n *\n * Copyright (c) 2019 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nexport const FETCH_GRAPH = 'FETCH_GRAPH';\nexport const FETCH_GRAPH_COMPLETE = 'FETCH_GRAPH_COMPLETE';\nexport const FETCH_GRAPH_FAILED = 'FETCH_GRAPH_FAILED';\n\nexport function fetchGraph(requirements, variables) {\n  return {\n    type: FETCH_GRAPH,\n    payload: { requirements, variables }\n  };\n}\n\nexport function fetchGraphComplete(data, rootPayload) {\n  return {\n    type: FETCH_GRAPH_COMPLETE,\n    payload: data,\n    rootPayload\n  };\n}\n\nexport function fetchGraphFailed(response, rootPayload) {\n  return {\n    type: FETCH_GRAPH_FAILED,\n    payload: response,\n    rootPayload\n  };\n}\n"],"sourceRoot":""}